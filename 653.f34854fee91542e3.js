"use strict";(self.webpackChunktswgestion=self.webpackChunktswgestion||[]).push([[653],{4508:(nt,oe,_)=>{_.d(oe,{q:()=>Y});var g=_(2177),N=_(4650),e=_(529);let Y=(()=>{class W{constructor(f){this.http=f}registerBureau(f){return this.http.post(g.k.CREATE_BUREAU,f)}updateBureau(f,V){return this.http.patch(g.k.UPDATE_BUREAU+f,V)}getAllBureaux(){return this.http.get(g.k.ALL_BUREAU)}getAllBureauxForMvt(){return this.http.get(g.k.ALL_BUREAU_FOR_MVT)}singleBureau(f){return this.http.get(g.k.GET_SINGLE_BUREAU+f)}siegeBureau(f){return this.http.get(g.k.GET_SIEGE_BUREAU+f)}getAllBureauByCountry(f){return this.http.get(g.k.GET_BUREAU_BY_COUNTRY+f)}getAllBureauByZone(f){return this.http.get(g.k.GET_BUREAU_BY_ZONE+f)}removeBureau(f){return this.http.delete(g.k.DELETED_BUREAU+f)}}return W.\u0275fac=function(f){return new(f||W)(N.LFG(e.eN))},W.\u0275prov=N.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})()},7729:(nt,oe,_)=>{_.d(oe,{T:()=>Y});var g=_(2177),N=_(4650),e=_(529);let Y=(()=>{class W{constructor(f){this.http=f}registerCountry(f){return this.http.post(g.k.CREATE_COUNTRY,f)}updateCountry(f,V){return this.http.patch(g.k.UPDATE_COUNTRY+f,V)}getAllCountries(){return this.http.get(g.k.ALL_COUNTRY)}getAllCountriesciv(){return this.http.get(g.k.ALL_COUNTRY_CIV)}getSingleCountry(f){return this.http.get(g.k.GET_SINGLE_COUNTRY+f)}removeCountry(f){return this.http.delete(g.k.DELETED_COUNTRY+f)}registerZone(f){return this.http.post(g.k.CREATE_ZONE,f)}getsingleZone(f){return this.http.get(g.k.GET_SINGLE_ZONE_FOR_EDIT+f)}updateZone(f,V){return this.http.patch(g.k.UPDATE_ZONE+f,V)}getAllZones(){return this.http.get(g.k.ALL_ZONE)}getAllZonesByCountry(f){return this.http.get(g.k.ALL_ZONE_BY_COUNTRY+f)}removeZone(f){return this.http.delete(g.k.DELETED_ZONE+f)}registerSection(f){return this.http.post(g.k.CREATE_SECTION,f)}getsingleSection(f){return this.http.get(g.k.GET_SECTION+f)}updateSection(f,V){return this.http.patch(g.k.UPDATE_SECTION+f,V)}getAllSections(){return this.http.get(g.k.ALL_SECTION)}getAllSectionsByZone(f){return this.http.get(g.k.ALL_SECTION_BY_ZONE+f)}getAllZonesCa(){return this.http.get(g.k.GET_ZONE_CA)}getAllSectionCa(f){return this.http.get(g.k.GET_SECTION_CA+f)}getAllSectionCaBymois(f){return this.http.post(g.k.GET_SECTION_CA_BY_ANNEE,f)}removeSection(f){return this.http.delete(g.k.DELETED_SECTION+f)}}return W.\u0275fac=function(f){return new(f||W)(N.LFG(e.eN))},W.\u0275prov=N.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})()},8067:(nt,oe,_)=>{_.d(oe,{o:()=>Y});var g=_(2177),N=_(4650),e=_(529);let Y=(()=>{class W{constructor(f){this.http=f}getAllSalaireBureau(f){return this.http.get(g.k.GET_ALL_SALAIRE_BUREAU+f)}getAllSalaireSalaireId(f){return this.http.get(g.k.GET_SALAIRE_MANAGER_BY_SALAIRE_ID+f)}getAllMois(){return this.http.get(g.k.ALL_MONTH)}getAllAnnee(){return this.http.get(g.k.ALL_YEAR)}getSingleYear(f){return this.http.get(g.k.SINGLE_YEAR+f)}getSingleMonth(f){return this.http.get(g.k.SINGLE_MOIS+f)}getSingleSalaireBureau(f){return this.http.get(g.k.GET_SINGLE_SALAIRE_BUREAU+f)}managerAffecte(f){return this.http.get(g.k.MANAGER_AFFECTATION+f)}createsalaireManager(f){return this.http.post(g.k.CREATE_SALAIRE_MANAGER_BUREAU,f)}payerCotisationsalaireManager(f){return this.http.post(g.k.PAYER_COTISATION_MANAGER,f)}getSingleSalaireManager(f){return this.http.get(g.k.GET_SINGLE_SALAIRE_BUREAU+f)}getAllsalaireManager(){return this.http.get(g.k.GET_ALL_SALAIRE_BUREAU)}getAllsalaireByManager(f){return this.http.get(g.k.GET_ALL_COTISATION_MANAGER+f)}getCotisationTotaleManager(f){return this.http.get(g.k.GET_COTISATION_TOTALE_MANAGER+f)}updatesalaireManager(f,V){return this.http.patch(g.k.UPDATE_SALAIRE_MANAGER+V,f)}createDette(f){return this.http.post(g.k.CREATE_DETTE_BUREAU,f)}createRemboursement(f){return this.http.post(g.k.CREATE_AJOUT_REMBOURSEMENT,f)}getDette(f){return this.http.get(g.k.GET_DETTE_BUREAU+f)}getRemboursement(f){return this.http.get(g.k.GET_REMBOURSEMENT+f)}getallmanagersalaire(f){return this.http.get(g.k.GET_ALL_SALAIRE_MANAGER_MOIS+f)}}return W.\u0275fac=function(f){return new(f||W)(N.LFG(e.eN))},W.\u0275prov=N.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})()},9653:(nt,oe,_)=>{_.r(oe),_.d(oe,{KineModule:()=>$s,createTranslateLoader:()=>Yn});var g=_(6895),N=_(3053),e=_(4650),Y=_(1364);let W=(()=>{class n{constructor(t){this.translateService=t,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-kine"]],decls:28,vars:9,consts:[[1,"container-fluid"],[1,"d-sm-flex","align-items-center","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"row"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","border-left-dark","border-bottom-dark","shadow","h-100","py-2"],["routerLink","/kine/list-patient",1,"btn"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"col-auto"],[1,"fas","fa-calendar","fa-2x","text-gray-300"],["routerLink","/kine/chiffre-affaire",1,"btn"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",11),e._UZ(16,"i",12),e.qZA()()()()()(),e.TgZ(17,"div",4)(18,"div",5)(19,"a",13)(20,"div",7)(21,"div",8)(22,"div",9)(23,"div",10),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",11),e._UZ(27,"i",12),e.qZA()()()()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,3,"AcceuilKine")),e.xp6(10),e.hij(" ",e.lcZ(14,5,"Gestionpatients"),""),e.xp6(11),e.hij(" ",e.lcZ(25,7,"CHIFFREDAFFAIRE"),""))},dependencies:[N.rH,Y.X$]}),n})();var A=_(4006),f=_(5006),V=_(7185);function Un(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw();return e.KtG(o.payerSeance(a))}),e._uU(1,"Payer"),e.qZA()}}const Vn=function(n,r){return{"badge badge-success":n,"badge badge-danger":r}};function Jn(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",20)(6,"span",21),e._uU(7),e.ALo(8,"uppercase"),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td"),e.YNc(13,Un,2,0,"button",22),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.seance_title),e.xp6(2),e.Oqu(t.cout_seance),e.xp6(2),e.Q6J("ngClass",e.WLB(11,Vn,"pay\xe9"===t.status_paid_seance,"impay\xe9"===t.status_paid_seance)),e.xp6(1),e.hij(" ",e.lcZ(8,6,t.status_paid_seance)," "),e.xp6(3),e.Oqu(e.xi3(11,8,t.date_created_seance,"dd MMMM \xe0 HH:mm")),e.xp6(3),e.Q6J("ngIf","impay\xe9"===t.status_paid_seance)}}let qn=(()=>{class n{constructor(t,i,a,o,s,l){this.fb=t,this.patientService=i,this.router=a,this.route=o,this.toastrService=s,this.translateService=l,this.submitted=!1,this.seancespatient=[],this.nombre_seance=0,this.cout_seance=0,this.montant_reduction=0,this.nbre_seance_paye=0,this.total_a_payer=0,this.montant_total=this.nombre_seance*this.cout_seance,this.isCheckAll=!1,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getsinglepatient(),this.getAllseancepatient()}getsinglepatient(){this.id=this.route.snapshot.paramMap.get("id"),this.patientService.singlePatientkine(this.id).subscribe(t=>{console.log(t),this.nom_prenom=t.nom_prenom,this.genre=t.genre,this.telephone=t.telephone})}getAllseancepatient(){this.id=this.route.snapshot.paramMap.get("id"),this.patientService.AllseancePatientkine(this.id).subscribe(t=>{console.log("s\xe9ances=>",t),this.seancespatient=t})}createseance(t,i,a,o,s,l){if(this.id=this.route.snapshot.paramMap.get("id"),console.log(t,i,a,o,s,l),s>0){for(let p=1;p<=s;p++){const d={patientkineId:this.id,seance_title:`s\xe9ance ${p}`,status_paid_seance:"pay\xe9",date_created_seance:Date(),cout_seance:i};this.patientService.registerseancePatientkine(d).subscribe(m=>{this.toastrService.success("Les s\xe9ances ont \xe9t\xe9 cr\xe9\xe9e dans la base de donn\xe9es !")})}for(let p=s+1;p<=t;p++){const d={patientkineId:this.id,seance_title:`s\xe9ance ${p}`,status_paid_seance:"impay\xe9",date_created_seance:Date(),cout_seance:i};this.patientService.registerseancePatientkine(d).subscribe(m=>{this.toastrService.success("Les s\xe9ances ont \xe9t\xe9 cr\xe9\xe9e dans la base de donn\xe9es !"),window.location.reload()})}}else for(let p=1;p<=t;p++){const d={patientkineId:this.id,seance_title:`s\xe9ance ${p}`,status_paid_seance:"impay\xe9",date_created_seance:Date(),cout_seance:i};this.patientService.registerseancePatientkine(d).subscribe(m=>{this.toastrService.success("Les s\xe9ances ont \xe9t\xe9 cr\xe9\xe9e dans la base de donn\xe9es !"),window.location.reload()}),console.log(d)}}payerSeance(t){this.id=this.route.snapshot.paramMap.get("id");const i={patientkineId:t.patientkineId._id,seance_title:t.seance_title,status_paid_seance:"pay\xe9",date_created_seance:Date(),cout_seance:t.cout_seance};this.patientService.payerseancePatientkine(t._id,i).subscribe(a=>{this.toastrService.success(`${a.seance_title}. pay\xe9e et mise \xe0 jour !`),window.location.reload()}),console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.qu),e.Y36(f.e),e.Y36(N.F0),e.Y36(N.gz),e.Y36(V._W),e.Y36(Y.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detailt-patient"]],decls:94,vars:11,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","/kine/list-patient",1,"btn","btn-primary"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"table","table-bordered"],["scope","col"],[1,"col-6"],[1,"col-6","text-end"],[1,"container"],[1,"col-lg-12","col-md-12"],[4,"ngFor","ngForOf"],[1,"text-uppercase","table-dark"],["scope","row",1,"align-middle"],["type","number","min","1",1,"form-control",3,"ngModel","ngModelChange"],["type","number","min","1000",1,"form-control",3,"ngModel","ngModelChange"],["type","number","min","0",1,"form-control",3,"ngModel","value","ngModelChange"],["type","number","min","0",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"text-center"],[3,"ngClass"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4," D\xe9tails du patient "),e.qZA(),e._UZ(5,"div"),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"table",6)(10,"thead")(11,"th",7),e._uU(12,"Nom et pr\xe9noms"),e.qZA(),e.TgZ(13,"th",7),e._uU(14,"Num\xe9ro de t\xe9l\xe9phone"),e.qZA(),e.TgZ(15,"th",7),e._uU(16,"Genre"),e.qZA()(),e.TgZ(17,"tbody")(18,"tr")(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA()()()()()()(),e._UZ(25,"br"),e.TgZ(26,"div",3),e._UZ(27,"div",8)(28,"div",9)(29,"br"),e.qZA(),e.TgZ(30,"div",3)(31,"div",4)(32,"div",10)(33,"div",5)(34,"div",3)(35,"div",11)(36,"table",6)(37,"thead")(38,"th",7),e._uU(39,"Titre de la s\xe9ance"),e.qZA(),e.TgZ(40,"th",7),e._uU(41,"Co\xfbt de la s\xe9ance"),e.qZA(),e.TgZ(42,"th",7),e._uU(43,"Status de paiement"),e.qZA(),e.TgZ(44,"th",7),e._uU(45,"Cr\xe9\xe9e le:"),e.qZA(),e.TgZ(46,"th",7),e._uU(47,"Pay\xe9 le:"),e.qZA(),e.TgZ(48,"th",7),e._uU(49,"Action"),e.qZA()(),e.TgZ(50,"tbody"),e.YNc(51,Jn,14,14,"tr",12),e.TgZ(52,"tr")(53,"td"),e._uU(54,"Total"),e.qZA()()()()()(),e._UZ(55,"br")(56,"hr"),e.TgZ(57,"div",3)(58,"div",11)(59,"table",6)(60,"thead")(61,"tr",13)(62,"th",7),e._uU(63,"Nombre de s\xe9ance \xe0 faire"),e.qZA(),e.TgZ(64,"th",7),e._uU(65,"Co\xfbt de la s\xe9ance"),e.qZA(),e.TgZ(66,"th",7),e._uU(67,"Co\xfbt Total"),e.qZA(),e.TgZ(68,"th",7),e._uU(69,"Montant de r\xe9duction"),e.qZA(),e.TgZ(70,"th",7),e._uU(71,"Nombre de s\xe9ances pay\xe9"),e.qZA(),e.TgZ(72,"th",7),e._uU(73,"Reste Total \xe0 payer"),e.qZA(),e.TgZ(74,"th",7),e._uU(75,"Action"),e.qZA()()(),e.TgZ(76,"tbody")(77,"tr")(78,"td",14)(79,"input",15),e.NdJ("ngModelChange",function(o){return i.nombre_seance=o}),e.qZA()(),e.TgZ(80,"td")(81,"input",16),e.NdJ("ngModelChange",function(o){return i.cout_seance=o}),e.qZA()(),e.TgZ(82,"td")(83,"input",17),e.NdJ("ngModelChange",function(o){return i.montant_total=o}),e.qZA()(),e.TgZ(84,"td")(85,"input",18),e.NdJ("ngModelChange",function(o){return i.montant_reduction=o}),e.qZA()(),e.TgZ(86,"td")(87,"input",18),e.NdJ("ngModelChange",function(o){return i.nbre_seance_paye=o}),e.qZA()(),e.TgZ(88,"td")(89,"input",18),e.NdJ("ngModelChange",function(o){return i.total_a_payer=o}),e.qZA()(),e.TgZ(90,"td")(91,"button",19),e.NdJ("click",function(){return i.createseance(i.nombre_seance,i.cout_seance,i.montant_total,i.montant_reduction,i.nbre_seance_paye,i.total_a_payer)}),e._uU(92,"Enregistrer"),e.qZA()()()()()()()()()()(),e._UZ(93,"br"),e.qZA()),2&t&&(e.xp6(20),e.Oqu(i.nom_prenom),e.xp6(2),e.Oqu(i.telephone),e.xp6(2),e.Oqu(i.genre),e.xp6(27),e.Q6J("ngForOf",i.seancespatient),e.xp6(28),e.Q6J("ngModel",i.nombre_seance),e.xp6(2),e.Q6J("ngModel",i.cout_seance),e.xp6(2),e.Q6J("ngModel",i.montant_total)("value",i.nombre_seance*i.cout_seance),e.xp6(2),e.Q6J("ngModel",i.montant_reduction),e.xp6(2),e.Q6J("ngModel",i.nbre_seance_paye),e.xp6(2),e.Q6J("ngModel",i.total_a_payer))},dependencies:[g.mk,g.sg,g.O5,N.rH,A.Fj,A.wV,A.JJ,A.qQ,A.On,g.gd,g.uU]}),n})();var P=_(7579),De=_(529),jn=_(7729),Gn=_(8067),Kn=_(1185),it=_(5415);function $n(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw();return e.KtG(o.cloturermois(a))}),e._uU(1,"Cl\xf4turer le mois"),e.qZA()}}const Qn=function(n,r){return{"badge badge-danger":n,"badge badge-success":r}};function Xn(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",9)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",9)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",9)(8,"span",10),e._uU(9),e.qZA()(),e.TgZ(10,"td",9),e.YNc(11,$n,2,0,"button",11),e.qZA()()),2&n){const t=r.$implicit;e.xp6(3),e.AsE("",t.mois," ",t.annee,""),e.xp6(3),e.Oqu(t.chiffreAff),e.xp6(2),e.Q6J("ngClass",e.WLB(6,Qn,"mois cl\xf4tur\xe9"===t.status,"mois en cour"===t.status)),e.xp6(1),e.hij(" ",t.status," "),e.xp6(2),e.Q6J("ngIf","mois en cour"===t.status)}}let ei=(()=>{class n{constructor(t,i,a,o,s,l,p,d){this.patientService=t,this.router=i,this.http=a,this.toastrService=o,this.countryService=s,this.salaireService=l,this.weekendyService=p,this.translateService=d,this.listChiffreAffaire=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new P.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllCakine(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}getAllCakine(){this.patientService.AllCakine().subscribe(t=>{this.listChiffreAffaire=t,this.dtTrigger.next(null)})}cloturermois(t){console.log("value",t),this.countryService.getAllCountriesciv().subscribe(i=>{this.countryId=i[0]._id,this.salaireService.getSingleMonth(t.mois).subscribe(a=>{this.moisId=a._id,this.salaireService.getSingleYear(t.annee).subscribe(o=>{this.anneeId=o._id;const s={countryId:this.countryId,mois:this.moisId,annee:this.anneeId};console.log(s),this.weekendyService.getCabypaysmoisannee(s).subscribe(l=>{null==l?this.weekendyService.createcapays({countryId:this.countryId,mois:this.moisId,annee:this.anneeId,caTotal:t.chiffreAff}).subscribe(d=>{if(200==d.status){const m={chiffreAff:t.chiffreAff,mois:t.mois,annee:t.annee,status:"mois cl\xf4tur\xe9"};console.log("modif",m),this.patientService.UpdateSatusCakine(t._id,m).subscribe(v=>{console.log(v),200==v.status?(this.toastrService.success(v.message),window.location.reload()):this.toastrService.error(v.message)})}}):this.weekendyService.updatecapays(l._id,{countryId:this.countryId,mois:this.moisId,annee:this.anneeId,caTotal:l.caTotal+t.chiffreAff}).subscribe(d=>{if(200==d.status){const m={chiffreAff:t.chiffreAff,mois:t.mois,annee:t.annee,status:"mois cl\xf4tur\xe9"};console.log("modifi",m),this.patientService.UpdateSatusCakine(t._id,m).subscribe(v=>{200==v.status?(this.toastrService.success(v.message),window.location.reload()):this.toastrService.error(v.message)})}})})})})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.e),e.Y36(N.F0),e.Y36(De.eN),e.Y36(V._W),e.Y36(jn.T),e.Y36(Gn.o),e.Y36(Kn.x),e.Y36(Y.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chiffre-affaire"]],decls:25,vars:12,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","/kine/list-patient",1,"btn","btn-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"text-center"],[3,"ngClass"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3),e._UZ(7,"div",4),e.TgZ(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Statut du mois"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Action"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,Xn,12,9,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,6,"CHIFFREDAFFAIRE")," "),e.xp6(6),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(15,8,"Mois")),e.xp6(3),e.Oqu(e.lcZ(18,10,"CHIFFREDAFFAIRE")),e.xp6(7),e.Q6J("ngForOf",i.listChiffreAffaire))},dependencies:[g.mk,g.sg,g.O5,N.rH,it.G,Y.X$]}),n})();const ce=function(n){return["/kine/detail-patient",n]},ti=function(n){return["/kine/edit-patient",n]};function ni(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",13)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",14)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",14)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",14)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",14)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",14)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"div")(21,"a",15),e._UZ(22,"i",16),e.qZA(),e._uU(23,"\xa0 "),e.TgZ(24,"a",15),e._UZ(25,"i",17),e.qZA(),e._uU(26,"\xa0 "),e.TgZ(27,"a",18),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeletepatient(o._id))}),e._UZ(28,"i",19),e.qZA()(),e._UZ(29,"div"),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(14,ce,t._id)),e.xp6(2),e.Oqu(t.nom_prenom),e.xp6(1),e.Q6J("routerLink",e.VKq(16,ce,t._id)),e.xp6(2),e.Oqu(t.telephone),e.xp6(1),e.Q6J("routerLink",e.VKq(18,ce,t._id)),e.xp6(2),e.Oqu(t.genre),e.xp6(1),e.Q6J("routerLink",e.VKq(20,ce,t._id)),e.xp6(2),e.Oqu(t.bureauId.bureau_name),e.xp6(1),e.Q6J("routerLink",e.VKq(22,ce,t._id)),e.xp6(2),e.Oqu(t.agent),e.xp6(1),e.Q6J("routerLink",e.VKq(24,ce,t._id)),e.xp6(2),e.Oqu(t.service),e.xp6(3),e.Q6J("routerLink",e.VKq(26,ce,t._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(28,ti,t._id))}}let ii=(()=>{class n{constructor(t,i,a,o,s){this.patientService=t,this.router=i,this.http=a,this.toastrService=o,this.translateService=s,this.listPatient=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new P.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllPatient(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}getAllPatient(){this.patientService.getAllPatientKine("kin\xe9sith\xe9rapie").subscribe({next:i=>{this.listPatient=i,console.log(this.listPatient),this.dtTrigger.next(null),this.loading=!1},error:i=>{console.log(i),this.loading=!1}})}onDeletepatient(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.patientService.removePatient(t).subscribe({next:i=>{this.toastrService.success(i)},error:i=>{console.log(i),this.loading=!1}}),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.e),e.Y36(N.F0),e.Y36(De.eN),e.Y36(V._W),e.Y36(Y.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-patient"]],decls:46,vars:33,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","/kine",1,"btn","btn-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["routerLink","/kine/create-patient",1,"btn","btn-primary"],[1,"fa","fa-plus"],["routerLink","/kine/planning",1,"btn","btn-primary"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"text-center",3,"routerLink"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"fa","fa-pen"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"h6",5)(9,"a",6),e._UZ(10,"i",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._uU(13,"\xa0 "),e.TgZ(14,"a",8),e._UZ(15,"i",7),e._uU(16),e.ALo(17,"translate"),e.qZA()()(),e.TgZ(18,"div",9)(19,"div",10)(20,"table",11)(21,"thead")(22,"tr")(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA()()(),e.TgZ(44,"tbody"),e.YNc(45,ni,30,30,"tr",12),e.qZA()()()()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Gestionpatients")," "),e.xp6(7),e.hij("\xa0",e.lcZ(12,15,"Ajouterpatient")," "),e.xp6(5),e.hij("\xa0",e.lcZ(17,17,"Planning")," "),e.xp6(4),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(25,19,"NomPrenom")),e.xp6(3),e.Oqu(e.lcZ(28,21,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(31,23,"Genre")),e.xp6(3),e.hij("",e.lcZ(34,25,"Agent")," "),e.xp6(3),e.hij("",e.lcZ(37,27,"NomBureau")," "),e.xp6(3),e.Oqu(e.lcZ(40,29,"Service")),e.xp6(3),e.Oqu(e.lcZ(43,31,"Action")),e.xp6(3),e.Q6J("ngForOf",i.listPatient))},dependencies:[g.sg,N.rH,it.G,Y.X$]}),n})();var ri=_(4508),rt=_(3056);function ai(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function oi(n,r){1&n&&e._UZ(0,"span",39)}function si(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function li(n,r){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,si,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom_prenom.errors.required)}}function di(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function ci(n,r){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,di,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function ui(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function pi(n,r){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,ui,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}function mi(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function gi(n,r){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,mi,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.agent.errors.required)}}function hi(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function vi(n,r){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,hi,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephoneagent.errors.required)}}function fi(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function yi(n,r){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,fi,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.service.errors.required)}}function _i(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BureauObligatoire")))}function wi(n,r){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,_i,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}const he=function(n){return{"is-invalid":n}};let Ci=(()=>{class n{constructor(t,i,a,o,s,l,p){this.agenceService=t,this.patientService=i,this.fb=a,this.router=o,this.http=s,this.toastrService=l,this.translateService=p,this.listBureau=[],this.listManager=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new P.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.patientForm=new A.cw({nom_prenom:new A.NI(""),telephone:new A.NI(""),genre:new A.NI(""),bureauId:new A.NI(""),agent:new A.NI(""),telephoneagent:new A.NI(""),service:new A.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.patientForm=this.fb.group({nom_prenom:["",A.kI.required],telephone:["",A.kI.required],genre:["",A.kI.required],bureauId:[""],agent:["",A.kI.required],telephoneagent:["",A.kI.required],service:["",A.kI.required]})}get f(){return this.patientForm.controls}ngOnInit(){this.getAllBureau(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}onSubmit(){if(this.submitted=!0,console.log(this.patientForm.value),this.patientForm?.invalid)return;this.buttonloading=!0;const t={nom_prenom:this.patientForm.value.nom_prenom,telephone:this.patientForm.value.telephone,genre:this.patientForm.value.genre,bureauId:this.patientForm.value.bureauId[0]._id,agent:this.patientForm.value.agent,telephoneagent:this.patientForm.value.telephoneagent,service:this.patientForm.value.service};console.log(t),this.patientService.registerPatient(t).subscribe({next:i=>{console.log(i),this.toastrService.success(`Le patient ${i.nom_prenom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.router.navigate(["/kine/detail-patient/",i._id]),this.buttonloading=!1,this.ngOnInit())},error:i=>{console.log(i),this.toastrService.error(i.error),this.buttonloading=!1}})}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.patientForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.patientForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ri.q),e.Y36(f.e),e.Y36(A.qu),e.Y36(N.F0),e.Y36(De.eN),e.Y36(V._W),e.Y36(Y.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-patient"]],decls:119,vars:59,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","['/kine/list-patient']",1,"btn","btn-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["routerLink","['/kine/list-patient']",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],["for","nom_prenom"],[2,"color","red"],["type","text","placeholder","","id","nom_prenom","formControlName","nom_prenom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","nom"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","agent"],["type","text","placeholder","","id","agent","formControlName","agent",1,"form-control",3,"ngClass"],["for","telephoneagent"],["type","text","placeholder","","id","telephoneagent","formControlName","telephoneagent",1,"form-control",3,"ngClass"],["for","service"],["formControlName","service","id","service",1,"form-control",3,"ngClass"],["value","kin\xe9sith\xe9rapie"],["value","service m\xe9dical"],[1,"col-lg-3","col-md-3"],["for","bureau"],["formControlName","bureauId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"form",7),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(11,"button",8),e.YNc(12,ai,3,3,"ng-container",9),e.YNc(13,oi,1,0,"span",10),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"a",11),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",12)(20,"div",5),e._UZ(21,"br")(22,"br"),e.TgZ(23,"div",13)(24,"div",14)(25,"div",15)(26,"div",6)(27,"label",16),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"span",17),e._uU(31,"*"),e.qZA()()(),e.TgZ(32,"div",6),e._UZ(33,"input",18),e.YNc(34,li,2,1,"div",19),e.qZA()()()(),e.TgZ(35,"div",13)(36,"div",14)(37,"div",15)(38,"div",20)(39,"label",21),e._uU(40),e.ALo(41,"translate"),e.TgZ(42,"span",17),e._uU(43,"*"),e.qZA()()(),e.TgZ(44,"div",6),e._UZ(45,"input",22),e.YNc(46,ci,2,1,"div",19),e.qZA()()()(),e.TgZ(47,"div",13)(48,"div",14)(49,"div",15)(50,"div",20)(51,"label",23),e._uU(52),e.ALo(53,"translate"),e.TgZ(54,"span",17),e._uU(55,"*"),e.qZA()()(),e.TgZ(56,"div",6)(57,"select",24)(58,"option",25),e._uU(59,"Feminin"),e.qZA(),e.TgZ(60,"option",26),e._uU(61,"Masculin"),e.qZA()(),e.YNc(62,pi,2,1,"div",19),e.qZA()()()()(),e.TgZ(63,"div",5),e._UZ(64,"br")(65,"br"),e.TgZ(66,"div",27)(67,"div",14)(68,"div",15)(69,"div",6)(70,"label",28),e._uU(71),e.ALo(72,"translate"),e.TgZ(73,"span",17),e._uU(74,"*"),e.qZA()()(),e.TgZ(75,"div",6),e._UZ(76,"input",29),e.YNc(77,gi,2,1,"div",19),e.qZA()()()(),e.TgZ(78,"div",27)(79,"div",14)(80,"div",15)(81,"div",6)(82,"label",30),e._uU(83),e.ALo(84,"translate"),e.TgZ(85,"span",17),e._uU(86,"*"),e.qZA()()(),e.TgZ(87,"div",6),e._UZ(88,"input",31),e.YNc(89,vi,2,1,"div",19),e.qZA()()()(),e.TgZ(90,"div",27)(91,"div",14)(92,"div",15)(93,"div",6)(94,"label",32),e._uU(95),e.ALo(96,"translate"),e.TgZ(97,"span",17),e._uU(98,"*"),e.qZA()()(),e.TgZ(99,"div",6)(100,"select",33)(101,"option",34),e._uU(102,"Kin\xe9sith\xe9rapie"),e.qZA(),e.TgZ(103,"option",35),e._uU(104,"service m\xe9dical"),e.qZA()(),e.YNc(105,yi,2,1,"div",19),e.qZA()()()()(),e.TgZ(106,"div",5)(107,"div",36)(108,"div",14)(109,"div",15)(110,"div",6)(111,"label",37),e._uU(112),e.ALo(113,"translate"),e.TgZ(114,"span",17),e._uU(115,"*"),e.qZA()()(),e.TgZ(116,"div",6)(117,"ng-multiselect-dropdown",38),e.NdJ("onDropDownClose",function(){return i.onDropDownClose()})("onSelect",function(o){return i.onItemSelect(o)})("onDeSelect",function(o){return i.onItemDeSelect(o)}),e.qZA(),e.YNc(118,wi,2,1,"div",19),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,29,"Gestionpatients")," "),e.xp6(6),e.Q6J("formGroup",i.patientForm),e.xp6(1),e.Q6J("disabled",i.buttonloading),e.xp6(1),e.Q6J("ngIf",!i.buttonloading),e.xp6(1),e.Q6J("ngIf",i.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,31,"Annuler")),e.xp6(12),e.hij("",e.lcZ(29,33,"NomPrenom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(47,he,i.submitted&&i.f.nom_prenom.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.nom_prenom.errors),e.xp6(6),e.Oqu(e.lcZ(41,35,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(49,he,i.submitted&&i.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(53,37,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(51,he,i.submitted&&i.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",i.submitted&&i.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(72,39,"Agent")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(53,he,i.submitted&&i.f.agent.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.agent.errors),e.xp6(6),e.hij("",e.lcZ(84,41,"TelephoneAgent")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(55,he,i.submitted&&i.f.telephoneagent.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.telephoneagent.errors),e.xp6(6),e.hij("",e.lcZ(96,43,"Service")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(57,he,i.submitted&&i.f.service.errors)),e.xp6(5),e.Q6J("ngIf",i.submitted&&i.f.service.errors),e.xp6(7),e.Oqu(e.lcZ(113,45,"NomBureau")),e.xp6(5),e.Q6J("data",i.listBureau)("disabled",i.disabled)("settings",i.dropdownSettings),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.bureauId.errors))},dependencies:[g.mk,g.O5,N.rH,A._Y,A.YN,A.Kr,A.Fj,A.EJ,A.JJ,A.JL,A.sg,A.u,rt.OP,Y.X$]}),n})();var Fe=function(){return Fe=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r},Fe.apply(this,arguments)};function u(n,r,t,i){var s,a=arguments.length,o=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,r,t,i);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(a<3?s(o):a>3?s(r,t,o):s(r,t))||o);return a>3&&o&&Object.defineProperty(r,t,o),o}function ve(n,r){return function(t,i){r(t,i,n)}}function c(n,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,r)}var bi=function(){function n(){}return n.prototype.getAllStyles=function(r){return window.getComputedStyle(r)},n.prototype.getStyle=function(r,t){return this.getAllStyles(r)[t]},n.prototype.isStaticPositioned=function(r){return"static"===(this.getStyle(r,"position")||"static")},n.prototype.offsetParent=function(r){for(var t=r.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},n.prototype.position=function(r,t){void 0===t&&(t=!0);var i,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(r,"position"))i={top:(i=r.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var o=this.offsetParent(r);i=this.offset(r,!1),o!==document.documentElement&&(a=this.offset(o,!1)),a.top+=o.clientTop,a.left+=o.clientLeft}return i.top-=a.top,i.bottom-=a.top,i.left-=a.left,i.right-=a.left,t&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(r,t){void 0===t&&(t=!0);var i=r.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft,o={height:i.height||r.offsetHeight,width:i.width||r.offsetWidth,top:i.top+a_top,bottom:i.bottom+a_top,left:i.left+a_left,right:i.right+a_left};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},n.prototype.positionElements=function(r,t,i,a){var o=i.split("-"),s=o[0],l=void 0===s?"top":s,p=o[1],d=void 0===p?"center":p,m=a?this.offset(r,!1):this.position(r,!1),v=this.getAllStyles(t),y=parseFloat(v.marginTop),h=parseFloat(v.marginBottom),C=parseFloat(v.marginLeft),E=parseFloat(v.marginRight),T=0,S=0;switch(l){case"top":T=m.top-(t.offsetHeight+y+h);break;case"bottom":T=m.top+m.height;break;case"left":S=m.left-(t.offsetWidth+C+E);break;case"right":S=m.left+m.width}switch(d){case"top":T=m.top;break;case"bottom":T=m.top+m.height-t.offsetHeight;break;case"left":S=m.left;break;case"right":S=m.left+m.width-t.offsetWidth;break;case"center":"top"===l||"bottom"===l?S=m.left+m.width/2-t.offsetWidth/2:T=m.top+m.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(S)+"px, "+Math.round(T)+"px)";var I=t.getBoundingClientRect(),b=document.documentElement,O=window.innerHeight||b.clientHeight,Z=window.innerWidth||b.clientWidth;return I.left>=0&&I.top>=0&&I.right<=Z&&I.bottom<=O},n}(),Ei=/\s+/,Yt=new bi,ki=_(9646),ot=_(5963),Te=_(9751),Mi=_(1135),zt=_(4986),te=_(2722),We=_(3900),st=_(8675),Ii=_(576),J=_(4004),K=function(){return K=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++)for(var a in r=arguments[t])Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a]);return n},K.apply(this,arguments)},Ut=function(){for(var n=0,r=0,t=arguments.length;r<t;r++)n+=arguments[r].length;var i=Array(n),a=0;for(r=0;r<t;r++)for(var o=arguments[r],s=0,l=o.length;s<l;s++,a++)i[a]=o[s];return i},be=(()=>{return(n=be||(be={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",be;var n})(),xi=[be.SUNDAY,be.SATURDAY],lt=7,dt=24,Pe=60,se=86400;function Vt(n,r){var t=r.startDate,a=r.excluded,o=r.precision;if(a.length<1)return 0;for(var l=n.getDay,p=n.addDays,d=(0,n.addSeconds)(t,r.seconds-1),m=l(t),v=l(d),y=0,h=t,C=function(){var E=l(h);a.some(function(T){return T===E})&&(y+=function Zi(n,r){var i=r.day,o=r.dayEnd,s=r.startDate,l=r.endDate,p=n.differenceInSeconds,m=n.startOfDay;if("minutes"===r.precision){if(i===r.dayStart)return p((0,n.endOfDay)(s),s)+1;if(i===o)return p(l,m(l))+1}return se}(n,{dayStart:m,dayEnd:v,day:E,precision:o,startDate:t,endDate:d})),h=p(h,1)};h<d;)C();return y}function Ee(n,r){var i=r.periodStart,a=r.periodEnd;return r.events.filter(function(o){return function Li(n,r){var t=r.event,i=r.periodStart,a=r.periodEnd,o=n.isSameSecond,s=t.start,l=t.end||t.start;return!!(s>i&&s<a||l>i&&l<a||s<i&&l>a||o(s,i)||o(s,a)||o(l,i)||o(l,a))}(n,{event:o,periodStart:i,periodEnd:a})})}function Jt(n,r){var t=r.date,i=r.weekendDays,a=void 0===i?xi:i,s=n.isSameDay,l=n.getDay,p=(0,n.startOfDay)(new Date),d=l(t);return{date:t,day:d,isPast:t<p,isToday:s(t,p),isFuture:t>p,isWeekend:a.indexOf(d)>-1}}function ct(n,r){for(var a=r.excluded,o=void 0===a?[]:a,s=r.weekendDays,l=r.viewStart,p=void 0===l?n.startOfWeek(r.viewDate,{weekStartsOn:r.weekStartsOn}):l,d=r.viewEnd,m=void 0===d?n.addDays(p,lt):d,v=n.addDays,y=n.getDay,h=[],C=p;C<m;)o.some(function(E){return y(C)===E})||h.push(Jt(n,{date:C,weekendDays:s})),C=v(C,1);return h}function Fi(n,r){var t=r.events,i=void 0===t?[]:t,a=r.excluded,o=void 0===a?[]:a,s=r.precision,l=void 0===s?"days":s,p=r.absolutePositionedEvents,d=void 0!==p&&p,m=r.viewStart,v=r.viewEnd;m=n.startOfDay(m),v=n.endOfDay(v);var y=n.differenceInSeconds,h=n.differenceInDays,C=function Ri(n,r){for(var i=r.date2,a=r.excluded,o=r.date1,s=0;o<i;)-1===a.indexOf(n.getDay(o))&&s++,o=n.addDays(o,1);return s}(n,{date1:m,date2:v,excluded:o}),E=h(v,m)+1,T=i.filter(function(b){return b.allDay}).map(function(b){var O=function Hi(n,r){var t=r.event,i=r.startOfWeek,a=r.excluded,o=r.precision,s=n.differenceInDays,l=n.startOfDay,p=n.differenceInSeconds;if(t.start<i)return 0;var d=0;switch(o){case"days":d=s(l(t.start),i)*se;break;case"minutes":d=p(t.start,i)}return d-=Vt(n,{startDate:i,seconds:d,excluded:a,precision:o}),Math.abs(d/se)}(n,{event:b,startOfWeek:m,excluded:o,precision:l}),Z=function Bi(n,r){var t=r.event,i=r.offset,o=r.excluded,s=r.precision,l=r.totalDaysInView,d=n.differenceInSeconds,m=n.addDays,v=n.endOfDay,y=n.differenceInDays,h=se,C=(0,n.max)([t.start,r.startOfWeekDate]);t.end&&(h="minutes"===s?d(t.end,C):y(m(v(t.end),1),C)*se);var E=i*se,S=l*se;return E+h>S&&(h=S-E),(h-=Vt(n,{startDate:C,seconds:h,excluded:o,precision:s}))/se}(n,{event:b,offset:O,startOfWeekDate:m,excluded:o,precision:l,totalDaysInView:E});return{event:b,offset:O,span:Z}}).filter(function(b){return b.offset<C}).filter(function(b){return b.span>0}).map(function(b){return{event:b.event,offset:b.offset,span:b.span,startsBeforeWeek:b.event.start<m,endsAfterWeek:(b.event.end||b.event.start)>v}}).sort(function(b,O){var Z=y(b.event.start,O.event.start);return 0===Z?y(O.event.end||O.event.start,b.event.end||b.event.start):Z}),S=[],I=[];return T.forEach(function(b,O){if(-1===I.indexOf(b)){I.push(b);var Z=b.span+b.offset,F=T.slice(O+1).filter(function(x){if(x.offset>=Z&&Z+x.span<=E&&-1===I.indexOf(x)){var k=x.offset-Z;return d||(x.offset=k),Z+=x.span+k,I.push(x),!0}}),z=Ut([b],F),B=z.filter(function(x){return x.event.id}).map(function(x){return x.event.id}).join("-");S.push(K({row:z},B?{id:B}:{}))}}),S}function Ni(n,r){var t=r.events,i=r.viewDate,a=r.hourSegments,o=r.hourDuration,s=r.dayStart,l=r.dayEnd,p=r.weekStartsOn,d=r.excluded,m=r.weekendDays,v=r.segmentHeight,y=r.viewStart,h=r.viewEnd,C=r.minimumEventHeight,E=function zi(n,r){var t=r.viewDate,i=r.hourSegments,a=r.hourDuration,o=r.dayStart,s=r.dayEnd,l=n.setMinutes,p=n.setHours,d=n.startOfDay,m=n.startOfMinute,v=n.endOfDay,y=n.addMinutes,C=n.addDays,E=[],T=l(p(d(t),ze(o.hour)),Ue(o.minute)),S=l(p(m(v(t)),ze(s.hour)),Ue(s.minute)),I=(a||Pe)/i,b=d(t),O=v(t),Z=function(D){return D};b.getTimezoneOffset()!==O.getTimezoneOffset()&&(b=C(b,1),T=C(T,1),S=C(S,1),Z=function(D){return C(D,-1)});for(var F=a?60*dt/a:Pe,z=0;z<F;z++){for(var B=[],x=0;x<i;x++){var k=y(y(T,z*(a||Pe)),x*I);k>=T&&k<S&&B.push({date:Z(k),displayDate:k,isStart:0===x})}B.length>0&&E.push({segments:B})}return E}(n,{viewDate:i,hourSegments:a,hourDuration:o,dayStart:s,dayEnd:l}),T=ct(n,{viewDate:i,weekStartsOn:p,excluded:d,weekendDays:m,viewStart:y,viewEnd:h}),S=n.setHours,I=n.setMinutes,b=n.getHours,O=n.getMinutes;return T.map(function(Z){var F=function Yi(n,r){var t=r.events,i=r.viewDate,a=r.hourSegments,o=r.dayStart,s=r.dayEnd,l=r.eventWidth,p=r.segmentHeight,d=r.hourDuration,m=r.minimumEventHeight,v=n.setMinutes,y=n.setHours,h=n.startOfDay,C=n.startOfMinute,E=n.endOfDay,T=n.differenceInMinutes,S=v(y(h(i),ze(o.hour)),Ue(o.minute)),I=v(y(C(E(i)),ze(s.hour)),Ue(s.minute));I.setSeconds(59,999);var b=[],O=Ee(n,{events:t.filter(function(B){return!B.allDay}),periodStart:S,periodEnd:I}),Z=O.sort(function(B,x){return B.start.valueOf()-x.start.valueOf()}).map(function(B){var x=B.start,k=B.end||x,D=x<S,w=k>I,R=a*p/(d||Pe),L=0;if(x>S){var et=x.getTimezoneOffset(),Rt=S.getTimezoneOffset()-et;L+=T(x,S)+Rt}L*=R,L=Math.floor(L);var Re=D?S:x,Ft=w?I:k,j=Re.getTimezoneOffset()-Ft.getTimezoneOffset(),G=T(Ft,Re)+j;B.end?G*=R:G=p,m&&G<m&&(G=m),G=Math.floor(G);for(var Nt=Ye(b,L,L+G),Wt=0;Nt.some(function(Qs){return Qs.left===Wt});)Wt+=l;var zn={event:B,height:G,width:l,top:L,left:Wt,startsBeforeDay:D,endsAfterDay:w};return b.push(zn),zn}),F=Math.max.apply(Math,Z.map(function(B){return B.left+B.width})),z=Ee(n,{events:t.filter(function(B){return B.allDay}),periodStart:h(S),periodEnd:E(I)});return{events:Z,width:F,allDayEvents:z,period:{events:O,start:S,end:I}}}(n,{events:t,viewDate:Z.date,hourSegments:a,dayStart:s,dayEnd:l,segmentHeight:v,eventWidth:1,hourDuration:o,minimumEventHeight:C}),z=E.map(function(k){var D=k.segments.map(function(w){var R=I(S(Z.date,b(w.date)),O(w.date));return K(K({},w),{date:R})});return K(K({},k),{segments:D})});function B(k,D){var w=Math.max.apply(Math,D.map(function(L){return L.left+1})),R=k.filter(function(L){return L.left>=w}).filter(function(L){return Ye(D,L.top,L.top+L.height).length>0});return R.length>0?B(k,R):w}var x=F.events.map(function(k){var w=100/B(F.events,Ye(F.events,k.top,k.top+k.height));return K(K({},k),{left:k.left*w,width:w})});return{hours:z,date:Z.date,events:x.map(function(k){var D=Ye(x.filter(function(w){return w.left>k.left}),k.top,k.top+k.height);return D.length>0?K(K({},k),{width:Math.min.apply(Math,D.map(function(w){return w.left}))-k.left}):k})}})}function Ye(n,r,t){return n.filter(function(i){var a=i.top,o=i.top+i.height;return r<o&&o<t||r<a&&a<t||a<=r&&t<=o})}function ze(n){return Math.max(Math.min(23,n),0)}function Ue(n){return Math.max(Math.min(59,n),0)}var le=(()=>{return(n=le||(le={})).NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",le;var n})(),Vi=_(4707),ne=_(6451),Ji=_(9841),ut=_(4968);function pt(n,r){return n=function qi(n,r){return typeof n>"u"?typeof r>"u"?n:r:n}(n,r),"function"==typeof n?function(){for(var i=arguments,a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=i[s];return!!n.apply(this,o)}:n?function(){return!0}:function(){return!1}}var mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},qt=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":mt(n))&&1===n.nodeType&&"object"===mt(n.style)&&"object"===mt(n.ownerDocument)};function jt(n,r){if(r=ht(r,!0),!qt(r))return-1;for(var t=0;t<n.length;t++)if(n[t]===r)return t;return-1}function gt(n,r){return-1!==jt(n,r)}function Gi(n){for(var r=arguments,t=[],i=arguments.length-1;i-- >0;)t[i]=r[i+1];return function ji(n,r){for(var t=0;t<r.length;t++)gt(n,r[t])||n.push(r[t]);return r}(n,t=t.map(ht))}function Ki(n){for(var r=arguments,t=[],i=arguments.length-1;i-- >0;)t[i]=r[i+1];return t.map(ht).reduce(function(a,o){var s=jt(n,o);return-1!==s?a.concat(n.splice(s,1)):a},[])}function ht(n,r){if("string"==typeof n)try{return document.querySelector(n)}catch(t){throw t}if(!qt(n)&&!r)throw new TypeError(n+" is not a DOM element.");return n}function Gt(n){if(n===window)return function Qi(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var r={};return Object.defineProperties(r,n),r}();try{var r=n.getBoundingClientRect();return void 0===r.x&&(r.x=r.left,r.y=r.top),r}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var r,vt=void 0;"function"!=typeof Object.create?(r=function(){},vt=function(t,i){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");r.prototype=t||{};var a=new r;return r.prototype=null,void 0!==i&&Object.defineProperties(a,i),null===t&&(a.__proto__=null),a}):vt=Object.create;var er=vt,ue=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function ft(n,r){r=r||{};for(var t=er(n),i=0;i<ue.length;i++)void 0!==r[ue[i]]&&(t[ue[i]]=r[ue[i]]);return t}function yt(n,r){console.log("data ",r),n.data=r||{},n.dispatched="mousemove"}var Se=["webkit","moz","ms","o"],ke=function(){if(typeof window>"u")return function(){};for(var n=0,r=Se.length;n<r&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[Se[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var t=0;window.requestAnimationFrame=function(i){var a=(new Date).getTime(),o=Math.max(0,16-a-t),s=window.setTimeout(function(){return i(a+o)},o);return t=a+o,s}}return window.requestAnimationFrame.bind(window)}(),fe=function(){if(typeof window>"u")return function(){};for(var n=0,r=Se.length;n<r&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[Se[n]+"CancelAnimationFrame"]||window[Se[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)}),window.cancelAnimationFrame.bind(window)}();function nr(n,r){void 0===r&&(r={});var t=this,i=4,a=!1;if("object"!=typeof r.margin){var o=r.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=r.margin;this.scrollWhenOutside=r.scrollWhenOutside||!1;var s={},l=function $i(n,r){var t=pt((r=r||{}).allowUpdate,!0);return function(a){if(a=a||window.event,n.target=a.target||a.srcElement||a.originalTarget,n.element=this,n.type=a.type,t(a)){if(a.targetTouches)n.x=a.targetTouches[0].clientX,n.y=a.targetTouches[0].clientY,n.pageX=a.targetTouches[0].pageX,n.pageY=a.targetTouches[0].pageY,n.screenX=a.targetTouches[0].screenX,n.screenY=a.targetTouches[0].screenY;else{if(null===a.pageX&&null!==a.clientX){var o=a.target&&a.target.ownerDocument||document,s=o.documentElement,l=o.body;n.pageX=a.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),n.pageY=a.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}else n.pageX=a.pageX,n.pageY=a.pageY;n.x=a.clientX,n.y=a.clientY,n.screenX=a.screenX,n.screenY=a.screenY}n.clientX=n.x,n.clientY=n.y}}}(s),p=function tr(n){var r={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function t(o){for(var s=0;s<ue.length;s++)r[ue[s]]=o[ue[s]]}return void 0!==n&&n.addEventListener("mousemove",t),{destroy:function a(){n&&n.removeEventListener("mousemove",t,!1),r=null},dispatch:MouseEvent?function(s,l,p){var d=new MouseEvent("mousemove",ft(r,l));return yt(d,p),s.dispatchEvent(d)}:"function"==typeof document.createEvent?function(s,l,p){var d=ft(r,l),m=document.createEvent("MouseEvents");return m.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),yt(m,p),s.dispatchEvent(m)}:"function"==typeof document.createEventObject?function(s,l,p){var d=document.createEventObject(),m=ft(r,l);for(var v in m)d[v]=m[v];return yt(d,p),s.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(r.maxSpeed)||(i=r.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=pt(r.autoScroll),this.syncMove=pt(r.syncMove,!1),this.destroy=function(D){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",E,!1),window.removeEventListener("touchstart",E,!1),window.removeEventListener("mouseup",T,!1),window.removeEventListener("touchend",T,!1),window.removeEventListener("pointerup",T,!1),window.removeEventListener("mouseleave",I,!1),window.removeEventListener("mousemove",Z,!1),window.removeEventListener("touchmove",Z,!1),window.removeEventListener("scroll",C,!0),n=[],D&&S()},this.add=function(){for(var D=[],w=arguments.length;w--;)D[w]=arguments[w];return Gi.apply(void 0,[n].concat(D)),this},this.remove=function(){for(var D=[],w=arguments.length;w--;)D[w]=arguments[w];return Ki.apply(void 0,[n].concat(D))};var v,D,m=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),D=n,n=[],D.forEach(function(w){w===window?m=window:t.add(w)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return i}},point:{get:function(){return s}},scrolling:{get:function(){return a}}});var h,y=null;function C(D){for(var w=0;w<n.length;w++)if(n[w]===D.target){a=!0;break}a&&ke(function(){return a=!1})}function E(){d=!0}function T(){d=!1,S()}function S(){fe(h),fe(v)}function I(){d=!1}function O(){for(var D=null,w=0;w<n.length;w++)Kt(s,n[w])&&(D=n[w]);return D}function Z(D){if(t.autoScroll()&&!D.dispatched){var w=D.target,R=document.body;y&&!Kt(s,y)&&(t.scrollWhenOutside||(y=null)),w&&w.parentNode===R?w=O():(w=function b(D){if(!D)return null;if(y===D||gt(n,D))return D;for(;D=D.parentNode;)if(gt(n,D))return D;return null}(w),w||(w=O())),w&&w!==y&&(y=w),m&&(fe(v),v=ke(F)),y&&(fe(h),h=ke(z))}}function F(){B(m),fe(v),v=ke(F)}function z(){y&&(B(y),fe(h),h=ke(z))}function B(D){var R,L,w=Gt(D);R=s.x<w.left+t.margin.left?Math.floor(Math.max(-1,(s.x-w.left)/t.margin.left-1)*t.maxSpeed.left):s.x>w.right-t.margin.right?Math.ceil(Math.min(1,(s.x-w.right)/t.margin.right+1)*t.maxSpeed.right):0,L=s.y<w.top+t.margin.top?Math.floor(Math.max(-1,(s.y-w.top)/t.margin.top-1)*t.maxSpeed.top):s.y>w.bottom-t.margin.bottom?Math.ceil(Math.min(1,(s.y-w.bottom)/t.margin.bottom+1)*t.maxSpeed.bottom):0,t.syncMove()&&p.dispatch(D,{pageX:s.pageX+R,pageY:s.pageY+L,clientX:s.x+R,clientY:s.y+L}),setTimeout(function(){L&&function x(D,w){D===window?window.scrollTo(D.pageXOffset,D.pageYOffset+w):D.scrollTop+=w}(D,L),R&&function k(D,w){D===window?window.scrollTo(D.pageXOffset+w,D.pageYOffset):D.scrollLeft+=w}(D,R)})}window.addEventListener("mousedown",E,!1),window.addEventListener("touchstart",E,!1),window.addEventListener("mouseup",T,!1),window.addEventListener("touchend",T,!1),window.addEventListener("pointerup",T,!1),window.addEventListener("mousemove",Z,!1),window.addEventListener("touchmove",Z,!1),window.addEventListener("mouseleave",I,!1),window.addEventListener("scroll",C,!0)}function Kt(n,r,t){return t?n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right:function Xi(n,r){var t=Gt(r);return n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right}(n,r)}var $=_(9300),_t=_(5577),ie=_(3099),Me=_(5698),ar=_(2035),or=_(7359),wt=_(4482);var Ct=_(5403);function Dt(){return(0,wt.e)((n,r)=>{let t,i=!1;n.subscribe((0,Ct.x)(r,a=>{const o=t;t=a,i&&r.next([o,a]),i=!0}))})}var dr=_(1884);class X{constructor(){this.currentDrag=new P.x}}X.\u0275fac=function(r){return new(r||X)},X.\u0275prov=e.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X.ngInjectableDef=(0,e.Ez6)({factory:function(){return new X},token:X,providedIn:"root"});let $t=(()=>{class n{constructor(t){this.elementRef=t,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),n})();function Tt(n,r,t){t&&t.split(" ").forEach(i=>n.addClass(r.nativeElement,i))}function Ve(n,r,t){t&&t.split(" ").forEach(i=>n.removeClass(r.nativeElement,i))}let bt=(()=>{class n{constructor(t,i,a,o,s,l,p){this.element=t,this.renderer=i,this.draggableHelper=a,this.zone=o,this.vcr=s,this.scrollContainer=l,this.document=p,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new e.vpe,this.dragStart=new e.vpe,this.ghostElementCreated=new e.vpe,this.dragging=new e.vpe,this.dragEnd=new e.vpe,this.pointerDown$=new P.x,this.pointerMove$=new P.x,this.pointerUp$=new P.x,this.eventListenerSubscriptions={},this.destroy$=new P.x,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const t=this.pointerDown$.pipe((0,$.h)(()=>this.canDrag()),(0,_t.z)(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const a=this.renderer.createElement("style");this.renderer.setAttribute(a,"type","text/css"),this.renderer.appendChild(a,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(a)});const o=this.getScrollPosition(),s=new Te.y(h=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",E=>h.next(E))).pipe((0,st.O)(o),(0,J.U)(()=>this.getScrollPosition())),l=new P.x,p=new Vi.t;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=(0,ne.T)(this.pointerUp$,this.pointerDown$,p,this.destroy$).pipe((0,ie.B)()),m=(0,Ji.a)([this.pointerMove$,s]).pipe((0,J.U)(([h,C])=>({currentDrag$:l,transformX:h.clientX-i.clientX,transformY:h.clientY-i.clientY,clientX:h.clientX,clientY:h.clientY,scrollLeft:C.left,scrollTop:C.top,target:h.event.target})),(0,J.U)(h=>(this.dragSnapGrid.x&&(h.transformX=Math.round(h.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(h.transformY=Math.round(h.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),h)),(0,J.U)(h=>(this.dragAxis.x||(h.transformX=0),this.dragAxis.y||(h.transformY=0),h)),(0,J.U)(h=>Object.assign({},h,{x:h.transformX+(h.scrollLeft-o.left),y:h.transformY+(h.scrollTop-o.top)})),(0,$.h)(({x:h,y:C,transformX:E,transformY:T})=>!this.validateDrag||this.validateDrag({x:h,y:C,transform:{x:E,y:T}})),(0,te.R)(d),(0,ie.B)()),v=m.pipe((0,Me.q)(1),(0,ie.B)()),y=m.pipe((0,ar.h)(1),(0,ie.B)());return v.subscribe(({clientX:h,clientY:C,x:E,y:T})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:p})}),this.scroller=function ir(n,r){return new nr(n,r)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign({},this.autoScroll,{autoScroll:()=>!0})),Tt(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const S=this.element.nativeElement.getBoundingClientRect(),I=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(I):this.element.nativeElement.parentNode.insertBefore(I,this.element.nativeElement.nextSibling),this.ghostElement=I,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(I,{position:"fixed",top:`${S.top}px`,left:`${S.left}px`,width:`${S.width}px`,height:`${S.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const b=this.vcr.createEmbeddedView(this.ghostElementTemplate);I.innerHTML="",b.rootNodes.filter(O=>O instanceof Node).forEach(O=>{I.appendChild(O)}),y.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(b))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:h-E,clientY:C-T,element:I})}),y.subscribe(()=>{I.parentElement.removeChild(I),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),y.pipe((0,_t.z)(h=>{const C=p.pipe(function lr(n){return function sr(n,r){return(0,wt.e)((0,or.U)(n,r,arguments.length>=2,!1,!0))}((r,t,i)=>!n||n(t,i)?r+1:r,0)}(),(0,Me.q)(1),(0,J.U)(E=>Object.assign({},h,{dragCancelled:E>0})));return p.complete(),C})).subscribe(({x:h,y:C,dragCancelled:E})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:h,y:C,dragCancelled:E})}),Ve(this.renderer,this.element,this.dragActiveClass),l.complete()}),(0,ne.T)(d,y).pipe((0,Me.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(a)})}),m}),(0,ie.B)());(0,ne.T)(t.pipe((0,Me.q)(1),(0,J.U)(i=>[,i])),t.pipe(Dt())).pipe((0,$.h)(([i,a])=>!i||i.x!==a.x||i.y!==a.y),(0,J.U)(([i,a])=>a)).subscribe(({x:i,y:a,currentDrag$:o,clientX:s,clientY:l,transformX:p,transformY:d,target:m})=>{this.zone.run(()=>{this.dragging.next({x:i,y:a})}),requestAnimationFrame(()=>{if(this.ghostElement){const v=`translate3d(${p}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:v,"-webkit-transform":v,"-ms-transform":v,"-moz-transform":v,"-o-transform":v})}}),o.next({clientX:s,clientY:l,dropData:this.dropData,target:m})})}ngOnChanges(t){t.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const t=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;t&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",a=>{this.onMouseDown(a)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",a=>{this.onMouseUp(a)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",a=>{this.onTouchStart(a)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!t&&i&&this.unsubscribeEventListeners()}onMouseDown(t){0===t.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onMouseUp(t){0===t.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onTouchStart(t){let i,a,o;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),a=!1,o=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const s=(0,ut.R)(this.document,"contextmenu").subscribe(p=>{p.preventDefault()}),l=(0,ut.R)(this.document,"touchmove",{passive:!1}).subscribe(p=>{(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&!a&&o&&(a=this.shouldBeginDrag(t,p,i)),((!this.scrollContainer||!this.scrollContainer.activeLongPressDrag)&&!this.touchStartLongPress||!o||a)&&(p.preventDefault(),this.pointerMove$.next({event:p,clientX:p.targetTouches[0].clientX,clientY:p.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),l.unsubscribe()}}this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}onTouchEnd(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(t){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",t)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(t=>{this.eventListenerSubscriptions[t](),delete this.eventListenerSubscriptions[t]})}setElementStyles(t,i){Object.keys(i).forEach(a=>{this.renderer.setStyle(t,a,i[a])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(t,i,a){const o=this.getScrollPosition(),s_top=Math.abs(o.top-a.top),s_left=Math.abs(o.left-a.left),l=Math.abs(i.targetTouches[0].clientX-t.touches[0].clientX)-s_left,p=Math.abs(i.targetTouches[0].clientY-t.touches[0].clientY)-s_top,m=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(l+p>m.delta||s_top>0||s_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=m.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const t=this.getScrollElement();return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(X),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36($t,8),e.Y36(g.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[e.TTD]}),n})();function Qt(n,r,t){return n>=t.left&&n<=t.right&&r>=t.top&&r<=t.bottom}let Et=(()=>{class n{constructor(t,i,a,o,s){this.element=t,this.draggableHelper=i,this.zone=a,this.renderer=o,this.scrollContainer=s,this.dragEnter=new e.vpe,this.dragLeave=new e.vpe,this.dragOver=new e.vpe,this.drop=new e.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(t=>{Tt(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},a=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let o;const s=t.pipe((0,J.U)(({clientX:d,clientY:m,dropData:v,target:y})=>{o=v,i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const h=Qt(d,m,i.rect),C=!this.validateDrop||this.validateDrop({clientX:d,clientY:m,target:y});return i.scrollContainerRect?h&&C&&Qt(d,m,i.scrollContainerRect):h&&C})),l=s.pipe((0,dr.x)());let p;l.pipe((0,$.h)(d=>d)).subscribe(()=>{p=!0,Tt(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:o})})}),s.pipe((0,$.h)(d=>d)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:o})})}),l.pipe(Dt(),(0,$.h)(([d,m])=>d&&!m)).subscribe(()=>{p=!1,Ve(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:o})})}),t.subscribe({complete:()=>{a(),Ve(this.renderer,this.element,this.dragActiveClass),p&&(Ve(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:o})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(X),e.Y36(e.R0b),e.Y36(e.Qsj),e.Y36($t,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),Je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var cr=_(515),ur=_(8505),pr=_(8421);const pe=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function qe(n,r,t=3){return Math.abs(n-r)<t}function Xt(n,r,t,i){const a={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return r.top&&(a.top+=i),r.bottom&&(a.bottom+=i),r.left&&(a.left+=t),r.right&&(a.right+=t),a.height=a.bottom-a.top,a.width=a.right-a.left,a}function en({clientY:n,rect:r}){return n>=r.top&&n<=r.bottom}function tn({clientX:n,rect:r}){return n>=r.left&&n<=r.right}function nn({clientX:n,clientY:r,elm:t,allowedEdges:i,cursorPrecision:a}){const o=t.nativeElement.getBoundingClientRect(),s={};return i.left&&qe(n,o.left,a)&&en({clientY:r,rect:o})&&(s.left=!0),i.right&&qe(n,o.right,a)&&en({clientY:r,rect:o})&&(s.right=!0),i.top&&qe(r,o.top,a)&&tn({clientX:n,rect:o})&&(s.top=!0),i.bottom&&qe(r,o.bottom,a)&&tn({clientX:n,rect:o})&&(s.bottom=!0),s}const rn=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function St(n,r){return n.left&&n.top?r.topLeft:n.right&&n.top?r.topRight:n.left&&n.bottom?r.bottomLeft:n.right&&n.bottom?r.bottomRight:n.left||n.right?r.leftOrRight:n.top||n.bottom?r.topOrBottom:""}function je({edges:n,initialRectangle:r,newRectangle:t}){const i={};return Object.keys(n).forEach(a=>{i[a]=(t[a]||0)-(r[a]||0)}),i}const an="resize-active";let on=(()=>{class n{constructor(t,i,a,o){this.platformId=t,this.renderer=i,this.elm=a,this.zone=o,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=rn,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new e.vpe,this.resizing=new e.vpe,this.resizeEnd=new e.vpe,this.mouseup=new P.x,this.mousedown=new P.x,this.mousemove=new P.x,this.destroy$=new P.x,this.resizeEdges$=new P.x,this.pointerEventListeners=ye.getInstance(i,o)}ngOnInit(){const t=(0,ne.T)(this.pointerEventListeners.pointerDown,this.mousedown),i=(0,ne.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,ur.b)(({event:d})=>{if(o)try{d.preventDefault()}catch{}}),(0,ie.B)()),a=(0,ne.T)(this.pointerEventListeners.pointerUp,this.mouseup);let o;const s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>Object.assign({},rn,this.resizeCursors);this.resizeEdges$.pipe((0,st.O)(this.resizeEdges),(0,J.U)(()=>this.resizeEdges&&Object.keys(this.resizeEdges).some(d=>!!this.resizeEdges[d])),(0,We.w)(d=>d?i:cr.E),function gr(n,r=zt.z){return function mr(n){return(0,wt.e)((r,t)=>{let i=!1,a=null,o=null,s=!1;const l=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const d=a;a=null,t.next(d)}s&&t.complete()},p=()=>{o=null,s&&t.complete()};r.subscribe((0,Ct.x)(t,d=>{i=!0,a=d,o||(0,pr.Xf)(n(d)).subscribe(o=(0,Ct.x)(t,l,p))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>(0,ot.H)(n,r))}(this.mouseMoveThrottleMS),(0,te.R)(this.destroy$)).subscribe(({clientX:d,clientY:m})=>{const v=nn({clientX:d,clientY:m,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}),y=l();if(!o){const h=St(v,y);this.renderer.setStyle(this.elm.nativeElement,"cursor",h)}this.setElementClass(this.elm,"resize-left-hover",!0===v.left),this.setElementClass(this.elm,"resize-right-hover",!0===v.right),this.setElementClass(this.elm,"resize-top-hover",!0===v.top),this.setElementClass(this.elm,"resize-bottom-hover",!0===v.bottom)}),t.pipe((0,_t.z)(d=>{function m(h){return{clientX:h.clientX-d.clientX,clientY:h.clientY-d.clientY}}const v=()=>{const h={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?h.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(h.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?h.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(h.y=+this.resizeSnapGrid.bottom)),h};function y(h,C){return{x:Math.ceil(h.clientX/C.x),y:Math.ceil(h.clientY/C.y)}}return(0,ne.T)(i.pipe((0,Me.q)(1)).pipe((0,J.U)(h=>[,h])),i.pipe(Dt())).pipe((0,J.U)(([h,C])=>[h&&m(h),m(C)])).pipe((0,$.h)(([h,C])=>{if(!h)return!0;const E=v(),T=y(h,E),S=y(C,E);return T.x!==S.x||T.y!==S.y})).pipe((0,J.U)(([,h])=>{const C=v();return{clientX:Math.round(h.clientX/C.x)*C.x,clientY:Math.round(h.clientY/C.y)*C.y}})).pipe((0,te.R)((0,ne.T)(a,t)))})).pipe((0,$.h)(()=>!!o)).pipe((0,J.U)(({clientX:d,clientY:m})=>Xt(o.startingRect,o.edges,d,m))).pipe((0,$.h)(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe((0,$.h)(d=>!this.validateResize||this.validateResize({rectangle:d,edges:je({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d})})),(0,te.R)(this.destroy$)).subscribe(d=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:je({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d}),rectangle:d})}),o.currentRect=d}),t.pipe((0,J.U)(({clientX:d,clientY:m,edges:v})=>v||nn({clientX:d,clientY:m,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}))).pipe((0,$.h)(d=>Object.keys(d).length>0),(0,te.R)(this.destroy$)).subscribe(d=>{o&&s();const m=function hr(n,r){let t=0,i=0;const a=n.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>a[l]).find(l=>!!l);if(s&&s.includes("translate")&&(t=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===r)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-t,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-t};{const l=n.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-i,bottom:l.bottom-i,left:l.left-t,right:l.right-t,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:d,startingRect:m,currentRect:m};const v=l(),y=St(o.edges,v);this.renderer.setStyle(document.body,"cursor",y),this.setElementClass(this.elm,an,!0),this.enableGhostResize&&(o.clonedNode=this.elm.nativeElement.cloneNode(!0),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",St(o.edges,v)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:je({edges:d,initialRectangle:m,newRectangle:m}),rectangle:Xt(m,{},0,0)})})}),a.pipe((0,te.R)(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,an),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:je({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnChanges(t){t.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}ngOnDestroy(){(0,g.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}setElementClass(t,i,a){a?this.renderer.addClass(t.nativeElement,i):this.renderer.removeClass(t.nativeElement,i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"],features:[e.TTD]}),n})();class ye{static getInstance(r,t){return ye.instance||(ye.instance=new ye(r,t)),ye.instance}constructor(r,t){this.pointerDown=new Te.y(i=>{let a,o;return t.runOutsideAngular(()=>{a=r.listen("document","mousedown",s=>{i.next({clientX:s.clientX,clientY:s.clientY,event:s})}),pe&&(o=r.listen("document","touchstart",s=>{i.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{a(),pe&&o()}}).pipe((0,ie.B)()),this.pointerMove=new Te.y(i=>{let a,o;return t.runOutsideAngular(()=>{a=r.listen("document","mousemove",s=>{i.next({clientX:s.clientX,clientY:s.clientY,event:s})}),pe&&(o=r.listen("document","touchmove",s=>{i.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{a(),pe&&o()}}).pipe((0,ie.B)()),this.pointerUp=new Te.y(i=>{let a,o,s;return t.runOutsideAngular(()=>{a=r.listen("document","mouseup",l=>{i.next({clientX:l.clientX,clientY:l.clientY,event:l})}),pe&&(o=r.listen("document","touchend",l=>{i.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),s=r.listen("document","touchcancel",l=>{i.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{a(),pe&&(o(),s())}}).pipe((0,ie.B)())}}let Dr=(()=>{class n{constructor(t,i,a,o){this.renderer=t,this.element=i,this.zone=a,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new P.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(t=>{this.onMousedown(t,t.clientX,t.clientY)}),this.listenOnTheHost("mouseup").subscribe(t=>{this.onMouseup(t.clientX,t.clientY)}),pe&&(this.listenOnTheHost("touchstart").subscribe(t=>{this.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}),(0,ne.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(t=>{this.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(t,i,a){t.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:a,edges:this.resizeEdges})}onMouseup(t,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(t,i,a){this.resizable.mousemove.next({clientX:i,clientY:a,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}listenOnTheHost(t){return(0,ut.R)(this.element.nativeElement,t).pipe((0,te.R)(this.destroy$))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(on,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),sn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var re=_(7340);const Tr=function(n){return{action:n}};function br(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",5),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).event;return e.KtG(s.onClick({event:l,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).event;return e.KtG(s.onClick({event:l,sourceEvent:a}))}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=r.$implicit;e.Q6J("ngClass",t.cssClass)("innerHtml",t.label,e.oJD),e.uIk("aria-label",e.xi3(1,3,e.VKq(6,Tr,t),"actionButtonLabel"))}}function Er(n,r){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,br,2,8,"a",4),e.qZA()),2&n){const t=e.oxw(),i=t.event,a=t.trackByActionId;e.xp6(1),e.Q6J("ngForOf",i.actions)("ngForTrackBy",a)}}function Sr(n,r){1&n&&e.YNc(0,Er,2,2,"span",2),2&n&&e.Q6J("ngIf",r.event.actions)}function kr(n,r){}const Mr=function(n,r){return{event:n,trackByActionId:r}},_e=function(){return{}};function Ar(n,r){if(1&n&&(e._UZ(0,"span",2),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y")),2&n){const t=r.event;e.Q6J("innerHTML",e.Dn7(1,2,t.title,r.view,t),e.oJD),e.uIk("aria-hidden",e.xi3(2,6,e.DdM(9,_e),"hideEventTitle"))}}function Ir(n,r){}const Or=function(n,r){return{event:n,view:r}};function xr(n,r){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"div",3)(2,"div",4),e.qZA()),2&n){const t=r.contents;e.Q6J("ngClass","cal-tooltip-"+r.placement),e.xp6(2),e.Q6J("innerHtml",t,e.oJD)}}function Zr(n,r){}const Br=function(n,r,t){return{contents:n,placement:r,event:t}},kt=function(n){return{backgroundColor:n}};function Hr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-cell",7),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dayClicked.emit({day:s,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dayClicked.emit({day:s,sourceEvent:a}))})("highlightDay",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleDayHighlight(a.event,!0))})("unhighlightDay",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleDayHighlight(a.event,!1))})("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.eventDropped(s,a.dropData.event,a.dropData.draggedFrom))})("eventClicked",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent}))}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(2);e.Q6J("ngClass",null==t?null:t.cssClass)("day",t)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",e.VKq(15,kt,t.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),e.uIk("tabindex",e.xi3(1,12,e.DdM(17,_e),"monthCellTabIndex"))}}function Lr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4),e.YNc(2,Hr,2,18,"mwl-calendar-month-cell",5),e.ALo(3,"slice"),e.qZA(),e.TgZ(4,"mwl-calendar-open-day-events",6),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent}))})("drop",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventDropped(o.openDay,a.dropData.event,a.dropData.draggedFrom))}),e.qZA()()}if(2&n){const t=r.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,9,i.view.days,t,t+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),e.xp6(2),e.Q6J("locale",i.locale)("isOpen",i.openRowIndex===t)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function Rr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.columnHeaderClicked.emit({isoDayNumber:s.day,sourceEvent:a}))}),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(1),e.hij(" ",e.Dn7(2,10,t.date,"monthViewColumnHeader",i)," ")}}function Fr(n,r){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,Rr,3,14,"div",3),e.qZA()),2&n){const t=r.days,i=r.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i)}}function Nr(n,r){}const Wr=function(n,r,t){return{days:n,locale:r,trackByWeekDayHeaderDate:t}};function Pr(n,r){if(1&n&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&n){const t=e.oxw().day;e.xp6(1),e.Oqu(t.badgeTotal)}}const Yr=function(n,r){return{event:n,draggedFrom:r}},Ae=function(n,r){return{x:n,y:r}},Ge=function(){return{delay:300,delta:30}};function zr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(){const o=e.CHM(t).$implicit,s=e.oxw(2).highlightDay;return e.KtG(s.emit({event:o}))})("mouseleave",function(){const o=e.CHM(t).$implicit,s=e.oxw(2).unhighlightDay;return e.KtG(s.emit({event:o}))})("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:a}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(2),a=i.tooltipPlacement,o=i.tooltipTemplate,s=i.tooltipAppendToBody,l=i.tooltipDelay,p=i.day,d=i.validateDrag;e.ekj("cal-draggable",t.draggable),e.Q6J("ngStyle",e.VKq(22,kt,null==t.color?null:t.color.primary))("ngClass",null==t?null:t.cssClass)("mwlCalendarTooltip",e.Dn7(1,15,t.title,"monthTooltip",t))("tooltipPlacement",a)("tooltipEvent",t)("tooltipTemplate",o)("tooltipAppendToBody",s)("tooltipDelay",l)("dropData",e.WLB(24,Yr,t,p))("dragAxis",e.WLB(27,Ae,t.draggable,t.draggable))("validateDrag",d)("touchStartLongPress",e.DdM(30,Ge)),e.uIk("aria-hidden",e.xi3(2,19,e.DdM(31,_e),"hideMonthCellEvents"))}}function Ur(n,r){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,zr,3,32,"div",9),e.qZA()),2&n){const t=e.oxw(),i=t.day,a=t.trackByEventId;e.xp6(1),e.Q6J("ngForOf",i.events)("ngForTrackBy",a)}}const Vr=function(n,r){return{day:n,locale:r}};function Jr(n,r){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.TgZ(2,"span",3),e.YNc(3,Pr,2,1,"span",4),e.TgZ(4,"span",5),e._uU(5),e.ALo(6,"calendarDate"),e.qZA()()(),e.YNc(7,Ur,2,2,"div",6)),2&n){const t=r.day,i=r.locale;e.uIk("aria-label",e.xi3(1,4,e.WLB(11,Vr,t,i),"monthCell")),e.xp6(3),e.Q6J("ngIf",t.badgeTotal>0),e.xp6(2),e.Oqu(e.Dn7(6,7,t.date,"monthViewDayNumber",i)),e.xp6(2),e.Q6J("ngIf",t.events.length>0)}}function qr(n,r){}const jr=function(n,r,t,i,a,o,s,l,p,d,m,v){return{day:n,openDay:r,locale:t,tooltipPlacement:i,highlightDay:a,unhighlightDay:o,eventClicked:s,tooltipTemplate:l,tooltipAppendToBody:p,tooltipDelay:d,trackByEventId:m,validateDrag:v}},Gr=function(n){return{event:n}},ln=function(n,r){return{event:n,locale:r}};function Kr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e._UZ(1,"span",8),e._uU(2," "),e.TgZ(3,"mwl-calendar-event-title",9),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:a}))}),e.ALo(4,"calendarA11y"),e.qZA(),e._uU(5," "),e._UZ(6,"mwl-calendar-event-actions",10),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(2).validateDrag,a=e.oxw();e.ekj("cal-draggable",t.draggable),e.Q6J("ngClass",null==t?null:t.cssClass)("dropData",e.VKq(16,Gr,t))("dragAxis",e.WLB(18,Ae,t.draggable,t.draggable))("validateDrag",i)("touchStartLongPress",e.DdM(21,Ge)),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,kt,null==t.color?null:t.color.primary)),e.xp6(2),e.Q6J("event",t)("customTemplate",a.eventTitleTemplate),e.uIk("aria-label",e.xi3(4,13,e.WLB(24,ln,t,a.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t)("customTemplate",a.eventActionsTemplate)}}const dn=function(n,r){return{date:n,locale:r}};function $r(n,r){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"span",4),e.ALo(2,"calendarA11y"),e._UZ(3,"span",5),e.ALo(4,"calendarA11y"),e.YNc(5,Kr,7,27,"div",6),e.qZA()),2&n){const t=e.oxw(),i=t.events,a=t.trackByEventId,o=e.oxw();e.Q6J("@collapse",void 0),e.xp6(1),e.uIk("aria-label",e.xi3(2,5,e.WLB(11,dn,o.date,o.locale),"openDayEventsAlert")),e.xp6(2),e.uIk("aria-label",e.xi3(4,8,e.WLB(14,dn,o.date,o.locale),"openDayEventsLandmark")),e.xp6(2),e.Q6J("ngForOf",i)("ngForTrackBy",a)}}function Qr(n,r){1&n&&e.YNc(0,$r,6,17,"div",2),2&n&&e.Q6J("ngIf",r.isOpen)}function Xr(n,r){}const ea=function(n,r,t,i,a){return{events:n,eventClicked:r,isOpen:t,trackByEventId:i,validateDrag:a}};function ta(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.eventDropped(a,s.date,!0))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.dateDragEnter(o.date))}),e.qZA()}}const na=function(){return{left:!0}};function ia(n,r){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,na))}const ra=function(){return{right:!0}};function aa(n,r){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,ra))}const oa=function(n,r){return{left:n,right:r}},cn=function(n,r){return{event:n,calendarId:r}},sa=function(n){return{x:n}};function la(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",17,18),e.NdJ("resizeStart",function(a){const s=e.CHM(t).$implicit;e.oxw();const l=e.MAs(1),p=e.oxw(2);return e.KtG(p.allDayEventResizeStarted(l,s,a))})("resizing",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.allDayEventResizing(s,a,l.dayColumnWidth))})("resizeEnd",function(){const o=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.allDayEventResizeEnded(o))})("dragStart",function(){e.CHM(t);const a=e.MAs(1);e.oxw();const o=e.MAs(1),s=e.oxw(2);return e.KtG(s.dragStarted(o,a))})("dragging",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.allDayEventDragMove())})("dragEnd",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.dragEnded(s,a,l.dayColumnWidth))}),e.YNc(2,ia,1,2,"div",19),e.TgZ(3,"mwl-calendar-week-view-event",20),e.NdJ("eventClicked",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.eventClicked.emit({event:s.event,sourceEvent:a.sourceEvent}))}),e.qZA(),e.YNc(4,aa,1,2,"div",21),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(3);e.Udp("width",100/i.days.length*t.span,"%")("margin-left",100/i.days.length*t.offset,"%"),e.ekj("cal-draggable",t.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!t.startsBeforeWeek)("cal-ends-within-week",!t.endsAfterWeek),e.Q6J("ngClass",null==t.event?null:t.event.cssClass)("resizeSnapGrid",e.WLB(30,oa,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",e.WLB(33,cn,t.event,i.calendarId))("dragAxis",e.WLB(36,Ae,t.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&t.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?e.VKq(39,sa,i.dayColumnWidth):e.DdM(41,_e))("validateDrag",i.validateDrag)("touchStartLongPress",e.DdM(42,Ge)),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeWeek),e.xp6(1),e.Q6J("locale",i.locale)("weekEvent",t)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),e.xp6(1),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterWeek)}}function da(n,r){if(1&n&&(e.TgZ(0,"div",14,15),e.YNc(2,la,5,43,"div",16),e.qZA()),2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function ca(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",8,9),e.NdJ("dragEnter",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.dragEnter("allDay"))})("dragLeave",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.dragLeave("allDay"))}),e.TgZ(2,"div",5),e._UZ(3,"div",10),e.YNc(4,ta,1,0,"div",11),e.qZA(),e.YNc(5,da,3,2,"div",12),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",t.allDayEventsLabelTemplate),e.xp6(1),e.Q6J("ngForOf",t.days)("ngForTrackBy",t.trackByWeekDayHeaderDate),e.xp6(1),e.Q6J("ngForOf",t.view.allDayEventRows)("ngForTrackBy",t.trackById)}}function ua(n,r){if(1&n&&e._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&n){const t=r.$implicit,i=e.oxw(3);e.Udp("height",i.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function pa(n,r){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,ua,1,8,"mwl-calendar-week-view-hour-segment",27),e.qZA()),2&n){const t=r.$implicit,i=r.odd,a=e.oxw(2);e.ekj("cal-hour-odd",i),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",a.trackByHourSegment)}}function ma(n,r){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,pa,2,4,"div",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.view.hourColumns[0].hours)("ngForTrackBy",t.trackByHour)}}const ga=function(){return{left:!0,top:!0}};function ha(n,r){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,ga))}function va(n,r){}function fa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-event",36),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.eventClicked.emit({event:o.event,sourceEvent:a.sourceEvent}))}),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit,a=e.oxw();e.Q6J("locale",a.locale)("weekEvent",t)("tooltipPlacement",a.tooltipPlacement)("tooltipTemplate",a.tooltipTemplate)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipDisabled",a.dragActive||a.timeEventResizes.size>0)("tooltipDelay",a.tooltipDelay)("customTemplate",a.eventTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)("column",i)("daysInWeek",a.daysInWeek)}}const ya=function(){return{right:!0,bottom:!0}};function _a(n,r){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,ya))}const wa=function(n,r,t,i){return{left:n,right:r,top:t,bottom:i}};function Ca(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",33,18),e.NdJ("resizeStart",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2),p=e.MAs(6);return e.KtG(l.timeEventResizeStarted(p,s,a))})("resizing",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.timeEventResizing(s,a))})("resizeEnd",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.timeEventResizeEnded(o))})("dragStart",function(){const o=e.CHM(t).$implicit,s=e.MAs(1),l=e.oxw(2),p=e.MAs(6);return e.KtG(l.dragStarted(p,s,o))})("dragging",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dragMove(s,a))})("dragEnd",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dragEnded(s,a,l.dayColumnWidth,!0))}),e.YNc(2,ha,1,2,"div",19),e.YNc(3,va,0,0,"ng-template",34),e.YNc(4,fa,1,12,"ng-template",null,35,e.W1O),e.YNc(6,_a,1,2,"div",21),e.qZA()}if(2&n){const t=r.$implicit,i=e.MAs(5),a=e.oxw(2);e.Udp("top",t.top,"px")("height",t.height,"px")("left",t.left,"%")("width",t.width,"%"),e.ekj("cal-draggable",t.event.draggable&&0===a.timeEventResizes.size)("cal-starts-within-day",!t.startsBeforeDay)("cal-ends-within-day",!t.endsAfterDay),e.Q6J("ngClass",t.event.cssClass)("hidden",0===t.height&&0===t.width)("resizeSnapGrid",e.l5B(29,wa,a.dayColumnWidth,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight,a.eventSnapSize||a.hourSegmentHeight))("validateResize",a.validateResize)("allowNegativeResizes",!0)("dropData",e.WLB(34,cn,t.event,a.calendarId))("dragAxis",e.WLB(37,Ae,t.event.draggable&&0===a.timeEventResizes.size,t.event.draggable&&0===a.timeEventResizes.size))("dragSnapGrid",a.snapDraggedEvents?e.WLB(40,Ae,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight):e.DdM(43,_e))("touchStartLongPress",e.DdM(44,Ge))("ghostDragEnabled",!a.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",a.validateDrag),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeDay),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(3),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterDay)}}function Da(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-hour-segment",38),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.hourSegmentClicked.emit({date:s.date,sourceEvent:a}))})("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.eventDropped(a,s.date,!1))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.dateDragEnter(o.date))}),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(3);e.Udp("height",i.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function Ta(n,r){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,Da,1,10,"mwl-calendar-week-view-hour-segment",37),e.qZA()),2&n){const t=r.$implicit,i=r.odd,a=e.oxw(2);e.ekj("cal-hour-odd",i),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",a.trackByHourSegment)}}function ba(n,r){if(1&n&&(e.TgZ(0,"div",29),e._UZ(1,"mwl-calendar-week-view-current-time-marker",30),e.TgZ(2,"div",31),e.YNc(3,Ca,7,45,"div",32),e.qZA(),e.YNc(4,Ta,2,4,"div",25),e.qZA()),2&n){const t=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("columnDate",t.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),e.xp6(2),e.Q6J("ngForOf",t.events)("ngForTrackBy",i.trackByWeekTimeEvent),e.xp6(1),e.Q6J("ngForOf",t.hours)("ngForTrackBy",i.trackByHour)}}function Ea(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw().dayHeaderClicked;return e.KtG(l.emit({day:s,sourceEvent:a}))})("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw().eventDropped;return e.KtG(l.emit({event:a.dropData.event,newStart:s.date}))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw().dragEnter;return e.KtG(s.emit({date:o.date}))}),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"calendarDate"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"calendarDate"),e.qZA()()}if(2&n){const t=r.$implicit,i=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(2),e.Oqu(e.Dn7(3,11,t.date,"weekViewColumnHeader",i)),e.xp6(4),e.Oqu(e.Dn7(7,15,t.date,"weekViewColumnSubHeader",i))}}function Sa(n,r){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,Ea,8,19,"div",3),e.qZA()),2&n){const t=r.days,i=r.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i)}}function ka(n,r){}const Ma=function(n,r,t,i,a,o){return{days:n,locale:r,dayHeaderClicked:t,eventDropped:i,dragEnter:a,trackByWeekDayHeaderDate:o}},Aa=function(n,r){return{backgroundColor:n,borderColor:r}};function Ia(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("mwlClick",function(a){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:a}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e._UZ(3,"mwl-calendar-event-actions",3),e._uU(4," "),e._UZ(5,"mwl-calendar-event-title",4),e.qZA()}if(2&n){const t=r.weekEvent,i=r.tooltipPlacement,a=r.tooltipTemplate,o=r.tooltipAppendToBody,s=r.tooltipDisabled,l=r.tooltipDelay,p=r.daysInWeek,d=e.oxw();e.Q6J("ngStyle",e.WLB(20,Aa,null==t.event.color?null:t.event.color.secondary,null==t.event.color?null:t.event.color.primary))("mwlCalendarTooltip",s?"":e.Dn7(1,13,t.event.title,1===p?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",i)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",a)("tooltipAppendToBody",o)("tooltipDelay",l),e.uIk("aria-label",e.xi3(2,17,e.WLB(23,ln,t.tempEvent||t.event,d.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t.tempEvent||t.event)("customTemplate",d.eventActionsTemplate),e.xp6(2),e.Q6J("event",t.tempEvent||t.event)("customTemplate",d.eventTitleTemplate)("view",1===p?"day":"week")}}function Oa(n,r){}const xa=function(n,r,t,i,a,o,s,l,p){return{weekEvent:n,tooltipPlacement:r,eventClicked:t,tooltipTemplate:i,tooltipAppendToBody:a,tooltipDisabled:o,tooltipDelay:s,column:l,daysInWeek:p}};function Za(n,r){if(1&n&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()),2&n){const t=e.oxw(),i=t.segment,a=t.daysInWeek,o=t.locale;e.xp6(1),e.hij(" ",e.Dn7(2,1,i.displayDate,1===a?"dayViewHour":"weekViewHour",o)," ")}}function Ba(n,r){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.YNc(2,Za,3,5,"div",3),e.qZA()),2&n){const t=r.segment,a=r.isTimeLabel,o=r.daysInWeek;e.Udp("height",r.segmentHeight,"px"),e.ekj("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart),e.Q6J("ngClass",t.cssClass),e.uIk("aria-hidden",e.xi3(1,9,e.DdM(12,_e),1===o?"hideDayHourSegment":"hideWeekHourSegment")),e.xp6(2),e.Q6J("ngIf",a)}}function Ha(n,r){}const La=function(n,r,t,i,a){return{segment:n,locale:r,segmentHeight:t,isTimeLabel:i,daysInWeek:a}};function Ra(n,r){if(1&n&&e._UZ(0,"div",3),2&n){const t=e.oxw().topPx;e.Udp("top",t,"px")}}function Fa(n,r){1&n&&e.YNc(0,Ra,1,2,"div",2),2&n&&e.Q6J("ngIf",r.isVisible)}function Na(n,r){}const Wa=function(n,r,t,i,a,o,s){return{columnDate:n,dayStartHour:r,dayStartMinute:t,dayEndHour:i,dayEndMinute:a,isVisible:o,topPx:s}};let un=(()=>{let n=class{constructor(){this.trackByActionId=(t,i)=>i.id?i.id:i}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(t,i){if(1&t&&(e.YNc(0,Sr,1,1,"ng-template",null,0,e.W1O),e.YNc(2,kr,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.WLB(2,Mr,i.event,i.trackByActionId))}},dependencies:function(){return[g.mk,g.sg,g.O5,g.tP,me,Qe,ge]},encapsulation:2}),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"event",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),n})(),pn=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(t,i){if(1&t&&(e.YNc(0,Ar,3,10,"ng-template",null,0,e.W1O),e.YNc(2,Ir,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.WLB(2,Or,i.event,i.view))}},dependencies:function(){return[g.tP,Ot,ge]},encapsulation:2}),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"event",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"view",void 0),n})(),Pa=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(t,i){if(1&t&&(e.YNc(0,xr,3,2,"ng-template",null,0,e.W1O),e.YNc(2,Zr,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.kEZ(2,Br,i.contents,i.placement,i.event))}},dependencies:[g.mk,g.tP],encapsulation:2}),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"contents",void 0),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"placement",void 0),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"event",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),n})(),mn=(()=>{let n=class{constructor(t,i,a,o,s,l){this.elementRef=t,this.injector=i,this.renderer=a,this.viewContainerRef=s,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new P.x,this.tooltipFactory=o.resolveComponentFactory(Pa)}ngOnChanges(t){this.tooltipRef&&(t.contents||t.customTemplate||t.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,ki.of)("now"):(0,ot.H)(this.delay)).pipe((0,te.R)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(t=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function Si(n,r,t,i,a){var o=Array.isArray(t)?t:t.split(Ei),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=r.classList,p=function(T){var S=T.split("-"),I=S[0],b=S[1],O=[];return a&&(O.push(a+"-"+I),b&&O.push(a+"-"+I+"-"+b),O.forEach(function(Z){l.add(Z)})),O};a&&s.forEach(function(T){l.remove(a+"-"+T)});var d=o.findIndex(function(T){return"auto"===T});d>=0&&s.forEach(function(T){null==o.find(function(S){return-1!==S.search("^"+T)})&&o.splice(d++,1,T)});var m=r.style;m.position="absolute",m.top="0",m.left="0",m["will-change"]="transform";for(var v,y=!1,h=0,C=o;h<C.length;h++){var E=p(v=C[h]);if(Yt.positionElements(n,r,v,i)){y=!0;break}a&&E.forEach(function(T){l.remove(T)})}return y||(p(v=o[0]),Yt.positionElements(n,r,v,i)),v}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===t.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...t,this.tooltipRef.instance.placement]))}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.zs3),e.Y36(e.Qsj),e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(g.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(t,i){1&t&&e.NdJ("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[e.TTD]}),u([(0,e.IIB)("mwlCalendarTooltip"),c("design:type",String)],n.prototype,"contents",void 0),u([(0,e.IIB)("tooltipPlacement"),c("design:type",Object)],n.prototype,"placement",void 0),u([(0,e.IIB)("tooltipTemplate"),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),u([(0,e.IIB)("tooltipEvent"),c("design:type",Object)],n.prototype,"event",void 0),u([(0,e.IIB)("tooltipAppendToBody"),c("design:type",Boolean)],n.prototype,"appendToBody",void 0),u([(0,e.IIB)("tooltipDelay"),c("design:type",Number)],n.prototype,"delay",void 0),u([(0,e.L6J)("mouseenter"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],n.prototype,"onMouseOver",null),u([(0,e.L6J)("mouseleave"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],n.prototype,"onMouseOut",null),n=u([ve(5,(0,e.tBr)(g.K0)),c("design:paramtypes",[e.SBq,e.zs3,e.Qsj,e._Vd,e.s_b,Object])],n),n})();class U{}var ae=(()=>{return(n=ae||(ae={})).Month="month",n.Week="week",n.Day="day",ae;var n})();const gn=n=>function Ui(n,r){var t=!0;function i(a,o){r(a,o),t=!1}return Array.isArray(n)?(n.forEach(function(a){a.start?a.start instanceof Date||i(le.StartPropertyNotDate,a):i(le.StartPropertyMissing,a),a.end&&(a.end instanceof Date||i(le.EndPropertyNotDate,a),a.start>a.end&&i(le.EndsBeforeStart,a))}),t):(r(le.NotArray,n),!1)}(n,(...t)=>console.warn("angular-calendar",...t));function hn(n,r){return Math.floor(n.left)<=Math.ceil(r.left)&&Math.floor(r.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(r.right)&&Math.floor(r.right)<=Math.ceil(n.right)&&Math.floor(n.top)<=Math.ceil(r.top)&&Math.floor(r.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(r.bottom)&&Math.floor(r.bottom)<=Math.ceil(n.bottom)}function vn(n,r){return Math.round(n/r)*r}const fn=(n,r)=>r.id?r.id:r,Mt=(n,r)=>r.date.toISOString(),Ya=(n,r)=>r.date.toISOString(),za=(n,r)=>r.segments[0].date.toISOString(),Ua=(n,r)=>r.event.id?r.event.id:r.event,Va=(n,r)=>r.event.id?r.event.id:r.event,Ja=60;function yn(n,r){return Ja/(n*r)}function At(n,r,t,i){return vn(n,i||t)*yn(r,t)}function _n(n,r,t){return r.end?r.end:n.addMinutes(r.start,t)}function Q(n,r,t,i){let a=0,o=0;const s=t<0?n.subDays:n.addDays;let l=r;for(;o<=Math.abs(t);){l=s(r,a);const p=n.getDay(l);-1===i.indexOf(p)&&o++,a++}return l}function It(n,r,t,i=[],a){let o=a?n.startOfDay(r):n.startOfWeek(r,{weekStartsOn:t});const s=n.endOfWeek(r,{weekStartsOn:t});for(;i.indexOf(n.getDay(o))>-1&&o<s;)o=n.addDays(o,1);if(a)return{viewStart:o,viewEnd:n.endOfDay(Q(n,o,a-1,i))};{let l=s;for(;i.indexOf(n.getDay(l))>-1&&l>o;)l=n.subDays(l,1);return{viewStart:o,viewEnd:l}}}function Ke({x:n,y:r}){return Math.abs(n)>1||Math.abs(r)>1}let Ka=(()=>{let n=class{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===ae.Day?Q(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===ae.Week&&this.daysInWeek?Q(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):t(this.viewDate,1))}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(U))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"view",void 0),u([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"excludeDays",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"daysInWeek",void 0),u([(0,e.r_U)(),c("design:type",e.vpe)],n.prototype,"viewDateChange",void 0),u([(0,e.L6J)("click"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],n.prototype,"onClick",null),n=u([c("design:paramtypes",[U])],n),n})(),$a=(()=>{let n=class{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===ae.Day?Q(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===ae.Week&&this.daysInWeek?Q(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):t(this.viewDate,1))}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(U))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"view",void 0),u([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"excludeDays",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"daysInWeek",void 0),u([(0,e.r_U)(),c("design:type",e.vpe)],n.prototype,"viewDateChange",void 0),u([(0,e.L6J)("click"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],n.prototype,"onClick",null),n=u([c("design:paramtypes",[U])],n),n})(),Qa=(()=>{let n=class{constructor(t){this.dateAdapter=t,this.viewDateChange=new e.vpe}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(U))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),u([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),u([(0,e.r_U)(),c("design:type",e.vpe)],n.prototype,"viewDateChange",void 0),u([(0,e.L6J)("click"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],n.prototype,"onClick",null),n=u([c("design:paramtypes",[U])],n),n})(),Xa=(()=>{let n=class{constructor(t){this.dateAdapter=t}monthViewColumnHeader({date:t,locale:i}){return(0,g.p6)(t,"EEEE",i)}monthViewDayNumber({date:t,locale:i}){return(0,g.p6)(t,"d",i)}monthViewTitle({date:t,locale:i}){return(0,g.p6)(t,"LLLL y",i)}weekViewColumnHeader({date:t,locale:i}){return(0,g.p6)(t,"EEEE",i)}weekViewColumnSubHeader({date:t,locale:i}){return(0,g.p6)(t,"MMM d",i)}weekViewTitle({date:t,locale:i,weekStartsOn:a,excludeDays:o,daysInWeek:s}){const{viewStart:l,viewEnd:p}=It(this.dateAdapter,t,a,o,s),d=(m,v)=>(0,g.p6)(m,"MMM d"+(v?", yyyy":""),i);return`${d(l,l.getUTCFullYear()!==p.getUTCFullYear())} - ${d(p,!0)}`}weekViewHour({date:t,locale:i}){return(0,g.p6)(t,"h a",i)}dayViewHour({date:t,locale:i}){return(0,g.p6)(t,"h a",i)}dayViewTitle({date:t,locale:i}){return(0,g.p6)(t,"EEEE, MMMM d, y",i)}};return n.\u0275fac=function(t){return new(t||n)(e.LFG(U))},n.\u0275prov=e.Yz7({token:n,factory:function(r){return n.\u0275fac(r)}}),n=u([c("design:paramtypes",[U])],n),n})(),Ie=(()=>{let n=class extends Xa{};return n.\u0275fac=function(){let r;return function(i){return(r||(r=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:function(r){return n.\u0275fac(r)}}),n})(),Oe=(()=>{let n=class{constructor(t,i){this.dateFormatter=t,this.locale=i}transform(t,i,a=this.locale,o=0,s=[],l){if(typeof this.dateFormatter[i]>"u"){const p=Object.getOwnPropertyNames(Object.getPrototypeOf(Ie.prototype)).filter(d=>"constructor"!==d);throw new Error(`${i} is not a valid date formatter. Can only be one of ${p.join(", ")}`)}return this.dateFormatter[i]({date:t,locale:a,weekStartsOn:o,excludeDays:s,daysInWeek:l})}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ie,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarDate",type:n,pure:!0}),n=u([ve(1,(0,e.tBr)(e.soG)),c("design:paramtypes",[Ie,String])],n),n})();class $e{month(r,t){return r.title}monthTooltip(r,t){return r.title}week(r,t){return r.title}weekTooltip(r,t){return r.title}day(r,t){return r.title}dayTooltip(r,t){return r.title}}let Ot=(()=>{let n=class{constructor(t){this.calendarEventTitle=t}transform(t,i,a){return this.calendarEventTitle[i](a,t)}};return n.\u0275fac=function(t){return new(t||n)(e.Y36($e,16))},n.\u0275pipe=e.Yjl({name:"calendarEventTitle",type:n,pure:!0}),n=u([c("design:paramtypes",[$e])],n),n})(),me=(()=>{let n=class{constructor(t,i,a){this.renderer=t,this.elm=i,this.document=a,this.clickListenerDisabled=!1,this.click=new e.vpe,this.destroy$=new P.x}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,te.R)(this.destroy$)).subscribe(t=>{t.stopPropagation(),this.click.emit(t)})}ngOnDestroy(){this.destroy$.next()}listen(){return new Te.y(t=>this.renderer.listen(this.elm.nativeElement,"click",i=>{t.next(i)}))}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(g.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"clickListenerDisabled",void 0),u([(0,e.r_U)("mwlClick"),c("design:type",Object)],n.prototype,"click",void 0),n=u([ve(2,(0,e.tBr)(g.K0)),c("design:paramtypes",[e.Qsj,e.SBq,Object])],n),n})(),Qe=(()=>{let n=class{constructor(t,i,a){this.host=t,this.ngZone=i,this.renderer=a,this.keydown=new e.vpe,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",t=>{(13===t.keyCode||13===t.which||"Enter"===t.key)&&(t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(t)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),u([(0,e.r_U)("mwlKeydownEnter"),c("design:type",Object)],n.prototype,"keydown",void 0),n=u([c("design:paramtypes",[e.SBq,e.R0b,e.Qsj])],n),n})(),we=(()=>{let n=class{constructor(t){this.dateAdapter=t}getMonthView(t){return function Pi(n,r){var t=r.events,i=void 0===t?[]:t,a=r.viewDate,o=r.weekStartsOn,s=r.excluded,l=void 0===s?[]:s,p=r.viewStart,d=void 0===p?n.startOfMonth(a):p,m=r.viewEnd,v=void 0===m?n.endOfMonth(a):m,y=r.weekendDays;i||(i=[]);for(var k,C=n.endOfWeek,E=n.differenceInDays,T=n.startOfDay,S=n.addHours,I=n.endOfDay,b=n.isSameMonth,O=n.getDay,F=(0,n.startOfWeek)(d,{weekStartsOn:o}),z=C(v,{weekStartsOn:o}),B=Ee(n,{events:i,periodStart:F,periodEnd:z}),x=[],D=function(Ft){var j;if(k?(j=T(S(k,dt)),k.getTime()===j.getTime()&&(j=T(S(k,dt+1))),k=j):j=k=F,!l.some(function(Nt){return O(j)===Nt})){var G=Jt(n,{date:j,weekendDays:y}),tt=Ee(n,{events:B,periodStart:T(j),periodEnd:I(j)});G.inMonth=b(j,a),G.events=tt,G.badgeTotal=tt.length,x.push(G)}},w=0;w<E(z,F)+1;w++)D();var R=[],L=lt-l.length;if(L<lt)for(w=0;w<x.length;w+=L){var et=x.slice(w,w+L);et.some(function(j){return d<=j.date&&j.date<v})&&(R=Ut(R,et))}else R=x;var Rt=Math.floor(R.length/L),Re=[];for(w=0;w<Rt;w++)Re.push(w*L);return{rowOffsets:Re,totalDaysVisibleInWeek:L,days:R,period:{start:R[0].date,end:I(R[R.length-1].date),events:B}}}(this.dateAdapter,t)}getWeekViewHeader(t){return ct(this.dateAdapter,t)}getWeekView(t){return function Wi(n,r){var t=r.events,i=void 0===t?[]:t,a=r.viewDate,o=r.weekStartsOn,s=r.excluded,l=void 0===s?[]:s,p=r.precision,d=void 0===p?"days":p,m=r.absolutePositionedEvents,v=void 0!==m&&m,y=r.hourSegments,h=r.hourDuration,C=r.dayStart,E=r.dayEnd,T=r.weekendDays,S=r.segmentHeight,I=r.minimumEventHeight,b=r.viewStart,O=void 0===b?n.startOfWeek(a,{weekStartsOn:o}):b,Z=r.viewEnd,F=void 0===Z?n.endOfWeek(a,{weekStartsOn:o}):Z;i||(i=[]);var B=n.endOfDay,x=Ee(n,{events:i,periodStart:O=(0,n.startOfDay)(O),periodEnd:F=B(F)}),k=ct(n,{viewDate:a,weekStartsOn:o,excluded:l,weekendDays:T,viewStart:O,viewEnd:F});return{allDayEventRows:Fi(n,{events:x,excluded:l,precision:d,absolutePositionedEvents:v,viewStart:O,viewEnd:F}),period:{events:x,start:k[0].date,end:B(k[k.length-1].date)},hourColumns:Ni(n,{events:i,viewDate:a,hourSegments:y,hourDuration:h,dayStart:C,dayEnd:E,weekStartsOn:o,excluded:l,weekendDays:T,segmentHeight:S,viewStart:O,viewEnd:F,minimumEventHeight:I})}}(this.dateAdapter,t)}};return n.\u0275fac=function(t){return new(t||n)(e.LFG(U))},n.\u0275prov=e.Yz7({token:n,factory:function(r){return n.\u0275fac(r)}}),n=u([c("design:paramtypes",[U])],n),n})(),xe=(()=>{let n=class{constructor(t){this.i18nPlural=t}monthCell({day:t,locale:i}){return t.badgeTotal>0?`\n        ${(0,g.p6)(t.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,g.p6)(t.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:t,locale:i}){return`\n      Beginning of expanded view for ${(0,g.p6)(t,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:t,locale:i}){return`${(0,g.p6)(t,"EEEE MMMM dd",i)} expanded`}eventDescription({event:t,locale:i}){if(!0===t.allDay)return this.allDayEventDescription({event:t,locale:i});const a=`\n      ${(0,g.p6)(t.start,"EEEE MMMM dd",i)},\n      ${t.title}, from ${(0,g.p6)(t.start,"hh:mm a",i)}\n    `;return t.end?a+` to ${(0,g.p6)(t.end,"hh:mm a",i)}`:a}allDayEventDescription({event:t,locale:i}){const a=`\n      ${t.title}, event spans multiple days:\n      start time ${(0,g.p6)(t.start,"MMMM dd hh:mm a",i)}\n    `;return t.end?a+`, stop time ${(0,g.p6)(t.end,"MMMM d hh:mm a",i)}`:a+", no stop time"}actionButtonLabel({action:t}){return t.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}};return n.\u0275fac=function(t){return new(t||n)(e.LFG(g.Gx))},n.\u0275prov=e.Yz7({token:n,factory:function(r){return n.\u0275fac(r)}}),n=u([c("design:paramtypes",[g.Gx])],n),n})(),ge=(()=>{let n=class{constructor(t,i){this.calendarA11y=t,this.locale=i}transform(t,i){if(t.locale=t.locale||this.locale,typeof this.calendarA11y[i]>"u"){const a=Object.getOwnPropertyNames(Object.getPrototypeOf(xe.prototype)).filter(o=>"constructor"!==o);throw new Error(`${i} is not a valid a11y method. Can only be one of ${a.join(", ")}`)}return this.calendarA11y[i](t)}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(xe,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarA11y",type:n,pure:!0}),n=u([ve(1,(0,e.tBr)(e.soG)),c("design:paramtypes",[xe,String])],n),n})();new e.OlP("Moment");var wn,de=(()=>{return(n=de||(de={})).Drag="drag",n.Drop="drop",n.Resize="resize",de;var n})();let ee=wn=class{static forRoot(r,t={}){return{ngModule:wn,providers:[r,t.eventTitleFormatter||$e,t.dateFormatter||Ie,t.utils||we,t.a11y||xe]}}};ee.\u0275fac=function(r){return new(r||ee)},ee.\u0275mod=e.oAB({type:ee}),ee.\u0275inj=e.cJS({providers:[g.Gx],imports:[g.ez]});let eo=(()=>{let n=class{constructor(t,i,a,o){this.cdr=t,this.utils=i,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new e.vpe,this.dayClicked=new e.vpe,this.eventClicked=new e.vpe,this.columnHeaderClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.trackByRowOffset=(s,l)=>this.view.days.slice(l,this.view.totalDaysVisibleInWeek).map(p=>p.date.toISOString()).join("-"),this.trackByDate=(s,l)=>l.date.toISOString(),this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const i=t.viewDate||t.excludeDays||t.weekendDays,a=t.viewDate||t.events||t.excludeDays||t.weekendDays;i&&this.refreshHeader(),t.events&&gn(this.events),a&&this.refreshBody(),(i||a)&&this.emitBeforeViewRender(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays||t.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(t,i){this.view.days.forEach(a=>{i&&a.events.indexOf(t)>-1?a.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete a.backgroundColor})}eventDropped(t,i,a){if(t!==a){const o=this.dateAdapter.getYear(t.date),s=this.dateAdapter.getMonth(t.date),l=this.dateAdapter.getDate(t.date),p=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,o),s),l);let d;if(i.end){const m=this.dateAdapter.differenceInSeconds(p,i.start);d=this.dateAdapter.addSeconds(i.end,m)}this.eventTimesChanged.emit({event:i,newStart:p,newEnd:d,day:t,type:de.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const t=this.activeDay||this.viewDate;this.openDay=this.view.days.find(a=>this.dateAdapter.isSameDay(a.date,t));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(we),e.Y36(e.soG),e.Y36(U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",locale:"locale",viewDate:"viewDate",activeDay:"activeDay",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[e.TTD],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-month-view-header",1),e.NdJ("columnHeaderClicked",function(o){return i.columnHeaderClicked.emit(o)}),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,Lr,5,13,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),e.xp6(2),e.Q6J("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},dependencies:function(){return[g.mk,g.sg,g.PC,Et,me,Qe,no,ro,to,g.OU,ge]},encapsulation:2}),u([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"events",void 0),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"excludeDays",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"activeDayIsOpen",void 0),u([(0,e.IIB)(),c("design:type",Date)],n.prototype,"activeDay",void 0),u([(0,e.IIB)(),c("design:type",P.x)],n.prototype,"refresh",void 0),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"tooltipPlacement",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"tooltipTemplate",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipAppendToBody",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"tooltipDelay",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"weekStartsOn",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"headerTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"cellTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"openDayEventsTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTitleTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventActionsTemplate",void 0),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"weekendDays",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"beforeViewRender",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"dayClicked",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"columnHeaderClicked",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventTimesChanged",void 0),n=u([ve(2,(0,e.tBr)(e.soG)),c("design:paramtypes",[e.sBO,we,String,U])],n),n})(),to=(()=>{let n=class{constructor(){this.columnHeaderClicked=new e.vpe,this.trackByWeekDayHeaderDate=Mt}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(t,i){if(1&t&&(e.YNc(0,Fr,2,2,"ng-template",null,0,e.W1O),e.YNc(2,Nr,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.kEZ(2,Wr,i.days,i.locale,i.trackByWeekDayHeaderDate))}},dependencies:[g.mk,g.sg,g.tP,Oe],encapsulation:2}),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"days",void 0),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"columnHeaderClicked",void 0),n})(),no=(()=>{let n=class{constructor(){this.highlightDay=new e.vpe,this.unhighlightDay=new e.vpe,this.eventClicked=new e.vpe,this.trackByEventId=fn,this.validateDrag=Ke}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(t,i){2&t&&e.ekj("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(t,i){if(1&t&&(e.YNc(0,Jr,8,14,"ng-template",null,0,e.W1O),e.YNc(2,qr,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.rFY(2,jr,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},dependencies:[g.mk,g.sg,g.O5,g.tP,g.PC,bt,mn,me,Oe,Ot,ge],encapsulation:2}),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"day",void 0),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"openDay",void 0),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"tooltipPlacement",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipAppendToBody",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"tooltipTemplate",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"tooltipDelay",void 0),u([(0,e.r_U)(),c("design:type",e.vpe)],n.prototype,"highlightDay",void 0),u([(0,e.r_U)(),c("design:type",e.vpe)],n.prototype,"unhighlightDay",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),n})();const io=(0,re.X$)("collapse",[(0,re.SB)("void",(0,re.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,re.SB)("*",(0,re.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,re.eR)("* => void",(0,re.jt)("150ms ease-out")),(0,re.eR)("void => *",(0,re.jt)("150ms ease-in"))]);let ro=(()=>{let n=class{constructor(){this.isOpen=!1,this.eventClicked=new e.vpe,this.trackByEventId=fn,this.validateDrag=Ke}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{isOpen:"isOpen",locale:"locale",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(t,i){if(1&t&&(e.YNc(0,Qr,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Xr,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.qbA(2,ea,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},dependencies:[g.mk,g.sg,g.O5,g.tP,g.PC,bt,un,pn,me,Qe,ge],encapsulation:2,data:{animation:[io]}}),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"isOpen",void 0),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"events",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTitleTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventActionsTemplate",void 0),u([(0,e.IIB)(),c("design:type",Date)],n.prototype,"date",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),n})(),Cn=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,Je,ee,Je]}),n})();class ao{constructor(r,t){this.dragContainerElement=r,this.startPosition=t.getBoundingClientRect()}validateDrag({x:r,y:t,snapDraggedEvents:i,dragAlreadyMoved:a,transform:o}){if(i){const s=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});return(Ke({x:r,y:t})||a)&&hn(this.dragContainerElement.getBoundingClientRect(),s)}return Ke({x:r,y:t})||a}}class oo{constructor(r,t){this.resizeContainerElement=r,this.minWidth=t}validateResize({rectangle:r}){return!(this.minWidth&&Math.ceil(r.width)<Math.ceil(this.minWidth))&&hn(this.resizeContainerElement.getBoundingClientRect(),r)}}let Dn=(()=>{let n=class{constructor(t,i,a,o){this.cdr=t,this.utils=i,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new e.vpe,this.eventClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe,this.hourSegmentClicked=new e.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.trackByWeekDayHeaderDate=Mt,this.trackByHourSegment=Ya,this.trackByHour=za,this.trackByWeekAllDayEvent=Ua,this.trackByWeekTimeEvent=Va,this.trackByHourColumn=(s,l)=>l.hours[0]?l.hours[0].segments[0].date.toISOString():l,this.trackById=(s,l)=>l.id,this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const i=t.viewDate||t.excludeDays||t.weekendDays||t.daysInWeek||t.weekStartsOn,a=t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments||t.weekStartsOn||t.weekendDays||t.excludeDays||t.hourSegmentHeight||t.events||t.daysInWeek;i&&this.refreshHeader(),t.events&&gn(this.events),a&&this.refreshBody(),(i||a)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}timeEventResizeStarted(t,i,a){this.timeEventResizes.set(i.event,a),this.resizeStarted(t)}timeEventResizing(t,i){this.timeEventResizes.set(t.event,i);const a=new Map,o=[...this.events];this.timeEventResizes.forEach((s,l)=>{const p=this.getTimeEventResizedDates(l,s),d=Object.assign(Object.assign({},l),p);a.set(d,l);const m=o.indexOf(l);o[m]=d}),this.restoreOriginalEvents(o,a,!0)}timeEventResizeEnded(t){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(t.event);if(i){this.timeEventResizes.delete(t.event);const a=this.getTimeEventResizedDates(t.event,i);this.eventTimesChanged.emit({newStart:a.start,newEnd:a.end,event:t.event,type:de.Resize})}}allDayEventResizeStarted(t,i,a){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof a.edges.left<"u"?"left":"right"}),this.resizeStarted(t,this.getDayColumnWidth(t))}allDayEventResizing(t,i,a){const o=this.allDayEventResizes.get(t);if(typeof i.edges.left<"u"){const s=Math.round(+i.edges.left/a);t.offset=o.originalOffset+s,t.span=o.originalSpan-s}else if(typeof i.edges.right<"u"){const s=Math.round(+i.edges.right/a);t.span=o.originalSpan+s}}allDayEventResizeEnded(t){const i=this.allDayEventResizes.get(t);if(i){const a="left"===i.edge;let o;o=a?t.offset-i.originalOffset:t.span-i.originalSpan,t.offset=i.originalOffset,t.span=i.originalSpan;let s=t.event.start,l=t.event.end||t.event.start;a?s=Q(this.dateAdapter,s,o,this.excludeDays):l=Q(this.dateAdapter,l,o,this.excludeDays),this.eventTimesChanged.emit({newStart:s,newEnd:l,event:t.event,type:de.Resize}),this.allDayEventResizes.delete(t)}}getDayColumnWidth(t){return Math.floor(t.offsetWidth/this.days.length)}dateDragEnter(t){this.lastDragEnterDate=t}eventDropped(t,i,a){(function Ga(n,r,t,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!t||!n.dropData.event.allDay&&t)})(t,0,a,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||t.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:de.Drop,event:t.dropData.event,newStart:i,allDay:a}),this.lastDraggedEvent=null}dragEnter(t){this.eventDragEnterByType[t]++}dragLeave(t){this.eventDragEnterByType[t]--}dragStarted(t,i,a){this.dayColumnWidth=this.getDayColumnWidth(t);const o=new ao(t,i);this.validateDrag=({x:s,y:l,transform:p})=>0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&o.validateDrag({x:s,y:l,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:p}),this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&a&&this.view.hourColumns.forEach(s=>{const l=s.events.find(p=>p.event===a.event&&p!==a);l&&(l.width=0,l.height=0)}),this.cdr.markForCheck()}dragMove(t,i){const a=this.getDragMovedEventTimes(t,i,this.dayColumnWidth,!0),o=t.event,s=Object.assign(Object.assign({},o),a),l=this.events.map(p=>p===o?s:p);this.restoreOriginalEvents(l,new Map([[s,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(t,i,a,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:s,end:l}=this.getDragMovedEventTimes(t,i,a,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&function ja(n,r,t){const i=r||n;return t.start<=n&&n<=t.end||t.start<=i&&i<=t.end}(s,l,this.view.period)&&(this.lastDraggedEvent=t.event,this.eventTimesChanged.emit({newStart:s,newEnd:l,event:t.event,type:de.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},It(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(t){return this.utils.getWeekView(Object.assign({events:t,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},It(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(t,i,a,o){const s=vn(i.x,a)/a,l=o?At(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize):0,p=this.dateAdapter.addMinutes(Q(this.dateAdapter,t.event.start,s,this.excludeDays),l);let d;return t.event.end&&(d=this.dateAdapter.addMinutes(Q(this.dateAdapter,t.event.end,s,this.excludeDays),l)),{start:p,end:d}}restoreOriginalEvents(t,i,a=!0){const o=this.view;a&&(this.view=this.getWeekView(t));const s=t.filter(l=>i.has(l));this.view.hourColumns.forEach((l,p)=>{o.hourColumns[p].hours.forEach((d,m)=>{d.segments.forEach((v,y)=>{l.hours[m].segments[y].cssClass=v.cssClass})}),s.forEach(d=>{const m=i.get(d),v=l.events.find(y=>y.event===(a?d:m));v?(v.event=m,v.tempEvent=d,a||(v.height=0,v.width=0)):l.events.push({event:m,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),i.clear()}getTimeEventResizedDates(t,i){const a=function qa(n,r){return yn(n,r)*r}(this.hourSegments,this.hourSegmentHeight),o={start:t.start,end:_n(this.dateAdapter,t,a)},l=function Di(n,r){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(n);a<i.length;a++)r.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]])}return t}(t,["end"]),p={start:this.dateAdapter.addMinutes(o.end,-1*a),end:_n(this.dateAdapter,l,a)};if(typeof i.edges.left<"u"){const d=Math.round(+i.edges.left/this.dayColumnWidth),m=Q(this.dateAdapter,o.start,d,this.excludeDays);o.start=m<p.start?m:p.start}else if(typeof i.edges.right<"u"){const d=Math.round(+i.edges.right/this.dayColumnWidth),m=Q(this.dateAdapter,o.end,d,this.excludeDays);o.end=m>p.end?m:p.end}if(typeof i.edges.top<"u"){const d=At(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),m=this.dateAdapter.addMinutes(o.start,d);o.start=m<p.start?m:p.start}else if(typeof i.edges.bottom<"u"){const d=At(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),m=this.dateAdapter.addMinutes(o.end,d);o.end=m>p.end?m:p.end}return o}resizeStarted(t,i){this.dayColumnWidth=this.getDayColumnWidth(t);const a=new oo(t,i);this.validateResize=({rectangle:o})=>a.validateResize({rectangle:o}),this.cdr.markForCheck()}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(we),e.Y36(e.soG),e.Y36(U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{events:"events",excludeDays:"excludeDays",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",precision:"precision",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",locale:"locale",viewDate:"viewDate",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[e.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-week-view-header",1),e.NdJ("dayHeaderClicked",function(o){return i.dayHeaderClicked.emit(o)})("eventDropped",function(o){return i.eventDropped({dropData:o},o.newStart,!0)})("dragEnter",function(o){return i.dateDragEnter(o.date)}),e.qZA(),e.YNc(2,ca,6,5,"div",2),e.TgZ(3,"div",3),e.NdJ("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),e.YNc(4,ma,2,2,"div",4),e.TgZ(5,"div",5,6),e.YNc(7,ba,5,12,"div",7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),e.xp6(1),e.Q6J("ngIf",i.view.allDayEventRows.length>0),e.xp6(2),e.Q6J("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),e.xp6(1),e.ekj("cal-resize-active",i.timeEventResizes.size>0),e.xp6(2),e.Q6J("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},dependencies:function(){return[g.mk,g.sg,g.O5,g.tP,on,Dr,bt,Et,me,so,lo,co,uo]},encapsulation:2}),u([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"events",void 0),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"excludeDays",void 0),u([(0,e.IIB)(),c("design:type",P.x)],n.prototype,"refresh",void 0),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"tooltipPlacement",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"tooltipTemplate",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipAppendToBody",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"tooltipDelay",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"weekStartsOn",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"headerTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTitleTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventActionsTemplate",void 0),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"precision",void 0),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"weekendDays",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"snapDraggedEvents",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegments",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegmentHeight",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartHour",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartMinute",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndHour",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndMinute",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"hourSegmentTemplate",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"eventSnapSize",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"allDayEventsLabelTemplate",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"daysInWeek",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"currentTimeMarkerTemplate",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"dayHeaderClicked",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventTimesChanged",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"beforeViewRender",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"hourSegmentClicked",void 0),n=u([ve(2,(0,e.tBr)(e.soG)),c("design:paramtypes",[e.sBO,we,String,U])],n),n})(),so=(()=>{let n=class{constructor(){this.dayHeaderClicked=new e.vpe,this.eventDropped=new e.vpe,this.dragEnter=new e.vpe,this.trackByWeekDayHeaderDate=Mt}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(t,i){if(1&t&&(e.YNc(0,Sa,2,2,"ng-template",null,0,e.W1O),e.YNc(2,ka,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.HTZ(2,Ma,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},dependencies:[g.mk,g.sg,g.tP,Et,me,Oe],encapsulation:2}),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"days",void 0),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"dayHeaderClicked",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventDropped",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"dragEnter",void 0),n})(),lo=(()=>{let n=class{constructor(){this.eventClicked=new e.vpe}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(t,i){if(1&t&&(e.YNc(0,Ia,6,26,"ng-template",null,0,e.W1O),e.YNc(2,Oa,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.rFY(2,xa,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},dependencies:[g.tP,g.PC,un,pn,mn,me,Qe,Ot,ge],encapsulation:2}),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"weekEvent",void 0),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"tooltipPlacement",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipAppendToBody",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipDisabled",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"tooltipDelay",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTitleTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventActionsTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"tooltipTemplate",void 0),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"column",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"daysInWeek",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),n})(),co=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(t,i){if(1&t&&(e.YNc(0,Ba,3,13,"ng-template",null,0,e.W1O),e.YNc(2,Ha,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.qbA(2,La,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},dependencies:[g.mk,g.O5,g.tP,Oe,ge],encapsulation:2}),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"segment",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"segmentHeight",void 0),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"isTimeLabel",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"daysInWeek",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),n})(),uo=(()=>{let n=class{constructor(t,i){this.dateAdapter=t,this.zone=i,this.columnDate$=new Mi.X(this.columnDate),this.marker$=this.zone.onStable.pipe((0,We.w)(()=>function Ai(n=0,r=zt.z){return n<0&&(n=0),(0,ot.H)(n,n,r)}(6e4)),(0,st.O)(0),function Oi(n,r){return(0,Ii.m)(r)?(0,We.w)(()=>n,r):(0,We.w)(()=>n)}(this.columnDate$),(0,J.U)(a=>{const o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/60,p=new Date;return{isVisible:this.dateAdapter.isSameDay(a,p)&&p>=o&&p<=s,top:this.dateAdapter.differenceInMinutes(p,o)*l}}))}ngOnChanges(t){t.columnDate&&this.columnDate$.next(t.columnDate.currentValue)}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(U),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[e.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(t,i){if(1&t&&(e.YNc(0,Fa,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Na,0,0,"ng-template",1),e.ALo(3,"async"),e.ALo(4,"async")),2&t){const a=e.MAs(1);let o;e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",e.Hh0(6,Wa,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(o=e.lcZ(3,2,i.marker$))?null:o.isVisible,null==(o=e.lcZ(4,4,i.marker$))?null:o.top))}},dependencies:[g.O5,g.tP,g.Ov],encapsulation:2}),u([(0,e.IIB)(),c("design:type",Date)],n.prototype,"columnDate",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartHour",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartMinute",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndHour",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndMinute",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegments",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegmentHeight",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),n=u([c("design:paramtypes",[U,e.R0b])],n),n})(),xt=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,sn,Je,ee,sn,Je]}),n})(),po=(()=>{let n=class{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new e.vpe,this.hourSegmentClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",snapDraggedEvents:"snapDraggedEvents",viewDate:"viewDate",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipTemplate:"tooltipTemplate",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:23,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourSegmentHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(t,i){1&t&&(e.TgZ(0,"mwl-calendar-week-view",0),e.NdJ("eventClicked",function(o){return i.eventClicked.emit(o)})("hourSegmentClicked",function(o){return i.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return i.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return i.beforeViewRender.emit(o)}),e.qZA()),2&t&&e.Q6J("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourSegmentHeight",i.hourSegmentHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)},dependencies:[Dn],encapsulation:2}),u([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),u([(0,e.IIB)(),c("design:type",Array)],n.prototype,"events",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegments",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegmentHeight",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartHour",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartMinute",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndHour",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndMinute",void 0),u([(0,e.IIB)(),c("design:type",P.x)],n.prototype,"refresh",void 0),u([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"eventSnapSize",void 0),u([(0,e.IIB)(),c("design:type",Object)],n.prototype,"tooltipPlacement",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"tooltipTemplate",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipAppendToBody",void 0),u([(0,e.IIB)(),c("design:type",Number)],n.prototype,"tooltipDelay",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"hourSegmentTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTitleTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventActionsTemplate",void 0),u([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"snapDraggedEvents",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"allDayEventsLabelTemplate",void 0),u([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"currentTimeMarkerTemplate",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"hourSegmentClicked",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventTimesChanged",void 0),u([(0,e.r_U)(),c("design:type",Object)],n.prototype,"beforeViewRender",void 0),n})(),Tn=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,ee,xt]}),n})();var bn;let Ce=bn=class{static forRoot(r,t={}){return{ngModule:bn,providers:[r,t.eventTitleFormatter||$e,t.dateFormatter||Ie,t.utils||we,t.a11y||xe]}}};Ce.\u0275fac=function(r){return new(r||Ce)},Ce.\u0275mod=e.oAB({type:Ce}),Ce.\u0275inj=e.cJS({imports:[ee,Cn,xt,Tn,ee,Cn,xt,Tn]});var H=_(953),M=_(833);function En(n,r){(0,M.Z)(2,arguments);var t=(0,H.Z)(n),i=(0,H.Z)(r);return t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()}function Ze(n){(0,M.Z)(1,arguments);var r=(0,H.Z)(n);return r.setHours(0,0,0,0),r}function Sn(n,r){(0,M.Z)(2,arguments);var t=Ze(n),i=Ze(r);return t.getTime()===i.getTime()}var mo=_(2527),kn=_(9061),Be=_(2177);let Mn=(()=>{class n{constructor(t){this.http=t}getEvents(){return this.http.get(Be.k.GET_ALL_EVENT)}addEvent(t){return this.http.post(Be.k.CREATE_EVENT,t)}updateEvent(t){return this.http.patch(Be.k.UPDATE_EVENT,t)}deleteEvent(t){return this.http.delete(Be.k.DELETE_EVENT+t)}cahngeStatusEvent(t,i){return this.http.patch(Be.k.GET_CHANGE_STATUTS_EVENT+t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(De.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const go_green={primary:"#067837B9",secondary:"#FAE3E3"};let ho=(()=>{class n{constructor(t,i,a){this.activeModal=t,this.eventService=i,this.toastrService=a}updateStatus(t){const i={status:"fait",color:{...go_green},draggable:!1,actions:[]};console.log(t),this.eventService.cahngeStatusEvent(t.id,i).subscribe(a=>{console.log(a),this.toastrService.success("s\xe9ance mise \xe0 jour")}),console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(kn.Kz),e.Y36(Mn),e.Y36(V._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-appointment"]],inputs:{event:"event"},decls:24,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Event Details"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return i.activeModal.dismiss()}),e.qZA()(),e.TgZ(4,"div",3)(5,"p")(6,"strong"),e._uU(7,"Titre:"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"p")(10,"strong"),e._uU(11,"D\xe9but de la s\xe9ance:"),e.qZA(),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"p")(15,"strong"),e._uU(16,"Fin de la s\xe9ance:"),e.qZA(),e._uU(17),e.ALo(18,"date"),e.qZA()(),e.TgZ(19,"div",4)(20,"button",5),e.NdJ("click",function(){return i.updateStatus(i.event)}),e._uU(21,"Marquer comme \xe9ffectu\xe9"),e.qZA(),e.TgZ(22,"button",6),e.NdJ("click",function(){return i.activeModal.dismiss()}),e._uU(23,"Fermer"),e.qZA()()),2&t&&(e.xp6(8),e.hij(" ",i.event.title,""),e.xp6(4),e.hij(" ",e.xi3(13,3,i.event.start,"short"),""),e.xp6(5),e.hij(" ",e.xi3(18,6,i.event.end,"short"),""))},dependencies:[g.uU]}),n})();var vo={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}};var Zt=_(8990);const To={date:(0,Zt.Z)({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,Zt.Z)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,Zt.Z)({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var bo={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"};var He=_(4380),Zo={ordinalNumber:function(r,t){var i=Number(r),a=t?.unit;return 0===i?"0":i+(1===i?a&&["year","week","hour","minute","second"].includes(a)?"\xe8re":"er":"\xe8me")},era:(0,He.Z)({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:(0,He.Z)({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:(0,He.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:(0,He.Z)({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:(0,He.Z)({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})};const Bo=Zo;var Le=_(8480),jo={ordinalNumber:(0,_(941).Z)({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:function(r){return parseInt(r)}}),era:(0,Le.Z)({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:(0,Le.Z)({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:(0,Le.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,Le.Z)({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,Le.Z)({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})};const An={code:"fr",formatDistance:function(r,t,i){var a,o=vo[r];return a="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",String(t)),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"dans "+a:"il y a "+a:a},formatLong:To,formatRelative:function(r,t,i,a){return bo[r]},localize:Bo,match:jo,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Ko(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2,"D\xe9tails de l'\xe9v\xe9nement"),e.qZA(),e.TgZ(3,"button",32),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeModal())}),e.TgZ(4,"span",33),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",34)(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()()}if(2&n){const t=r.event;e.xp6(8),e.Oqu(t.title),e.xp6(2),e.hij("D\xe9but : ",t.start,""),e.xp6(2),e.hij("Fin : ",t.end,"")}}function $o(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-view",35),e.NdJ("dayClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.dayClicked(a.day))})("eventClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.handleEvent("Clicked",a.event))})("eventTimesChanged",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventTimesChanged(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("activeDayIsOpen",t.activeDayIsOpen)}}function Qo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view",36),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.handleEvent("Clicked",a.event))})("eventTimesChanged",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventTimesChanged(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("hourSegments",2)}}function Xo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-day-view",36),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.handleEvent("Clicked",a.event))})("eventTimesChanged",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventTimesChanged(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("hourSegments",2)}}const In=function(){return{standalone:!0}},es_blue={primary:"#1e90ff",secondary:"#D1E8FF"},ts=[{path:"",component:W},{path:"detail-patient/:id",component:qn},{path:"chiffre-affaire",component:ei},{path:"create-patient",component:Ci},{path:"list-patient",component:ii},{path:"planning",component:(()=>{class n{constructor(t,i,a,o,s,l){this.modalService=t,this.eventService=i,this.patientService=a,this.toastrService=o,this.translateService=s,this.cdr=l,this.listSeance=[],this.listPatients=[],this.view=ae.Month,this.viewDate=new Date,this.refresh=new P.x,this.events=[],this.events2=[],this.activeDayIsOpen=!0,this.newEventTitle="",this.patient="",this.newEventStartDate="",this.newEventEndDate="",this.dropdownSettings={},this.dropdownSeanceSettings={},this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.actions=[{label:'<i class="fas fa-fw fa-pencil-alt"></i>',a11yLabel:"Edit",onClick:({event:p})=>{this.handleEvent("Edited",p)}},{label:'<i class="fas fa-fw fa-trash-alt"></i>',a11yLabel:"Delete",onClick:({event:p})=>{this.events=this.events.filter(d=>d!==p),this.handleEvent("Deleted",p)}}],this.CalendarView=ae}ngOnInit(){this.getAllPatientkine(),this.loadEvents(),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"id",textField:"nom",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSeanceSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"seance_title",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}loadEvents(){this.eventService.getEvents().subscribe(t=>{console.log(t),this.events=t.map(i=>({id:i.id,start:new Date(i.start),end:new Date(i.end),title:i.title,color:i.color,actions:i.actions,resizable:i.resizable,draggable:i.draggable})),this.cdr.detectChanges()})}dayClicked({date:t,events:i}){En(t,this.viewDate)&&(this.activeDayIsOpen=!(Sn(this.viewDate,t)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=t)}addEvent(t,i,a,o){console.log("patient:",t,"title:",i,"debut:",a,"fin:",o);const s=a?new Date(a):new Date,l=o?new Date(o):new Date;console.log("debut:",s,"fin:",l),this.events=[...this.events,{title:i[0].seance_title+"-"+t[0].nom,start:s,end:l,allDay:!0,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0},actions:this.actions}];const p={patientkineId:t[0].id,seanceId:i[0]._id,title:i[0].seance_title+"-"+t[0].nom,color:{...es_blue},actions:this.actions,allDay:!1,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0},start:s,end:l,status:"\xe0 faire"};console.log("eventData:",p),console.log("new event",{title:i,start:s,end:l,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0},actions:this.actions}),this.eventService.addEvent(p).subscribe(d=>{this.events.push(d),window.location.reload()}),this.events.sort((d,m)=>d.start.getTime()-m.start.getTime())}eventTimesChanged({event:t,newStart:i,newEnd:a}){this.events=this.events.map(o=>o===t?{...t,start:i,end:a}:o),this.handleEvent("Dropped or resized",t),console.log("Dropped or resized",t)}handleEvent(t,i){this.modalRef=this.modalService.open(ho),this.modalRef.componentInstance.event=i}deleteEvent(t){this.events=this.events.filter(i=>i!==t)}setView(t){this.view=t}closeModal(){this.modalRef&&this.modalRef.dismiss()}formatHour(t){return(0,mo.Z)(t,"HH:mm",{locale:An})}updateEvent(t){this.eventService.updateEvent(t).subscribe(i=>{const a=this.events.findIndex(o=>o.id===i.id);-1!==a&&(this.events[a]=i)})}getAllPatientkine(){this.patientService.getAllPatientKineEvent("kin\xe9sith\xe9rapie").subscribe({next:i=>{this.listPatients=i,console.log("patients:",this.listPatients)},error:i=>{console.log(i)}})}onItemSelect(t){this.patientId=t.id,console.log("patient id",this.patientId),this.patientService.AllseancePatientkine(t.id).subscribe({next:i=>{this.listSeance=i,console.log("seances:",this.listSeance)},error:i=>{console.log(i),this.toastrService.error(i.statusText)}})}onItemDeSelect(t){console.log("onItem DeSelect",t)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSelectSeance(t){this.seanceId=t._id,console.log("seance id",this.seanceId)}onItemDeSelectSeance(t){console.log("onItem DeSelect",t)}onDropDownCloseSeance(){console.log("dropdown closed")}toogleShowAllSeance(){this.showAll=!this.showAll,this.dropdownSeanceSettings=Object.assign({},this.dropdownSeanceSettings,{enableCheckAll:this.showAll})}toogleShowFilterSeance(){this.ShowFilter=!this.ShowFilter,this.dropdownSeanceSettings=Object.assign({},this.dropdownSeanceSettings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(kn.FF),e.Y36(Mn),e.Y36(f.e),e.Y36(V._W),e.Y36(Y.sK),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-calendar-kine"]],decls:61,vars:34,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","/kine/list-patient",1,"btn","btn-primary"],[1,"container","mt-4"],[1,"row","mb-3"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"btn","btn-primary",3,"click"],[1,"row"],[1,"col-md-12"],[1,"card","border-secondary"],[1,"card-body"],[1,"col-md-2"],[1,"form-group"],["for","patient"],["id","patient",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],["for","seance"],["id","seance",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],["for","start"],["id","start","type","datetime-local","dateFormat","Y-m-dTH:i","altFormat","F j, Y H:i","placeholder","Not set",1,"form-control",3,"ngModel","ngModelChange"],["for","end"],["id","end","type","datetime-local","dateFormat","Y-m-dTH:i","altFormat","F j, Y H:i","placeholder","Not set",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["modalContent",""],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","hourSegments","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged"],[3,"viewDate","events","refresh","hourSegments","eventClicked","eventTimesChanged"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"button",7),e.NdJ("viewDateChange",function(o){return i.viewDate=o}),e._uU(9," Pr\xe9c\xe9dent "),e.qZA(),e.TgZ(10,"button",8),e.NdJ("viewDateChange",function(o){return i.viewDate=o}),e._uU(11," Aujourd'hui "),e.qZA(),e.TgZ(12,"button",9),e.NdJ("viewDateChange",function(o){return i.viewDate=o}),e._uU(13," Suivant "),e.qZA()()(),e.TgZ(14,"div",5)(15,"h3"),e._uU(16),e.ALo(17,"calendarDate"),e.qZA()(),e.TgZ(18,"div",5)(19,"div",6)(20,"div",10),e.NdJ("click",function(){return i.setView(i.CalendarView.Month)}),e._uU(21," Mois "),e.qZA(),e.TgZ(22,"div",10),e.NdJ("click",function(){return i.setView(i.CalendarView.Week)}),e._uU(23," Semaine "),e.qZA(),e.TgZ(24,"div",10),e.NdJ("click",function(){return i.setView(i.CalendarView.Day)}),e._uU(25," Jour "),e.qZA()()()(),e.TgZ(26,"div",11)(27,"div",12)(28,"div",13)(29,"div",14)(30,"div",11)(31,"div",15)(32,"div",16)(33,"label",17),e._uU(34,"Selectionner le patient"),e.qZA(),e.TgZ(35,"ng-multiselect-dropdown",18),e.NdJ("ngModelChange",function(o){return i.patient=o})("onDropDownClose",function(){return i.onDropDownClose()})("onSelect",function(o){return i.onItemSelect(o)})("onDeSelect",function(o){return i.onItemDeSelect(o)}),e.qZA()()(),e.TgZ(36,"div",15)(37,"div",16)(38,"label",19),e._uU(39,"Selectionner la s\xe9ance"),e.qZA(),e.TgZ(40,"ng-multiselect-dropdown",20),e.NdJ("ngModelChange",function(o){return i.newEventTitle=o})("onDropDownClose",function(){return i.onDropDownCloseSeance()})("onSelect",function(o){return i.onItemSelectSeance(o)})("onDeSelect",function(o){return i.onItemDeSelectSeance(o)}),e.qZA()()(),e.TgZ(41,"div",15)(42,"div",16)(43,"label",21),e._uU(44,"Date et heure de d\xe9but de la s\xe9ance"),e.qZA(),e.TgZ(45,"input",22),e.NdJ("ngModelChange",function(o){return i.newEventStartDate=o})("ngModelChange",function(){return i.refresh.next()}),e.qZA()()(),e.TgZ(46,"div",15)(47,"div",16)(48,"label",23),e._uU(49,"Date et heure la fin de s\xe9ance"),e.qZA(),e.TgZ(50,"input",24),e.NdJ("ngModelChange",function(o){return i.newEventEndDate=o})("ngModelChange",function(){return i.refresh.next()}),e.qZA()()(),e.TgZ(51,"div",15)(52,"button",25),e.NdJ("click",function(){return i.addEvent(i.patient,i.newEventTitle,i.newEventStartDate,i.newEventEndDate)}),e._uU(53,"Ajouter un \xe9v\xe9nement"),e.qZA()()()()()()(),e.YNc(54,Ko,13,3,"ng-template",null,26,e.W1O),e._UZ(56,"br"),e.TgZ(57,"div",27),e.YNc(58,$o,1,4,"mwl-calendar-month-view",28),e.YNc(59,Qo,1,4,"mwl-calendar-week-view",29),e.YNc(60,Xo,1,4,"mwl-calendar-day-view",29),e.qZA()()()),2&t&&(e.xp6(8),e.Q6J("view",i.view)("viewDate",i.viewDate),e.xp6(2),e.Q6J("viewDate",i.viewDate),e.xp6(2),e.Q6J("view",i.view)("viewDate",i.viewDate),e.xp6(4),e.Oqu(e.Dn7(17,28,i.viewDate,i.view+"ViewTitle","fr")),e.xp6(4),e.ekj("active",i.view===i.CalendarView.Month),e.xp6(2),e.ekj("active",i.view===i.CalendarView.Week),e.xp6(2),e.ekj("active",i.view===i.CalendarView.Day),e.xp6(11),e.Q6J("data",i.listPatients)("ngModel",i.patient)("disabled",i.disabled)("settings",i.dropdownSettings)("ngModelOptions",e.DdM(32,In)),e.xp6(5),e.Q6J("data",i.listSeance)("ngModel",i.newEventTitle)("disabled",i.disabled)("settings",i.dropdownSeanceSettings)("ngModelOptions",e.DdM(33,In)),e.xp6(5),e.Q6J("ngModel",i.newEventStartDate),e.xp6(5),e.Q6J("ngModel",i.newEventEndDate),e.xp6(7),e.Q6J("ngSwitch",i.view),e.xp6(1),e.Q6J("ngSwitchCase",i.CalendarView.Month),e.xp6(1),e.Q6J("ngSwitchCase",i.CalendarView.Week),e.xp6(1),e.Q6J("ngSwitchCase",i.CalendarView.Day))},dependencies:[g.RF,g.n9,N.rH,A.Fj,A.JJ,Ka,$a,Qa,eo,Dn,po,A.On,rt.OP,Oe],styles:[".cal-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.cal-header[_ngcontent-%COMP%]{margin-bottom:20px}.cal-header[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),n})()}];let ns=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[N.Bz.forChild(ts),N.Bz]}),n})();var is=_(1744),q=_(1998);function Bt(n,r){(0,M.Z)(2,arguments);var t=(0,H.Z)(n),i=(0,q.Z)(r);return isNaN(i)?new Date(NaN):(i&&t.setDate(t.getDate()+i),t)}var Ht=_(1201),rs=36e5;function as(n,r){(0,M.Z)(2,arguments);var t=(0,q.Z)(r);return(0,Ht.Z)(n,t*rs)}var os=6e4;function ss(n,r){(0,M.Z)(2,arguments);var t=(0,q.Z)(r);return(0,Ht.Z)(n,t*os)}function ls(n,r){(0,M.Z)(2,arguments);var t=(0,q.Z)(r);return(0,Ht.Z)(n,1e3*t)}var On=_(9868),ds=864e5;function xn(n,r){var t=n.getFullYear()-r.getFullYear()||n.getMonth()-r.getMonth()||n.getDate()-r.getDate()||n.getHours()-r.getHours()||n.getMinutes()-r.getMinutes()||n.getSeconds()-r.getSeconds()||n.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function us(n,r){(0,M.Z)(2,arguments);var t=(0,H.Z)(n),i=(0,H.Z)(r),a=xn(t,i),o=Math.abs(function cs(n,r){(0,M.Z)(2,arguments);var t=Ze(n),i=Ze(r),a=t.getTime()-(0,On.Z)(t),o=i.getTime()-(0,On.Z)(i);return Math.round((a-o)/ds)}(t,i));t.setDate(t.getDate()-a*o);var l=a*(o-Number(xn(t,i)===-a));return 0===l?0:l}Math.pow(10,8);var gs=6e4;function Bn(n,r){return(0,M.Z)(2,arguments),(0,H.Z)(n).getTime()-(0,H.Z)(r).getTime()}var Hn={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},ys="trunc";function Ln(n){return n?Hn[n]:Hn[ys]}function _s(n,r,t){(0,M.Z)(2,arguments);var i=Bn(n,r)/gs;return Ln(t?.roundingMethod)(i)}function ws(n,r,t){(0,M.Z)(2,arguments);var i=Bn(n,r)/1e3;return Ln(t?.roundingMethod)(i)}function Cs(n){(0,M.Z)(1,arguments);var r=(0,H.Z)(n);return r.setHours(23,59,59,999),r}function Ds(n){(0,M.Z)(1,arguments);var r=(0,H.Z)(n),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}var Rn=_(8370);function Ts(n,r){var t,i,a,o,s,l,p,d;(0,M.Z)(1,arguments);var m=(0,Rn.j)(),v=(0,q.Z)(null!==(t=null!==(i=null!==(a=null!==(o=r?.weekStartsOn)&&void 0!==o?o:null==r||null===(s=r.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:m.weekStartsOn)&&void 0!==i?i:null===(p=m.locale)||void 0===p||null===(d=p.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=(0,H.Z)(n),h=y.getDay(),C=6+(h<v?-7:0)-(h-v);return y.setDate(y.getDate()+C),y.setHours(23,59,59,999),y}function bs(n){return(0,M.Z)(1,arguments),(0,H.Z)(n).getDay()}function Es(n){return(0,M.Z)(1,arguments),(0,H.Z)(n).getMonth()}function Fn(n){(0,M.Z)(1,arguments);var r=(0,H.Z)(n);return r.setMilliseconds(0),r}function Ss(n,r){(0,M.Z)(2,arguments);var t=Fn(n),i=Fn(r);return t.getTime()===i.getTime()}var ks=_(86);function Ms(n){var r,t;if((0,M.Z)(1,arguments),n&&"function"==typeof n.forEach)r=n;else{if("object"!==(0,ks.Z)(n)||null===n)return new Date(NaN);r=Array.prototype.slice.call(n)}return r.forEach(function(i){var a=(0,H.Z)(i);(void 0===t||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function As(n,r){(0,M.Z)(2,arguments);var t=(0,H.Z)(n),i=(0,q.Z)(r);return t.setHours(i),t}function Is(n,r){(0,M.Z)(2,arguments);var t=(0,H.Z)(n),i=(0,q.Z)(r);return t.setMinutes(i),t}function Os(n){(0,M.Z)(1,arguments);var r=(0,H.Z)(n);return r.setSeconds(0,0),r}function xs(n){(0,M.Z)(1,arguments);var r=(0,H.Z)(n);return r.setDate(1),r.setHours(0,0,0,0),r}function Nn(n,r){var t,i,a,o,s,l,p,d;(0,M.Z)(1,arguments);var m=(0,Rn.j)(),v=(0,q.Z)(null!==(t=null!==(i=null!==(a=null!==(o=r?.weekStartsOn)&&void 0!==o?o:null==r||null===(s=r.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:m.weekStartsOn)&&void 0!==i?i:null===(p=m.locale)||void 0===p||null===(d=p.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=(0,H.Z)(n),h=y.getDay(),C=(h<v?7:0)+h-v;return y.setDate(y.getDate()-C),y.setHours(0,0,0,0),y}function Zs(n){return(0,M.Z)(1,arguments),(0,H.Z)(n).getHours()}function Bs(n){return(0,M.Z)(1,arguments),(0,H.Z)(n).getMinutes()}function Wn(n,r){return(0,M.Z)(2,arguments),Bt(n,7*(0,q.Z)(r))}function Pn(n,r){(0,M.Z)(2,arguments);var t=(0,H.Z)(n),i=(0,q.Z)(r);if(isNaN(i))return new Date(NaN);if(!i)return t;var a=t.getDate(),o=new Date(t.getTime());return o.setMonth(t.getMonth()+i+1,0),a>=o.getDate()?o:(t.setFullYear(o.getFullYear(),o.getMonth(),a),t)}function Ls(n,r){return(0,M.Z)(2,arguments),Bt(n,-(0,q.Z)(r))}function Rs(n,r){return(0,M.Z)(2,arguments),Wn(n,-(0,q.Z)(r))}function Fs(n,r){return(0,M.Z)(2,arguments),Pn(n,-(0,q.Z)(r))}function Xe(n){return(0,M.Z)(1,arguments),Nn(n,{weekStartsOn:1})}var Ps=6048e5;function Ys(n){(0,M.Z)(1,arguments);var r=(0,H.Z)(n),t=Xe(r).getTime()-function Ws(n){(0,M.Z)(1,arguments);var r=function Ns(n){(0,M.Z)(1,arguments);var r=(0,H.Z)(n),t=r.getFullYear(),i=new Date(0);i.setFullYear(t+1,0,4),i.setHours(0,0,0,0);var a=Xe(i),o=new Date(0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);var s=Xe(o);return r.getTime()>=a.getTime()?t+1:r.getTime()>=s.getTime()?t:t-1}(n),t=new Date(0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),Xe(t)}(r).getTime();return Math.round(t/Ps)+1}function zs(n,r){(0,M.Z)(2,arguments);var t=(0,H.Z)(n),i=(0,q.Z)(r);return t.setDate(i),t}function Vs(n,r){(0,M.Z)(2,arguments);var t=(0,H.Z)(n),i=(0,q.Z)(r),a=t.getFullYear(),o=t.getDate(),s=new Date(0);s.setFullYear(a,i,15),s.setHours(0,0,0,0);var l=function Us(n){(0,M.Z)(1,arguments);var r=(0,H.Z)(n),t=r.getFullYear(),i=r.getMonth(),a=new Date(0);return a.setFullYear(t,i+1,0),a.setHours(0,0,0,0),a.getDate()}(s);return t.setMonth(i,Math.min(o,l)),t}function Js(n,r){(0,M.Z)(2,arguments);var t=(0,H.Z)(n),i=(0,q.Z)(r);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(i),t)}function qs(n){return(0,M.Z)(1,arguments),(0,H.Z)(n).getDate()}function js(n){return(0,M.Z)(1,arguments),(0,H.Z)(n).getFullYear()}function Gs(){return Fe(Fe({},function Hs(){return{addDays:Bt,addHours:as,addMinutes:ss,addSeconds:ls,differenceInDays:us,differenceInMinutes:_s,differenceInSeconds:ws,endOfDay:Cs,endOfMonth:Ds,endOfWeek:Ts,getDay:bs,getMonth:Es,isSameDay:Sn,isSameMonth:En,isSameSecond:Ss,max:Ms,setHours:As,setMinutes:Is,startOfDay:Ze,startOfMinute:Os,startOfMonth:xs,startOfWeek:Nn,getHours:Zs,getMinutes:Bs}}()),{addWeeks:Wn,addMonths:Pn,subDays:Ls,subWeeks:Rs,subMonths:Fs,getISOWeek:Ys,setDate:zs,setMonth:Vs,setYear:Js,getDate:qs,getYear:js})}var Ks=_(388);function Yn(n){return new is.w(n,"./assets/i18n/",".json")}let $s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:"locale",useValue:An}],imports:[g.ez,ns,A.UX,Ce.forRoot({provide:U,useFactory:Gs}),Ks.zk.forRoot(),A.u5,rt.ZQ,it.T.forRoot(),Y.aw.forRoot({defaultLanguage:"en",loader:{provide:Y.Zw,useFactory:Yn,deps:[De.eN]}})]}),n})()}}]);