"use strict";(self.webpackChunktswgestion=self.webpackChunktswgestion||[]).push([[557],{5557:(En,j,_)=>{_.r(j),_.d(j,{RhModule:()=>kn,createTranslateLoader:()=>H});var c=_(6895),m=_(3053),e=_(4650),g=_(1364);let W=(()=>{class i{constructor(t){this.translateService=t,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rh"]],decls:167,vars:36,consts:[[1,"container-fluid"],[1,"d-sm-flex","align-items-center","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"row"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","border-left-info","border-bottom-info","shadow","h-100","py-2"],["routerLink","/rh/country",1,"btn"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-info","text-uppercase","mb-1"],[1,"col-auto"],[1,"fas","fa-clipboard-list","fa-2x","text-gray-300"],[1,"card","border-left-primary","border-bottom-primary","shadow","h-100","py-2"],["routerLink","/rh/zone",1,"btn"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"fas","fa-calendar","fa-2x","text-gray-300"],[1,"card","border-left-danger","border-bottom-danger","shadow","h-100","py-2"],["routerLink","/rh/section",1,"btn"],[1,"text-xs","font-weight-bold","text-danger","text-uppercase","mb-1"],[1,"card","border-left-dark","border-bottom-dark","shadow","h-100","py-2"],["routerLink","/rh/bureau",1,"btn"],[1,"card","border-left-success","border-bottom-success","shadow","h-100","py-2"],["routerLink","/rh/manager",1,"btn"],[1,"text-xs","font-weight-bold","text-success","text-uppercase","mb-1"],[1,"fas","fa-persons","fa-2x","text-gray-300"],[1,"card","border-left-warning","border-bottom-warning","shadow","h-100","py-2"],["routerLink","/rh/affectation",1,"btn"],[1,"text-xs","font-weight-bold","text-warning","text-uppercase","mb-1"],[1,"fas","fa-comments","fa-2x","text-gray-300"],[1,"card","border-left-secondary","border-bottom-secondary","shadow","h-100","py-2"],["routerLink","/rh/mission",1,"btn"],["routerLink","/rh/employers",1,"btn"],[1,"fas","fa-person","fa-2x","text-gray-300"],["routerLink","/rh/conge",1,"btn"],["routerLink","/rh/superviseur-zone",1,"btn"],[1,"text-xs","font-weight-bold","text-secondary","text-uppercase","mb-1"],["routerLink","/rh/chef-section",1,"btn"],["routerLink","/rh/liste-zone-pour-ca",1,"btn"],["routerLink","/rh/rendement-bureau",1,"btn"],["routerLink","/rh/localisation-bureau",1,"btn"],["routerLink","/rh/commissaires",1,"btn"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",11),e._UZ(16,"i",12),e.qZA()()()()()(),e.TgZ(17,"div",4)(18,"div",13)(19,"a",14)(20,"div",7)(21,"div",8)(22,"div",9)(23,"div",15),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",11),e._UZ(27,"i",16),e.qZA()()()()()(),e.TgZ(28,"div",4)(29,"div",17)(30,"a",18)(31,"div",7)(32,"div",8)(33,"div",9)(34,"div",19),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",11),e._UZ(38,"i",16),e.qZA()()()()()(),e.TgZ(39,"div",4)(40,"div",20)(41,"a",21)(42,"div",7)(43,"div",8)(44,"div",9)(45,"div",15),e._uU(46),e.ALo(47,"translate"),e.qZA()(),e.TgZ(48,"div",11),e._UZ(49,"i",16),e.qZA()()()()()(),e.TgZ(50,"div",4)(51,"div",22)(52,"a",23)(53,"div",7)(54,"div",8)(55,"div",9)(56,"div",24),e._uU(57),e.ALo(58,"translate"),e.qZA()(),e.TgZ(59,"div",11),e._UZ(60,"i",25),e.qZA()()()()()(),e.TgZ(61,"div",4)(62,"div",26)(63,"a",27)(64,"div",7)(65,"div",8)(66,"div",9)(67,"div",28),e._uU(68),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"div",11),e._UZ(71,"i",29),e.qZA()()()()()(),e.TgZ(72,"div",4)(73,"div",30)(74,"a",31)(75,"div",7)(76,"div",8)(77,"div",9)(78,"div",28),e._uU(79),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",11),e._UZ(82,"i",29),e.qZA()()()()()(),e.TgZ(83,"div",4)(84,"div",17)(85,"a",32)(86,"div",7)(87,"div",8)(88,"div",9)(89,"div",19),e._uU(90),e.ALo(91,"translate"),e.qZA()(),e.TgZ(92,"div",11),e._UZ(93,"i",33),e.qZA()()()()()(),e.TgZ(94,"div",4)(95,"div",5)(96,"a",34)(97,"div",7)(98,"div",8)(99,"div",9)(100,"div",10),e._uU(101),e.ALo(102,"translate"),e.qZA()(),e.TgZ(103,"div",11),e._UZ(104,"i",12),e.qZA()()()()()(),e.TgZ(105,"div",4)(106,"div",30)(107,"a",35)(108,"div",7)(109,"div",8)(110,"div",9)(111,"div",36),e._uU(112),e.ALo(113,"translate"),e.qZA()(),e.TgZ(114,"div",11),e._UZ(115,"i",29),e.qZA()()()()()(),e.TgZ(116,"div",4)(117,"div",17)(118,"a",37)(119,"div",7)(120,"div",8)(121,"div",9)(122,"div",19),e._uU(123),e.ALo(124,"translate"),e.qZA()(),e.TgZ(125,"div",11),e._UZ(126,"i",29),e.qZA()()()()()(),e.TgZ(127,"div",4)(128,"div",17)(129,"a",38)(130,"div",7)(131,"div",8)(132,"div",9)(133,"div",19),e._uU(134," Rendement des zone"),e.qZA()(),e.TgZ(135,"div",11),e._UZ(136,"i",29),e.qZA()()()()()(),e.TgZ(137,"div",4)(138,"div",17)(139,"a",39)(140,"div",7)(141,"div",8)(142,"div",9)(143,"div",19),e._uU(144," Rendement des bureau"),e.qZA()(),e.TgZ(145,"div",11),e._UZ(146,"i",29),e.qZA()()()()()(),e.TgZ(147,"div",4)(148,"div",17)(149,"a",40)(150,"div",7)(151,"div",8)(152,"div",9)(153,"div",19),e._uU(154," Localisation des bureau"),e.qZA()(),e.TgZ(155,"div",11),e._UZ(156,"i",29),e.qZA()()()()()(),e.TgZ(157,"div",4)(158,"div",17)(159,"a",41)(160,"div",7)(161,"div",8)(162,"div",9)(163,"div",19),e._uU(164," gestion des commissaires de contr\xf4le"),e.qZA()(),e.TgZ(165,"div",11),e._UZ(166,"i",29),e.qZA()()()()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,12,"RhManangement")),e.xp6(10),e.hij("",e.lcZ(14,14,"GestionPays")," "),e.xp6(11),e.hij(" ",e.lcZ(25,16,"GestionZone"),""),e.xp6(11),e.hij(" ",e.lcZ(36,18,"GestionSection"),""),e.xp6(11),e.hij(" ",e.lcZ(47,20,"GestionBureau"),""),e.xp6(11),e.hij(" ",e.lcZ(58,22,"GestionManagers"),""),e.xp6(11),e.hij(" ",e.lcZ(69,24,"ManageAffectation"),""),e.xp6(11),e.hij(" ",e.lcZ(80,26,"gestionMission"),""),e.xp6(11),e.hij(" ",e.lcZ(91,28,"gestionEmployer"),""),e.xp6(11),e.hij("",e.lcZ(102,30,"GestionConge")," "),e.xp6(11),e.hij(" ",e.lcZ(113,32,"gestionSuperviseur"),""),e.xp6(11),e.hij(" ",e.lcZ(124,34,"gestionChefSection"),""))},dependencies:[m.rH,g.X$]}),i})();var n=_(4006),b=_(7579),A=_(4508),x=_(2217),Z=_(529),f=_(7185),S=_(5415);const C=function(i){return["/rh/detail-manager",i]},ee=function(i){return["/rh/edit-manager",i]};function te(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",79)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",80)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",80)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",80)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",80)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",80)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",80)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",80)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td",80)(26,"div"),e._uU(27),e.qZA()(),e.TgZ(28,"td",80)(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"td",81)(32,"div"),e._uU(33),e.qZA()(),e.TgZ(34,"td",80)(35,"div"),e._uU(36),e.qZA()(),e.TgZ(37,"td",80)(38,"div"),e._uU(39),e.qZA()(),e.TgZ(40,"td",80)(41,"span",82),e._uU(42),e.qZA()(),e.TgZ(43,"td")(44,"div")(45,"a",83),e._UZ(46,"i",84),e.qZA(),e._uU(47,"\xa0 "),e.TgZ(48,"a",83),e._UZ(49,"i",85),e.qZA(),e._uU(50,"\xa0 "),e.TgZ(51,"a",86),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteManager(s._id))}),e._UZ(52,"i",87),e.qZA()(),e._UZ(53,"div"),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(30,C,t._id)),e.xp6(2),e.AsE("",t.nom," ",t.prenom,""),e.xp6(1),e.Q6J("routerLink",e.VKq(32,C,t._id)),e.xp6(2),e.Oqu(t.telephone),e.xp6(1),e.Q6J("routerLink",e.VKq(34,C,t._id)),e.xp6(2),e.Oqu(t.date_naiss),e.xp6(1),e.Q6J("routerLink",e.VKq(36,C,t._id)),e.xp6(2),e.Oqu(t.lieu_naiss),e.xp6(1),e.Q6J("routerLink",e.VKq(38,C,t._id)),e.xp6(2),e.Oqu(t.piece),e.xp6(1),e.Q6J("routerLink",e.VKq(40,C,t._id)),e.xp6(2),e.Oqu(t.num_piece),e.xp6(1),e.Q6J("routerLink",e.VKq(42,C,t._id)),e.xp6(2),e.Oqu(t.genre),e.xp6(1),e.Q6J("routerLink",e.VKq(44,C,t._id)),e.xp6(2),e.Oqu(t.situation_matrimonial),e.xp6(1),e.Q6J("routerLink",e.VKq(46,C,t._id)),e.xp6(2),e.Oqu(t.grade),e.xp6(1),e.Q6J("routerLink",e.VKq(48,C,t._id)),e.xp6(2),e.Oqu(t.ethnie),e.xp6(3),e.Oqu(t.religion),e.xp6(1),e.Q6J("routerLink",e.VKq(50,C,t._id)),e.xp6(2),e.Oqu(t.maladie_exist),e.xp6(1),e.Q6J("routerLink",e.VKq(52,C,t._id)),e.xp6(2),e.Oqu(t.nbr_enfant),e.xp6(1),e.Q6J("routerLink",e.VKq(54,C,t._id)),e.xp6(2),e.Oqu(t.status_mgr),e.xp6(3),e.Q6J("routerLink",e.VKq(56,C,t._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(58,ee,t._id))}}function oe(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function ie(i,r){1&i&&e._UZ(0,"span",88)}function ne(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function re(i,r){if(1&i&&(e.TgZ(0,"div",89),e.YNc(1,ne,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function ae(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function se(i,r){if(1&i&&(e.TgZ(0,"div",89),e.YNc(1,ae,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function le(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function de(i,r){if(1&i&&(e.TgZ(0,"div",89),e.YNc(1,le,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function ue(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function ce(i,r){if(1&i&&(e.TgZ(0,"div",89),e.YNc(1,ue,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}const y=function(i){return{"is-invalid":i}};let ge=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listBureau=[],this.listManager=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.managerForm=new n.cw({nom:new n.NI(""),prenom:new n.NI(""),telephone:new n.NI(""),date_naiss:new n.NI(""),lieu_naiss:new n.NI(""),piece:new n.NI(""),num_piece:new n.NI(""),grade:new n.NI(""),situation_matrimonial:new n.NI(""),ethnie:new n.NI(""),religion:new n.NI(""),maladie_exist:new n.NI(""),nbr_enfant:new n.NI(""),genre:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.managerForm=this.fb.group({nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:[""],lieu_naiss:[""],piece:[""],num_piece:[""],grade:["",n.kI.required],situation_matrimonial:[""],ethnie:[""],religion:[""],maladie_exist:[""],nbr_enfant:[],genre:["",n.kI.required]})}get f(){return this.managerForm.controls}ngOnInit(){this.getAllBureau(),this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}onSubmit(){if(this.submitted=!0,console.log(this.managerForm.value),this.managerForm?.invalid)return;this.buttonloading=!0;const t={nom:this.managerForm.value.nom,prenom:this.managerForm.value.prenom,telephone:this.managerForm.value.telephone,date_naiss:this.managerForm.value.date_naiss,lieu_naiss:this.managerForm.value.lieu_naiss,piece:this.managerForm.value.piece,num_piece:this.managerForm.value.num_piece,grade:this.managerForm.value.grade,genre:this.managerForm.value.genre,situation_matrimonial:this.managerForm.value.situation_matrimonial,ethnie:this.managerForm.value.ethnie,religion:this.managerForm.value.religion,maladie_exist:this.managerForm.value.maladie_exist,nbr_enfant:this.managerForm.value.nbr_enfant,fullnamemanager:`${this.managerForm.value.nom} ${this.managerForm.value.prenom}`};console.log("form data",t),this.managerService.registerManager(t).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le manager ${o.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,window.location.reload())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}})}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagers().subscribe({next:t=>{this.listManager=t,console.log(this.listManager),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteManager(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.managerService.removeManager(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onUpdateManager(t){this.managerService.singleManager(t).subscribe(o=>{console.log(o)})}onSubmitUpdate(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(x.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manager"]],decls:292,vars:140,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addManagerModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addManagerModal","tabindex","-1","aria-labelledby","addManagerModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addManagerModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Manager"],["value","HCEF"],["value","Assistant Manager"],["value","Gestionnaire"],["value","Manager Superviseur de Zone"],["value","Manager Chef de section"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[3,"routerLink"],[1,"text-center",3,"routerLink"],[1,"text-center"],[1,"badge","badge-success"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"th"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"th"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"th"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"th"),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"th"),e._uU(59),e.ALo(60,"translate"),e.qZA()()(),e.TgZ(61,"tbody"),e.YNc(62,te,54,60,"tr",10),e.qZA()()()()()(),e.TgZ(63,"div",11)(64,"div",12)(65,"div",13)(66,"div",14)(67,"h3",15),e._uU(68),e.ALo(69,"translate"),e.qZA(),e._UZ(70,"button",16),e.qZA(),e.TgZ(71,"div",17)(72,"div",18)(73,"div",19)(74,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(75,"button",21),e.YNc(76,oe,3,3,"ng-container",22),e.YNc(77,ie,1,0,"span",23),e.qZA(),e._uU(78,"\xa0 "),e.TgZ(79,"button",24),e._uU(80),e.ALo(81,"translate"),e.qZA(),e._UZ(82,"br"),e.TgZ(83,"div",25)(84,"div",18),e._UZ(85,"br")(86,"br"),e.TgZ(87,"div",26)(88,"div",27)(89,"div",28)(90,"div",19)(91,"label",29),e._uU(92),e.ALo(93,"translate"),e.TgZ(94,"span",30),e._uU(95,"*"),e.qZA()()(),e.TgZ(96,"div",19),e._UZ(97,"input",31),e.YNc(98,re,2,1,"div",32),e.qZA()()()(),e.TgZ(99,"div",26)(100,"div",27)(101,"div",28)(102,"div",33)(103,"label",34),e._uU(104),e.ALo(105,"translate"),e.TgZ(106,"span",30),e._uU(107,"*"),e.qZA()()(),e.TgZ(108,"div",19),e._UZ(109,"input",35),e.YNc(110,se,2,1,"div",32),e.qZA()()()(),e.TgZ(111,"div",26)(112,"div",27)(113,"div",28)(114,"div",33)(115,"label",29),e._uU(116),e.ALo(117,"translate"),e.TgZ(118,"span",30),e._uU(119,"*"),e.qZA()()(),e.TgZ(120,"div",19),e._UZ(121,"input",36),e.YNc(122,de,2,1,"div",32),e.qZA()()()(),e.TgZ(123,"div",26)(124,"div",27)(125,"div",28)(126,"div",33)(127,"label",37),e._uU(128),e.ALo(129,"translate"),e.TgZ(130,"span",30),e._uU(131,"*"),e.qZA()()(),e.TgZ(132,"div",19)(133,"select",38)(134,"option",39),e._uU(135,"Feminin"),e.qZA(),e.TgZ(136,"option",40),e._uU(137,"Masculin"),e.qZA()(),e.YNc(138,ce,2,1,"div",32),e.qZA()()()()(),e.TgZ(139,"div",18),e._UZ(140,"br")(141,"br"),e.TgZ(142,"div",41)(143,"div",27)(144,"div",28)(145,"div",19)(146,"label",42),e._uU(147),e.ALo(148,"translate"),e.TgZ(149,"span",30),e._uU(150,"*"),e.qZA()()(),e.TgZ(151,"div",19),e._UZ(152,"input",43),e.qZA()()()(),e.TgZ(153,"div",41)(154,"div",27)(155,"div",28)(156,"div",19)(157,"label",44),e._uU(158),e.ALo(159,"translate"),e.TgZ(160,"span",30),e._uU(161,"*"),e.qZA()()(),e.TgZ(162,"div",19),e._UZ(163,"input",45),e.qZA()()()(),e.TgZ(164,"div",41)(165,"div",27)(166,"div",28)(167,"div",19)(168,"label",46),e._uU(169),e.ALo(170,"translate"),e.TgZ(171,"span",30),e._uU(172,"*"),e.qZA()()(),e.TgZ(173,"div",19)(174,"select",47)(175,"option",48),e._uU(176,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(177,"option",49),e._uU(178,"attestation d'identit\xe9"),e.qZA(),e.TgZ(179,"option",50),e._uU(180,"passeport"),e.qZA(),e.TgZ(181,"option",51),e._uU(182,"recepisse"),e.qZA(),e.TgZ(183,"option",52),e._uU(184,"carte consulaire"),e.qZA(),e.TgZ(185,"option",53),e._uU(186,"carte de s\xe9jour"),e.qZA(),e.TgZ(187,"option",54),e._uU(188,"permis de conduire"),e.qZA(),e.TgZ(189,"option",55),e._uU(190,"aucune pi\xe8ce"),e.qZA()()()()()()(),e.TgZ(191,"div",18),e._UZ(192,"br")(193,"br"),e.TgZ(194,"div",26)(195,"div",27)(196,"div",28)(197,"div",19)(198,"label",56),e._uU(199),e.ALo(200,"translate"),e.TgZ(201,"span",30),e._uU(202,"*"),e.qZA()()(),e.TgZ(203,"div",19),e._UZ(204,"input",57),e.qZA()()()(),e.TgZ(205,"div",41)(206,"div",27)(207,"div",28)(208,"div",19)(209,"label",58),e._uU(210),e.ALo(211,"translate"),e.TgZ(212,"span",30),e._uU(213,"*"),e.qZA()()(),e.TgZ(214,"div",19)(215,"select",59)(216,"option",60),e._uU(217,"mari\xe9"),e.qZA(),e.TgZ(218,"option",61),e._uU(219,"celibataire"),e.qZA(),e.TgZ(220,"option",62),e._uU(221,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(222,"div",41)(223,"div",27)(224,"div",28)(225,"div",19)(226,"label",63),e._uU(227),e.ALo(228,"translate"),e.TgZ(229,"span",30),e._uU(230,"*"),e.qZA()()(),e.TgZ(231,"div",19)(232,"select",64)(233,"option",65),e._uU(234,"Manager"),e.qZA(),e.TgZ(235,"option",66),e._uU(236,"HCEF"),e.qZA(),e.TgZ(237,"option",67),e._uU(238,"Assistant Manager"),e.qZA(),e.TgZ(239,"option",68),e._uU(240,"Gestionnaire"),e.qZA(),e.TgZ(241,"option",69),e._uU(242,"Manager Superviseur de Zone"),e.qZA(),e.TgZ(243,"option",70),e._uU(244,"Manager Chef de section"),e.qZA()()()()()()(),e.TgZ(245,"div",18),e._UZ(246,"br")(247,"br"),e.TgZ(248,"div",26)(249,"div",27)(250,"div",28)(251,"div",19)(252,"label",71),e._uU(253),e.ALo(254,"translate"),e.TgZ(255,"span",30),e._uU(256,"*"),e.qZA()()(),e.TgZ(257,"div",19),e._UZ(258,"input",72),e.qZA()()()(),e.TgZ(259,"div",26)(260,"div",27)(261,"div",28)(262,"div",19)(263,"label",73),e._uU(264),e.ALo(265,"translate"),e.TgZ(266,"span",30),e._uU(267,"*"),e.qZA()()(),e.TgZ(268,"div",19),e._UZ(269,"input",74),e.qZA()()()(),e.TgZ(270,"div",26)(271,"div",27)(272,"div",28)(273,"div",19)(274,"label",75),e._uU(275),e.ALo(276,"translate"),e.TgZ(277,"span",30),e._uU(278,"*"),e.qZA()()(),e.TgZ(279,"div",19),e._UZ(280,"input",76),e.qZA()()()(),e.TgZ(281,"div",26)(282,"div",27)(283,"div",28)(284,"div",19)(285,"label",77),e._uU(286),e.ALo(287,"translate"),e.TgZ(288,"span",30),e._uU(289,"*"),e.qZA()()(),e.TgZ(290,"div",19),e._UZ(291,"input",78),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,54,"GestionManagers")),e.xp6(7),e.hij("\xa0",e.lcZ(10,56,"AjouterManager")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,58,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,60,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(24,62,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(27,64,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(30,66,"Piece")),e.xp6(3),e.Oqu(e.lcZ(33,68,"NumeroPiece")),e.xp6(3),e.Oqu(e.lcZ(36,70,"Genre")),e.xp6(3),e.hij("",e.lcZ(39,72,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(42,74,"Grade")," "),e.xp6(3),e.hij("",e.lcZ(45,76,"Ethenie")," "),e.xp6(3),e.hij("",e.lcZ(48,78,"Religion")," "),e.xp6(3),e.Oqu(e.lcZ(51,80,"MaladiEntecedent")),e.xp6(3),e.Oqu(e.lcZ(54,82,"NombreEnfant")),e.xp6(3),e.Oqu(e.lcZ(57,84,"Status")),e.xp6(3),e.Oqu(e.lcZ(60,86,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listManager),e.xp6(6),e.Oqu(e.lcZ(69,88,"AjouterManager")),e.xp6(6),e.Q6J("formGroup",o.managerForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(81,90,"Annuler")),e.xp6(12),e.hij("",e.lcZ(93,92,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(120,y,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(105,94,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(122,y,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(117,96,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(124,y,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(129,98,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(126,y,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(148,100,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(128,y,o.submitted&&o.f.date_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(159,102,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(130,y,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(170,104,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(132,y,o.submitted&&o.f.piece.errors)),e.xp6(25),e.Oqu(e.lcZ(200,106,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(211,108,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(228,110,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(134,y,o.submitted&&o.f.grade.errors)),e.xp6(21),e.Oqu(e.lcZ(254,112,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(265,114,"Religion")),e.xp6(11),e.Oqu(e.lcZ(276,116,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(136,y,o.submitted&&o.f.maladie_exist.errors)),e.xp6(6),e.Oqu(e.lcZ(287,118,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(138,y,o.submitted&&o.f.nbr_enfant.errors)))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,S.G,g.X$]}),i})();var M=_(473),q=_(3056);function me(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",36),e._uU(5),e.qZA(),e.TgZ(6,"td",36)(7,"a",37),e._UZ(8,"i",38),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteAffectation(s._id))}),e._UZ(11,"i",40),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(t.bureauId.bureau_name)}}function pe(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function he(i,r){1&i&&e._UZ(0,"span",41)}function _e(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BureauObligatoire")))}function fe(i,r){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,_e,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}let Ze=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.affectationService=d,this.toastrService=u,this.translateService=p,this.listBureau=[],this.listAffectation=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.affectationForm=new n.cw({managerId:new n.NI(""),bureauId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.affectationForm=this.fb.group({managerId:["",n.kI.required],bureauId:["",n.kI.required]})}get f(){return this.affectationForm.controls}ngOnInit(){this.getAllBureau(),this.getAllManager(),this.getAllAffectation(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"fullnamemanager",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,limitSelection:3,allowSearchFilter:this.ShowFilter}}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagersNonAffectes().subscribe({next:t=>{this.listManagers=t,console.log(this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.affectationForm.value),this.affectationForm?.invalid||(this.buttonloading=!0,this.affectationService.registerAffectation({bureauId:this.affectationForm.value.bureauId[0]._id,managerId:this.affectationForm.value.managerId}).subscribe({next:o=>{console.log(o),this.toastrService.success(o.message)&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o.message),this.toastrService.error(o.message),this.buttonloading=!1}}))}getAllAffectation(){this.affectationService.getAllAffectation().subscribe({next:t=>{this.listAffectation=t,console.log(this.listAffectation),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteAffectation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette affectation ?")&&(this.affectationService.removeAffectation(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectationForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectationForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectationForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectationForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(x.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(M.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-affectation"]],decls:71,vars:41,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["formControlName","bureauId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,me,12,3,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,pe,3,3,"ng-container",22),e.YNc(41,he,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(61,fe,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",34),e._uU(67),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",19)(70,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(s){return o.onItemManagerSelect(s)})("onDeSelect",function(s){return o.onItemManagerDeSelect(s)}),e.qZA()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,23,"ManageAffectation")),e.xp6(7),e.hij("\xa0",e.lcZ(10,25,"AjouterNouvelleAffectation")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,27,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,29,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(24,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listAffectation),e.xp6(6),e.Oqu(e.lcZ(33,33,"AjouterNouvelleAffectation")),e.xp6(6),e.Q6J("formGroup",o.affectationForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,35,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,37,"NomBureau")),e.xp6(5),e.Q6J("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(6),e.hij(" ",e.lcZ(68,39,"choisirManagers"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings))},dependencies:[c.sg,c.O5,n._Y,n.JJ,n.JL,n.sg,n.u,q.OP,S.G,g.X$]}),i})();function be(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10),e._uU(5),e.qZA(),e.TgZ(6,"td",10),e._uU(7),e.qZA(),e.TgZ(8,"td",10),e._uU(9),e.qZA(),e.TgZ(10,"td",10),e._uU(11),e.qZA(),e.TgZ(12,"td",10),e._uU(13),e.qZA(),e._UZ(14,"td"),e.TgZ(15,"td",10)(16,"a",43),e._UZ(17,"i",44),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.AsE("",t.managerId.nom," ",t.managerId.prenom,""),e.xp6(2),e.hij(" ",t.bureauId.telephone," "),e.xp6(2),e.hij(" ",t.tyepe_mission," "),e.xp6(2),e.hij(" ",t.date_depart," "),e.xp6(2),e.hij(" ",t.date_retour," "),e.xp6(2),e.hij(" ",t.bureauId.bureau_name," ")}}function ve(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Ae(i,r){1&i&&e._UZ(0,"span",45)}function Te(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BureauObligatoire")))}function Se(i,r){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Te,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureau.errors.required)}}function qe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DateSortieObligatoire")))}function Ce(i,r){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,qe,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_sortie.errors.required)}}function we(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DateSortieObligatoire")))}function xe(i,r){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,we,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_sortie.errors.required)}}function ye(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ue(i,r){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,ye,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.type_mission.errors.required)}}const Q=function(i){return{"is-invalid":i}};let Ie=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.missionService=d,this.toastrService=u,this.translateService=p,this.listBureau=[],this.listMission=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.missionForm=new n.cw({managerId:new n.NI(""),bureauId:new n.NI(""),date_depart:new n.NI(""),date_retour:new n.NI(""),type_mission:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.missionForm=this.fb.group({managerId:["",n.kI.required],bureauId:["",n.kI.required],date_depart:["",n.kI.required],date_retour:["",n.kI.required],type_mission:["",n.kI.required]})}get f(){return this.missionForm.controls}ngOnInit(){this.getAllBureau(),this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"nom",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagers().subscribe({next:t=>{this.listManagers=t,console.log(this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.missionForm.value),!this.missionForm?.invalid&&(this.buttonloading=!0,this.missionService.registerMission(this.missionForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success("La mission du manager a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,this.ngOnInit())},error:t=>{console.log(t),this.toastrService.error(t.error),this.buttonloading=!1}}))}getAllMission(){this.missionService.getAllMission().subscribe({next:t=>{this.listMission=t,console.log(this.listMission),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteMission(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette mission ?")&&(this.missionService.removeMission(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.missionForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.missionForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.missionForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.missionForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(x.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(M.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mission"]],decls:117,vars:69,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["formControlName","bureau",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["for","date_sortie"],["type","date","id","date_sortie","formControlName","date_sortie",1,"form-control",3,"ngClass"],["for","type_mission"],["formControlName","type_mission","id","type_mission",1,"form-control",3,"ngClass"],["value","mission de la direction"],["value","mission de  zone"],["onclick","onDeleteMission(mission._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th",10),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,be,18,7,"tr",11),e.qZA()()()()()(),e.TgZ(33,"div",12)(34,"div",13)(35,"div",14)(36,"div",15)(37,"h3",16),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"button",17),e.qZA(),e.TgZ(41,"div",18)(42,"div",19)(43,"div",20)(44,"form",21),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(45,"button",22),e.YNc(46,ve,3,3,"ng-container",23),e.YNc(47,Ae,1,0,"span",24),e.qZA(),e._uU(48,"\xa0 "),e.TgZ(49,"button",25),e._uU(50),e.ALo(51,"translate"),e.qZA(),e._UZ(52,"br"),e.TgZ(53,"div",26)(54,"div",27)(55,"div",19)(56,"div",28)(57,"div",29)(58,"div",30)(59,"div",20)(60,"label",31),e._uU(61),e.ALo(62,"translate"),e.TgZ(63,"span",32),e._uU(64,"*"),e.qZA()()(),e.TgZ(65,"div",20)(66,"ng-multiselect-dropdown",33),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(67,Se,2,1,"div",34),e.qZA()()()(),e.TgZ(68,"div",28)(69,"div",29)(70,"div",30)(71,"div",20)(72,"label",35),e._uU(73),e.ALo(74,"translate"),e.qZA()(),e.TgZ(75,"div",20)(76,"ng-multiselect-dropdown",36),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(s){return o.onItemManagerSelect(s)})("onDeSelect",function(s){return o.onItemManagerDeSelect(s)}),e.qZA()()()()(),e.TgZ(77,"div",28)(78,"div",29)(79,"div",30)(80,"div",20)(81,"label",37),e._uU(82),e.ALo(83,"translate"),e.TgZ(84,"span",32),e._uU(85,"*"),e.qZA()()(),e.TgZ(86,"div",20),e._UZ(87,"input",38),e.YNc(88,Ce,2,1,"div",34),e.qZA()()()(),e.TgZ(89,"div",28)(90,"div",29)(91,"div",30)(92,"div",20)(93,"label",37),e._uU(94),e.ALo(95,"translate"),e.TgZ(96,"span",32),e._uU(97,"*"),e.qZA()()(),e.TgZ(98,"div",20),e._UZ(99,"input",38),e.YNc(100,xe,2,1,"div",34),e.qZA()()()(),e.TgZ(101,"div",28)(102,"div",29)(103,"div",30)(104,"div",20)(105,"label",39),e._uU(106),e.ALo(107,"translate"),e.TgZ(108,"span",32),e._uU(109,"*"),e.qZA()()(),e.TgZ(110,"div",20)(111,"select",40)(112,"option",41),e._uU(113,"Mission de la direction"),e.qZA(),e.TgZ(114,"option",42),e._uU(115,"Mission de zone"),e.qZA()(),e.YNc(116,Ue,2,1,"div",34),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,35,"gestionMission")),e.xp6(7),e.hij("\xa0",e.lcZ(10,37,"AjouterMission")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,39,"DateSortie")),e.xp6(3),e.Oqu(e.lcZ(21,41,"Produit")),e.xp6(3),e.Oqu(e.lcZ(24,43,"Quantite")),e.xp6(3),e.Oqu(e.lcZ(27,45,"Bureaudedestination")),e.xp6(3),e.Oqu(e.lcZ(30,47,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listMission),e.xp6(6),e.Oqu(e.lcZ(39,49,"AjouterMission")),e.xp6(6),e.Q6J("formGroup",o.missionForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(51,51,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(62,53,"BureauMission")),e.xp6(5),e.Q6J("placeholder","Select bureau")("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureau.errors),e.xp6(6),e.hij(" ",e.lcZ(74,55,"choisirManagers"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings),e.xp6(6),e.Oqu(e.lcZ(83,57,"DateDebutMission")),e.xp6(5),e.Q6J("ngClass",e.VKq(63,Q,o.submitted&&o.f.date_sortie.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_sortie.errors),e.xp6(6),e.Oqu(e.lcZ(95,59,"DateFinMission")),e.xp6(5),e.Q6J("ngClass",e.VKq(65,Q,o.submitted&&o.f.date_sortie.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_sortie.errors),e.xp6(6),e.Oqu(e.lcZ(107,61,"TypeMission")),e.xp6(5),e.Q6J("ngClass",e.VKq(67,Q,o.submitted&&o.f.type_mission.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.type_mission.errors))},dependencies:[c.mk,c.sg,c.O5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u,q.OP,S.G,g.X$]}),i})();var v=_(7729);const z=function(i){return["/rh/zone-pays",i]};function Fe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",36)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",37)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"div")(9,"a",38),e._UZ(10,"i",39),e.qZA(),e._uU(11,"\xa0 "),e.TgZ(12,"a",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteCountry(s._id))}),e._UZ(13,"i",41),e.qZA()()()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,z,t._id)),e.xp6(2),e.Oqu(t.country_name),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Q6J("routerLink",e.VKq(6,z,t._id))}}function Le(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Oe(i,r){1&i&&e._UZ(0,"span",42)}function De(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"NomPaysObligatoire")))}function Ne(i,r){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,De,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.country_name.errors.required)}}function Me(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephonePaysObligatoire")))}function Je(i,r){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,Me,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}const K=function(i){return{"is-invalid":i}};let Ye=(()=>{class i{constructor(t,o,a,s,l){this.countryService=t,this.fb=o,this.http=a,this.toastrService=s,this.translateService=l,this.listCountry=[],this.pageNumber=1,this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.percentDone=0,this.countryForm=new n.cw({country_name:new n.NI(""),telephone:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.countryForm=this.fb.group({country_name:["",n.kI.required],telephone:["",n.kI.required]})}ngOnInit(){this.getAllCountry(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}get f(){return this.countryForm.controls}onSubmit(){this.submitted=!0,!this.countryForm?.invalid&&(this.buttonloading=!0,this.countryService.registerCountry(this.countryForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success(`Le pays ${t.country_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`),this.buttonloading=!1},error:t=>{console.log(t),this.toastrService.error(t.error.message),this.buttonloading=!1}}))}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listCountry)},error:t=>{console.log(t),this.loading=!1}})}onDeleteCountry(t){console.log(t),window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&this.countryService.removeCountry(t).subscribe({next:o=>{this.toastrService.success(`${o}`),window.location.reload()},error:o=>{console.log(o),this.toastrService.error(o.error.message),this.loading=!1}})}payszone(t){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.T),e.Y36(n.qu),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-country"]],decls:72,vars:42,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addCountryModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addCountryModal","tabindex","-1","aria-labelledby","addCountryModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addCountryModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-6","col-md-6"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["type","text","placeholder","C\xf4te d'ivoire","id","nom","formControlName","country_name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["type","text","placeholder","+2250768300358","id","telephone","formControlName","telephone",1,"form-control",3,"ngClass"],[1,"text-center",3,"routerLink"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,Fe,14,8,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,Le,3,3,"ng-container",22),e.YNc(41,Oe,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19),e._UZ(60,"input",32),e.YNc(61,Ne,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",34),e._uU(67),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",19),e._UZ(70,"input",35),e.YNc(71,Je,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,20,"GestionPays")),e.xp6(7),e.hij("\xa0",e.lcZ(10,22,"AjouterNouveauPays")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,24,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(21,26,"TelephonePays")),e.xp6(3),e.Oqu(e.lcZ(24,28,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listCountry),e.xp6(6),e.Oqu(e.lcZ(33,30,"AjouterNouveauPays")),e.xp6(6),e.Q6J("formGroup",o.countryForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,32,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,34,"NomPays")),e.xp6(5),e.Q6J("ngClass",e.VKq(38,K,o.submitted&&o.f.country_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.country_name.errors),e.xp6(6),e.hij(" ",e.lcZ(68,36,"TelephonePays"),""),e.xp6(3),e.Q6J("ngClass",e.VKq(40,K,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,S.G,g.X$]}),i})();var G=_(461);function ke(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",87)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",87)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",87)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",87)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",87)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",87)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",87)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td")(26,"div")(27,"a",88),e._UZ(28,"i",89),e.qZA(),e.TgZ(29,"a",88),e._UZ(30,"i",90),e.qZA(),e.TgZ(31,"a",91),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteEmployer(s._id))}),e._UZ(32,"i",92),e.qZA()(),e._UZ(33,"div"),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(3),e.AsE("",t.nom," ",t.prenom,""),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Oqu(t.date_naiss),e.xp6(3),e.Oqu(t.lieu_naiss),e.xp6(3),e.Oqu(t.piece),e.xp6(3),e.Oqu(t.num_piece),e.xp6(3),e.Oqu(t.grade),e.xp6(3),e.Oqu(t.situation_matrimonial)}}function Qe(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Ee(i,r){1&i&&e._UZ(0,"span",93)}function Be(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function je(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,Be,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function ze(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ke(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,ze,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function Ge(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function Ve(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,Ge,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function Pe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function $e(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,Pe,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_naiss.errors.required)}}function Re(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Xe(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,Re,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lieu_naiss.errors.required)}}function He(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function We(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,He,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.piece.errors.required)}}function et(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function tt(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,et,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.grade.errors.required)}}function ot(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function it(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,ot,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.maladie_exist.errors.required)}}function nt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function rt(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,nt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nbr_enfant.errors.required)}}function at(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function st(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,at,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.fin_contrat.errors.required)}}const U=function(i){return{"is-invalid":i}};let lt=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.employerService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listBureau=[],this.listEmployer=[],this.pageNumber=1,this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.employerForm=new n.cw({nom:new n.NI(""),prenom:new n.NI(""),telephone:new n.NI(""),date_naiss:new n.NI(""),lieu_naiss:new n.NI(""),piece:new n.NI(""),genre:new n.NI(""),num_piece:new n.NI(""),grade:new n.NI(""),situation_matrimonial:new n.NI(""),type_contrat:new n.NI(""),debut_contrat:new n.NI(""),fin_contrat:new n.NI(""),nbr_enfant:new n.NI(""),maladie_exist:new n.NI(""),religion:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.employerForm=this.fb.group({nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:["",n.kI.required],lieu_naiss:["",n.kI.required],piece:["",n.kI.required],genre:["",n.kI.required],num_piece:["",n.kI.required],grade:["",n.kI.required],situation_matrimonial:["",n.kI.required],type_contrat:["",n.kI.required],debut_contrat:["",n.kI.required],fin_contrat:["",n.kI.required],nbr_enfant:["",n.kI.required],maladie_exist:["",n.kI.required],religion:["",n.kI.required]})}get f(){return this.employerForm.controls}ngOnInit(){this.getAllBureau(),this.getAllEmployer(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}onSubmit(){this.submitted=!0,console.log(this.employerForm.value),this.employerForm?.invalid||(this.buttonloading=!0,this.employerService.registerEmployer(this.employerForm.value).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le manager ${o.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error.message),this.buttonloading=!1}}))}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllEmployer(){this.employerService.getAllEmployers().subscribe({next:t=>{this.listEmployer=t,console.log(this.listEmployer),this.dtTrigger.next(null),this.totalManager=t.length,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteEmployer(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce employer ?")&&(this.employerService.removeEmployer(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(G.g),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-employer"]],decls:313,vars:134,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addEmployeeModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addEmployeeModal","tabindex","-1","aria-labelledby","addEmployeeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addEmployeeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-4","md-4","xl-4"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["for","telephone"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],[1,"col-lg-3","md-3","xl-3"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Chef de Service"],["value","Directeur G\xe9n\xe9ral"],["value","Superviseur g\xe9n\xe9ral"],["value","G\xe9rant"],["value","Chef Comptable"],["value","Assistant(e) Comptable"],["value","Chef de service m\xe9dical"],["value","Kin\xe9sith\xe9rapeutre"],["value","Assistant Kin\xe9sith\xe9rapeutre"],["value","Adjoint du Chef de service m\xe9dical"],["value","Coursier"],["value","Agent de S\xe9curit\xe9"],["for","genre"],["formControlName","genre","id","genre",1,"form-control"],["value","masculin"],["value","f\xe9minin"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],["for","type_contrat"],["formControlName","type_contrat","id","type_contrat",1,"form-control"],["value","CDD"],["value","CDI"],["for","debut_contrat"],["type","date","formControlName","debut_contrat","id","debut_contrat",1,"form-control"],["for","fin_contrat"],["type","date","formControlName","fin_contrat","id","fin_contrat",1,"form-control",3,"ngClass"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-eye","btn-primary"],[1,"fa","fa-pencil","btn-primary"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"tbody"),e.YNc(44,ke,34,9,"tr",10),e.qZA()()()()()(),e.TgZ(45,"div",11)(46,"div",12)(47,"div",13)(48,"div",14)(49,"h3",15),e._uU(50),e.ALo(51,"translate"),e.qZA(),e._UZ(52,"button",16),e.qZA(),e.TgZ(53,"div",17)(54,"div",18)(55,"div",19)(56,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(57,"button",21),e.YNc(58,Qe,3,3,"ng-container",22),e.YNc(59,Ee,1,0,"span",23),e.qZA(),e._uU(60,"\xa0 "),e.TgZ(61,"button",24),e._uU(62),e.ALo(63,"translate"),e.qZA(),e._UZ(64,"br"),e.TgZ(65,"div",25)(66,"div",18),e._UZ(67,"br")(68,"br"),e.TgZ(69,"div",26)(70,"div",27)(71,"div",28)(72,"div",19)(73,"label",29),e._uU(74),e.ALo(75,"translate"),e.TgZ(76,"span",30),e._uU(77,"*"),e.qZA()()(),e.TgZ(78,"div",19),e._UZ(79,"input",31),e.YNc(80,je,2,1,"div",32),e.qZA()()()(),e.TgZ(81,"div",26)(82,"div",27)(83,"div",28)(84,"div",33)(85,"label",34),e._uU(86),e.ALo(87,"translate"),e.TgZ(88,"span",30),e._uU(89,"*"),e.qZA()()(),e.TgZ(90,"div",19),e._UZ(91,"input",35),e.YNc(92,Ke,2,1,"div",32),e.qZA()()()(),e.TgZ(93,"div",26)(94,"div",27)(95,"div",28)(96,"div",33)(97,"label",36),e._uU(98),e.ALo(99,"translate"),e.TgZ(100,"span",30),e._uU(101,"*"),e.qZA()()(),e.TgZ(102,"div",19),e._UZ(103,"input",37),e.YNc(104,Ve,2,1,"div",32),e.qZA()()()()(),e.TgZ(105,"div",18),e._UZ(106,"br")(107,"br"),e.TgZ(108,"div",26)(109,"div",27)(110,"div",28)(111,"div",19)(112,"label",38),e._uU(113),e.ALo(114,"translate"),e.TgZ(115,"span",30),e._uU(116,"*"),e.qZA()()(),e.TgZ(117,"div",19),e._UZ(118,"input",39),e.YNc(119,$e,2,1,"div",32),e.qZA()()()(),e.TgZ(120,"div",26)(121,"div",27)(122,"div",28)(123,"div",19)(124,"label",40),e._uU(125),e.ALo(126,"translate"),e.TgZ(127,"span",30),e._uU(128,"*"),e.qZA()()(),e.TgZ(129,"div",19),e._UZ(130,"input",41),e.YNc(131,Xe,2,1,"div",32),e.qZA()()()(),e.TgZ(132,"div",26)(133,"div",27)(134,"div",28)(135,"div",19)(136,"label",42),e._uU(137),e.ALo(138,"translate"),e.TgZ(139,"span",30),e._uU(140,"*"),e.qZA()()(),e.TgZ(141,"div",19)(142,"select",43)(143,"option",44),e._uU(144,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(145,"option",45),e._uU(146,"attestation d'identit\xe9"),e.qZA(),e.TgZ(147,"option",46),e._uU(148,"passeport"),e.qZA()(),e.YNc(149,We,2,1,"div",32),e.qZA()()()()(),e.TgZ(150,"div",18),e._UZ(151,"br")(152,"br"),e.TgZ(153,"div",47)(154,"div",27)(155,"div",28)(156,"div",19)(157,"label",48),e._uU(158),e.ALo(159,"translate"),e.TgZ(160,"span",30),e._uU(161,"*"),e.qZA()()(),e.TgZ(162,"div",19),e._UZ(163,"input",49),e.qZA()()()(),e.TgZ(164,"div",26)(165,"div",27)(166,"div",28)(167,"div",19)(168,"label",50),e._uU(169),e.ALo(170,"translate"),e.TgZ(171,"span",30),e._uU(172,"*"),e.qZA()()(),e.TgZ(173,"div",19)(174,"select",51)(175,"option",52),e._uU(176,"mari\xe9"),e.qZA(),e.TgZ(177,"option",53),e._uU(178,"celibataire"),e.qZA(),e.TgZ(179,"option",54),e._uU(180,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(181,"div",26)(182,"div",27)(183,"div",28)(184,"div",19)(185,"label",55),e._uU(186),e.ALo(187,"translate"),e.TgZ(188,"span",30),e._uU(189,"*"),e.qZA()()(),e.TgZ(190,"div",19)(191,"select",56)(192,"option",57),e._uU(193,"Chef Service"),e.qZA(),e.TgZ(194,"option",58),e._uU(195,"Directeur G\xe9n\xe9ral"),e.qZA(),e.TgZ(196,"option",59),e._uU(197,"Superviseur g\xe9n\xe9ral"),e.qZA(),e.TgZ(198,"option",60),e._uU(199,"G\xe9rant"),e.qZA(),e.TgZ(200,"option",61),e._uU(201,"Chef Comptable"),e.qZA(),e.TgZ(202,"option",62),e._uU(203,"Assistant(e) Comptable"),e.qZA(),e.TgZ(204,"option",62),e._uU(205,"Assistant(e) Comptable"),e.qZA(),e.TgZ(206,"option",63),e._uU(207,"Chef de service m\xe9dical"),e.qZA(),e.TgZ(208,"option",64),e._uU(209,"Kin\xe9sith\xe9rapeutre"),e.qZA(),e.TgZ(210,"option",65),e._uU(211,"Kin\xe9sith\xe9rapeutre"),e.qZA(),e.TgZ(212,"option",66),e._uU(213,"Adjoint du Chef de service m\xe9dical"),e.qZA(),e.TgZ(214,"option",67),e._uU(215,"Coursier"),e.qZA(),e.TgZ(216,"option",68),e._uU(217,"Agent de S\xe9curit\xe9"),e.qZA()(),e.YNc(218,tt,2,1,"div",32),e.qZA()()()()(),e.TgZ(219,"div",18),e._UZ(220,"br")(221,"br"),e.TgZ(222,"div",47)(223,"div",27)(224,"div",28)(225,"div",19)(226,"label",69),e._uU(227),e.ALo(228,"translate"),e.TgZ(229,"span",30),e._uU(230,"*"),e.qZA()()(),e.TgZ(231,"div",19)(232,"select",70)(233,"option",71),e._uU(234,"Masculin"),e.qZA(),e.TgZ(235,"option",72),e._uU(236,"F\xe9minin"),e.qZA()()()()()(),e.TgZ(237,"div",47)(238,"div",27)(239,"div",28)(240,"div",19)(241,"label",73),e._uU(242),e.ALo(243,"translate"),e.TgZ(244,"span",30),e._uU(245,"*"),e.qZA()()(),e.TgZ(246,"div",19),e._UZ(247,"input",74),e.qZA()()()(),e.TgZ(248,"div",47)(249,"div",27)(250,"div",28)(251,"div",19)(252,"label",75),e._uU(253),e.ALo(254,"translate"),e.TgZ(255,"span",30),e._uU(256,"*"),e.qZA()()(),e.TgZ(257,"div",19),e._UZ(258,"input",76),e.YNc(259,it,2,1,"div",32),e.qZA()()()(),e.TgZ(260,"div",47)(261,"div",27)(262,"div",28)(263,"div",19)(264,"label",77),e._uU(265),e.ALo(266,"translate"),e.TgZ(267,"span",30),e._uU(268,"*"),e.qZA()()(),e.TgZ(269,"div",19),e._UZ(270,"input",78),e.YNc(271,rt,2,1,"div",32),e.qZA()()()()(),e.TgZ(272,"div",18),e._UZ(273,"br")(274,"br"),e.TgZ(275,"div",47)(276,"div",27)(277,"div",28)(278,"div",19)(279,"label",79),e._uU(280),e.ALo(281,"translate"),e.TgZ(282,"span",30),e._uU(283,"*"),e.qZA()()(),e.TgZ(284,"div",19)(285,"select",80)(286,"option",81),e._uU(287,"CDD"),e.qZA(),e.TgZ(288,"option",82),e._uU(289,"CDI"),e.qZA()()()()()(),e.TgZ(290,"div",26)(291,"div",27)(292,"div",28)(293,"div",19)(294,"label",83),e._uU(295),e.ALo(296,"translate"),e.TgZ(297,"span",30),e._uU(298,"*"),e.qZA()()(),e.TgZ(299,"div",19),e._UZ(300,"input",84),e.qZA()()()(),e.TgZ(301,"div",26)(302,"div",27)(303,"div",28)(304,"div",19)(305,"label",85),e._uU(306),e.ALo(307,"translate"),e.TgZ(308,"span",30),e._uU(309,"*"),e.qZA()()(),e.TgZ(310,"div",19),e._UZ(311,"input",86),e.YNc(312,st,2,1,"div",32),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,56,"GestionEmployers")),e.xp6(7),e.hij("\xa0",e.lcZ(10,58,"AjouterNouveauEmployer")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,60,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,62,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(24,64,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(27,66,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(30,68,"Piece")),e.xp6(3),e.Oqu(e.lcZ(33,70,"NumeroPiece")),e.xp6(3),e.hij("",e.lcZ(36,72,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(39,74,"Grade")," "),e.xp6(3),e.Oqu(e.lcZ(42,76,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listEmployer),e.xp6(6),e.Oqu(e.lcZ(51,78,"AjouterNouveauEmployer")),e.xp6(6),e.Q6J("formGroup",o.employerForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(63,80,"Annuler")),e.xp6(12),e.hij("",e.lcZ(75,82,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(114,U,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(87,84,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(116,U,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(99,86,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(118,U,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(9),e.hij("",e.lcZ(114,88,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(120,U,o.submitted&&o.f.date_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_naiss.errors),e.xp6(6),e.hij("",e.lcZ(126,90,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(122,U,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lieu_naiss.errors),e.xp6(6),e.hij("",e.lcZ(138,92,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(124,U,o.submitted&&o.f.piece.errors)),e.xp6(7),e.Q6J("ngIf",o.submitted&&o.f.piece.errors),e.xp6(9),e.Oqu(e.lcZ(159,94,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(170,96,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(187,98,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(126,U,o.submitted&&o.f.grade.errors)),e.xp6(27),e.Q6J("ngIf",o.submitted&&o.f.grade.errors),e.xp6(9),e.Oqu(e.lcZ(228,100,"Genre")),e.xp6(15),e.Oqu(e.lcZ(243,102,"Religion")),e.xp6(11),e.Oqu(e.lcZ(254,104,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(128,U,o.submitted&&o.f.maladie_exist.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.maladie_exist.errors),e.xp6(6),e.Oqu(e.lcZ(266,106,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(130,U,o.submitted&&o.f.nbr_enfant.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nbr_enfant.errors),e.xp6(9),e.Oqu(e.lcZ(281,108,"TypeContrat")),e.xp6(15),e.Oqu(e.lcZ(296,110,"DebutContrat")),e.xp6(11),e.Oqu(e.lcZ(307,112,"FinContrat")),e.xp6(5),e.Q6J("ngClass",e.VKq(132,U,o.submitted&&o.f.fin_contrat.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.fin_contrat.errors))},dependencies:[c.mk,c.sg,c.O5,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,S.G,g.X$]}),i})();var N=_(5861);const dt=function(i){return["/rh/edit-bureau",i]};function ut(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",42),e._uU(5),e.qZA(),e.TgZ(6,"td",42)(7,"a",43),e._UZ(8,"i",44),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteBureau(s._id))}),e._UZ(11,"i",46),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.bureau_name),e.xp6(2),e.hij(" ",t.countryId.country_name," "),e.xp6(2),e.Q6J("routerLink",e.VKq(3,dt,t._id))}}function ct(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function gt(i,r){1&i&&e._UZ(0,"span",47)}function mt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function pt(i,r){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,mt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function ht(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"NomBureauObligatoire")))}function _t(i,r){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,ht,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureau_name.errors.required)}}const ft=function(i){return{"is-invalid":i}};let Zt=(()=>{class i{constructor(t,o,a,s,l,d,u,p,T){this.agenceService=t,this.zoneService=o,this.sectionService=a,this.countryService=s,this.fb=l,this.router=d,this.http=u,this.toastrService=p,this.translateService=T,this.listCountry=[],this.listBureau=[],this.listZone=[],this.listSection=[],this.sections=[],this.zones=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dropdownSectionSettings={},this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new b.x,this.percentDone=0,this.bureauForm=new n.cw({bureau_name:new n.NI(""),countryId:new n.NI(""),zoneId:new n.NI(""),sectionId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.bureauForm=this.fb.group({bureau_name:["",n.kI.required],countryId:["",n.kI.required],zoneId:[""],sectionId:[""]})}ngOnInit(){this.getAllBureau(),this.getAllCountry(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSectionSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.bureauForm.controls}onSubmit(){var t=this;return(0,N.Z)(function*(){if(t.submitted=!0,console.log(t.bureauForm.value),t.bureauForm?.invalid)return;t.buttonloading=!0;const o={bureau_name:t.bureauForm.value.bureau_name,countryId:t.bureauForm.value.countryId[0]?._id,zoneId:t.bureauForm.value.zoneId[0]?._id,sectionId:t.bureauForm.value.sectionId[0]?._id};null==o.zoneId&&(o.zoneId=""),null==o.sectionId&&(o.sectionId=""),console.log("formData",o),t.agenceService.registerBureau(o).subscribe({next:a=>{console.log(a),t.toastrService.success(`Le pays ${a.bureau_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.ngOnInit())},error:a=>{console.log(a),t.toastrService.error(a.error),t.buttonloading=!1}})})()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.sections=t.sections,this.zones=t.zones,this.dtTrigger.next(null),this.loading=!1,console.log(this.listBureau)},error:t=>{console.log(t),this.loading=!1}})}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,console.log(this.listCountry),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteBureau(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.agenceService.removeBureau(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),window.location.reload())}onItemSelect(t){console.log("onItemSelect",t),this.zoneService.getAllZonesByCountry(t._id).subscribe({next:o=>{this.listZone=o,this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureauForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemZoneSelect(t){console.log("onItemSelect",t),this.sectionService.getAllSectionsByZone(t._id).subscribe({next:o=>{this.listSection=o,console.log("section",this.listSection),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureauForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSectionSelect(t){console.log("onItemSelect",t),console.log("form model",this.bureauForm.value)}onItemSectionDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureauForm.value)}onDropDownSectionClose(){console.log("dropdown closed")}toogleSectionShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleSectionShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(v.T),e.Y36(v.T),e.Y36(v.T),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-bureau"]],decls:94,vars:54,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addBureauModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addBureauModal","tabindex","-1","aria-labelledby","addBureauModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addBureauModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["formControlName","countryId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","zoneId"],["formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["for","sectionId"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","bureau_name"],[2,"color","hsl(0, 100%, 50%)(0, 100%, 50%)"],["type","text","placeholder","","id","bureau_name","formControlName","bureau_name",1,"form-control",3,"ngClass"],[1,"text-center"],[1,"btn","btn-success",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,ut,12,5,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,ct,3,3,"ng-container",22),e.YNc(41,gt,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(61,pt,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",34),e._uU(67),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",19)(70,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(s){return o.onItemZoneSelect(s)})("onDeSelect",function(s){return o.onItemZoneDeSelect(s)}),e.qZA()()()()(),e.TgZ(71,"div",27)(72,"div",28)(73,"div",29)(74,"div",19)(75,"label",36),e._uU(76),e.ALo(77,"translate"),e.TgZ(78,"span",31),e._uU(79,"*"),e.qZA()()(),e.TgZ(80,"div",19)(81,"ng-multiselect-dropdown",37),e.NdJ("onDropDownClose",function(){return o.onDropDownSectionClose()})("onSelect",function(s){return o.onItemSectionSelect(s)})("onDeSelect",function(s){return o.onItemSectionDeSelect(s)}),e.qZA()()()()(),e.TgZ(82,"div",38)(83,"div",28)(84,"div",29)(85,"div",19)(86,"label",39),e._uU(87),e.ALo(88,"translate"),e.TgZ(89,"span",40),e._uU(90,"*"),e.qZA()()(),e.TgZ(91,"div",19),e._UZ(92,"input",41),e.YNc(93,_t,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,30,"GestionBureau")),e.xp6(7),e.hij("\xa0",e.lcZ(10,32,"AjouterBureau")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,34,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(21,36,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(24,38,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listBureau),e.xp6(6),e.Oqu(e.lcZ(33,40,"AjouterBureau")),e.xp6(6),e.Q6J("formGroup",o.bureauForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,42,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,44,"SelectPays")),e.xp6(5),e.Q6J("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij(" ",e.lcZ(68,46,"SelectionZone"),""),e.xp6(3),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownZoneSettings),e.xp6(6),e.Oqu(e.lcZ(77,48,"SelectionSection")),e.xp6(5),e.Q6J("data",o.listSection)("disabled",o.disabled)("settings",o.dropdownSectionSettings),e.xp6(6),e.Oqu(e.lcZ(88,50,"NomBureau")),e.xp6(5),e.Q6J("ngClass",e.VKq(52,ft,o.submitted&&o.f.bureau_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureau_name.errors))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,q.OP,S.G,g.X$]}),i})();const bt=function(i){return["/rh/detail-zone",i]},vt=function(i){return["/rh/zone-pays",i]},At=function(i){return["/rh/edit-zone",i]};function Tt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",37)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",38),e._uU(5),e.qZA(),e.TgZ(6,"td",39)(7,"a",40),e._UZ(8,"i",41),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteZone(s._id))}),e._UZ(11,"i",43),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(5,bt,t._id)),e.xp6(2),e.Oqu(t.zone_name),e.xp6(1),e.Q6J("routerLink",e.VKq(7,vt,t.countryId._id)),e.xp6(1),e.hij(" ",t.countryId.country_name," "),e.xp6(2),e.Q6J("routerLink",e.VKq(9,At,t._id))}}function St(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function qt(i,r){1&i&&e._UZ(0,"span",44)}function Ct(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function wt(i,r){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Ct,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function xt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function yt(i,r){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,xt,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zone_name.errors.required)}}const Ut=function(i){return{"is-invalid":i}};let It=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.zoneService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listCountry=[],this.listZone=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.percentDone=0,this.zoneForm=new n.cw({zone_name:new n.NI(""),countryId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.zoneForm=this.fb.group({zone_name:["",n.kI.required],countryId:["",n.kI.required]})}ngOnInit(){this.getAllZone(),this.getAllCountries(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.zoneForm.controls}onSubmit(){var t=this;return(0,N.Z)(function*(){t.submitted=!0,t.zoneForm?.invalid||(t.buttonloading=!0,t.zoneService.registerZone({countryId:t.zoneForm.value.countryId[0]._id,zone_name:t.zoneForm.value.zone_name}).subscribe({next:a=>{t.toastrService.success(`La zone ${a.zone_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.ngOnInit())},error:a=>{console.log(a),t.toastrService.error(a.error),t.buttonloading=!1}}))})()}getAllCountries(){var t=this;return(0,N.Z)(function*(){t.zoneService.getAllCountries().subscribe({next:o=>{t.listCountry=o,t.loading=!1},error:o=>{console.log(o),t.loading=!1}})})()}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listZone)},error:t=>{console.log(t),this.loading=!1}})}onDeleteZone(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.zoneService.removeZone(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),window.location.reload())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.zoneForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.zoneForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(v.T),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-zone"]],decls:74,vars:43,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addZoneModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addZoneModal","tabindex","-1","aria-labelledby","addZoneModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addZoneModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["name","countryId","formControlName","countryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","zone_name"],["type","text","placeholder","","id","zone_name","formControlName","zone_name",1,"form-control",3,"ngClass"],[1,"hover",3,"routerLink"],[1,"hover","text-center",3,"routerLink"],[1,"text-center"],["href","",1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,Tt,12,11,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,St,3,3,"ng-container",22),e.YNc(41,qt,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(61,wt,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",34)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",35),e._uU(67),e.ALo(68,"translate"),e.TgZ(69,"span",31),e._uU(70,"*"),e.qZA()()(),e.TgZ(71,"div",19),e._UZ(72,"input",36),e.YNc(73,yt,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,23,"GestionZone")),e.xp6(7),e.hij("\xa0",e.lcZ(10,25,"AjouterNouveauZone")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,27,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(21,29,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(24,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listZone),e.xp6(6),e.Oqu(e.lcZ(33,33,"AjouterNouveauZone")),e.xp6(6),e.Q6J("formGroup",o.zoneForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,35,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,37,"SelectPays")),e.xp6(5),e.Q6J("placeholder","Select Country")("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij("",e.lcZ(68,39,"NomZone")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(41,Ut,o.submitted&&o.f.zone_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zone_name.errors))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,q.OP,S.G,g.X$]}),i})();function Ft(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",39),e._uU(5),e.qZA(),e.TgZ(6,"td",39),e._uU(7),e.qZA(),e.TgZ(8,"td",39)(9,"a",40),e._UZ(10,"i",41),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.section_name),e.xp6(2),e.hij(" ",t.zoneId.zone_name," "),e.xp6(2),e.hij(" ",t.countryId.country_name," ")}}function Lt(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Ot(i,r){1&i&&e._UZ(0,"span",42)}function Dt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Nt(i,r){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,Dt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function Mt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Jt(i,r){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,Mt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zoneId.errors.required)}}function Yt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function kt(i,r){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,Yt,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.section_name.errors.required)}}const Qt=function(i){return{"is-invalid":i}};let Et=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.zoneService=o,this.sectionService=a,this.fb=s,this.router=l,this.http=d,this.toastrService=u,this.translateService=p,this.listCountry=[],this.listZone=[],this.listSection=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.percentDone=0,this.sectionForm=new n.cw({section_name:new n.NI(""),countryId:new n.NI(""),zoneId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.sectionForm=this.fb.group({section_name:["",n.kI.required],countryId:["",n.kI.required],zoneId:["",n.kI.required]})}ngOnInit(){this.getAllCountries(),this.getAllSection(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.sectionForm.controls}onSubmit(){this.submitted=!0,console.log("form zone",this.sectionForm.value.countryId[0]._id),this.sectionForm?.invalid||(this.buttonloading=!0,this.sectionService.registerSection({countryId:this.sectionForm.value.countryId[0]._id,zoneId:this.sectionForm.value.zoneId[0]._id,section_name:this.sectionForm.value.section_name}).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le pays ${o.section_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}getAllCountries(){var t=this;return(0,N.Z)(function*(){t.zoneService.getAllCountries().subscribe({next:o=>{t.listCountry=o,console.log(t.listCountry),t.loading=!1},error:o=>{console.log(o),t.loading=!1}})})()}getAllSection(){this.sectionService.getAllSections().subscribe({next:t=>{this.listSection=t,console.log(this.listSection),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteSection(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.sectionService.removeSection(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),this.zoneService.getAllZonesByCountry(t._id).subscribe({next:o=>{this.listZone=o,console.log(this.listZone),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.sectionForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemZoneSelect(t){console.log("onItemSelect",t),console.log("form model",this.sectionForm.value)}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.sectionForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(v.T),e.Y36(v.T),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-section"]],decls:89,vars:53,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addZoneModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addZoneModal","tabindex","-1","aria-labelledby","addZoneModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addZoneModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["name","countryId","formControlName","countryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","zoneId"],["name","zoneId","formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","section_name"],["type","text","placeholder","","id","section_name","formControlName","section_name",1,"form-control",3,"ngClass"],[1,"text-center"],["onclick","onDeleteSection(section._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Ft,11,3,"tr",10),e.qZA()()()()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"div",13)(33,"div",14)(34,"h3",15),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"button",16),e.qZA(),e.TgZ(38,"div",17)(39,"div",18)(40,"div",19)(41,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(42,"button",21),e.YNc(43,Lt,3,3,"ng-container",22),e.YNc(44,Ot,1,0,"span",23),e.qZA(),e._uU(45,"\xa0 "),e.TgZ(46,"button",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"br"),e.TgZ(50,"div",25)(51,"div",26)(52,"div",18)(53,"div",27)(54,"div",28)(55,"div",29)(56,"div",19)(57,"label",30),e._uU(58),e.ALo(59,"translate"),e.TgZ(60,"span",31),e._uU(61,"*"),e.qZA()()(),e.TgZ(62,"div",19)(63,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(64,Nt,2,1,"div",33),e.qZA()()()(),e.TgZ(65,"div",27)(66,"div",28)(67,"div",29)(68,"div",19)(69,"label",34),e._uU(70),e.ALo(71,"translate"),e.TgZ(72,"span",31),e._uU(73,"*"),e.qZA()()(),e.TgZ(74,"div",19)(75,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(s){return o.onItemZoneSelect(s)})("onDeSelect",function(s){return o.onItemZoneDeSelect(s)}),e.qZA(),e.YNc(76,Jt,2,1,"div",33),e.qZA()()()(),e.TgZ(77,"div",36)(78,"div",28)(79,"div",29)(80,"div",19)(81,"label",37),e._uU(82),e.ALo(83,"translate"),e.TgZ(84,"span",31),e._uU(85,"*"),e.qZA()()(),e.TgZ(86,"div",19),e._UZ(87,"input",38),e.YNc(88,kt,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,29,"GestionBureau")),e.xp6(7),e.hij("\xa0",e.lcZ(10,31,"AjouterNouveauSection")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,33,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(21,35,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(24,37,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(27,39,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listSection),e.xp6(6),e.Oqu(e.lcZ(36,41,"AjouterNouveauSection")),e.xp6(6),e.Q6J("formGroup",o.sectionForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(48,43,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(59,45,"SelectPays")),e.xp6(5),e.Q6J("placeholder","Select Country")("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.Oqu(e.lcZ(71,47,"SelectionZone")),e.xp6(5),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownZoneSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zoneId.errors),e.xp6(6),e.hij("",e.lcZ(83,49,"NomSection")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(51,Qt,o.submitted&&o.f.section_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.section_name.errors))},dependencies:[c.mk,c.sg,c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,q.OP,S.G,g.X$]}),i})();var Y=_(2177);let Bt=(()=>{class i{constructor(t){this.http=t}registerConge(t){return this.http.post(Y.k.CREATE_CONGE,t)}getAllConge(){return this.http.get(Y.k.ALL_CONGE)}updateConge(t,o){return this.http.patch(Y.k.UPDATE_CONGE+t,o)}singleConge(t){return this.http.get(Y.k.GET_SINGLE_CONGE+t)}removeConge(t){return this.http.delete(Y.k.DELETED_CONGE+t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Z.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function jt(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10),e._uU(5),e.qZA(),e.TgZ(6,"td",10),e._uU(7),e.qZA(),e.TgZ(8,"td",10),e._uU(9),e.qZA(),e.TgZ(10,"td",10),e._uU(11),e.qZA(),e.TgZ(12,"td",10),e._uU(13),e.qZA(),e._UZ(14,"td"),e.TgZ(15,"td",10)(16,"a",47),e._UZ(17,"i",48),e.qZA(),e._uU(18,"\xa0 "),e.TgZ(19,"a",49),e._UZ(20,"i",50),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.AsE("",t.employerId.nom," ",t.employerId.prenom,""),e.xp6(2),e.hij(" ",t.type_conge," "),e.xp6(2),e.hij(" ",t.duree," "),e.xp6(2),e.hij(" ",t.debut," "),e.xp6(2),e.hij(" ",t.fin," "),e.xp6(2),e.hij(" ",t.status," ")}}function zt(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Kt(i,r){1&i&&e._UZ(0,"span",51)}function Gt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Vt(i,r){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Gt,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.employerId.errors.required)}}function Pt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function $t(i,r){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Pt,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.duree.errors.required)}}function Rt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Xt(i,r){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Rt,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.debut.errors.required)}}function Ht(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Wt(i,r){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Ht,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.fin.errors.required)}}function eo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function to(i,r){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,eo,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.type_conge.errors.required)}}const k=function(i){return{"is-invalid":i}};let oo=(()=>{class i{constructor(t,o,a,s,l,d,u){this.employerService=t,this.congeService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listEmployer=[],this.listConge=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.congeForm=new n.cw({employerId:new n.NI(""),type_conge:new n.NI(""),duree:new n.NI(""),debut:new n.NI(""),fin:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.congeForm=this.fb.group({employerId:["",n.kI.required],type_conge:["",n.kI.required],duree:["",n.kI.required],debut:["",n.kI.required],fin:["",n.kI.required]})}get f(){return this.congeForm.controls}ngOnInit(){this.getAllEmployer(),this.getAllConge(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getAllEmployer(){this.employerService.getAllEmployers().subscribe({next:t=>{this.listEmployer=t,console.log(this.listEmployer),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.congeForm.value),!this.congeForm?.invalid&&(this.buttonloading=!0,this.congeService.registerConge(this.congeForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success("L'information a bien \xe9t\xe9 ajout\xe9e \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,this.ngOnInit())},error:t=>{console.log(t),this.toastrService.error(t.error),this.buttonloading=!1}}))}getAllConge(){this.congeService.getAllConge().subscribe({next:t=>{this.listConge=t,console.log(this.listConge),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteConge(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette mission ?")&&(this.congeService.removeConge(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.congeForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.congeForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.g),e.Y36(Bt),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-conge"]],decls:127,vars:75,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addCongeModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","addCongeModal","tabindex","-1","aria-labelledby","addCongeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addCongeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-4","col-md-4"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["formControlName","employerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["type","number","formControlName","duree",1,"form-control",3,"ngClass"],["for","debut"],["type","date","id","debut","formControlName","debut",1,"form-control",3,"ngClass"],[1,"col-lg-6","col-md-6"],["for","fin"],["type","date","id","fin","formControlName","fin",1,"form-control",3,"ngClass"],["for","type_mission"],["formControlName","type_conge","id","type_conge",1,"form-control",3,"ngClass"],["value","cong\xe9 de annuel"],["value","cong\xe9 de maternit\xe9"],["value","cong\xe9 de maladie"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],["onclick","onDeleteConge(conge._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th",10),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th",10),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,jt,21,7,"tr",11),e.qZA()()()()()(),e.TgZ(39,"div",12)(40,"div",13)(41,"div",14)(42,"div",15)(43,"h3",16),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"button",17),e.qZA(),e.TgZ(47,"div",18)(48,"div",19)(49,"div",20)(50,"form",21),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(51,"button",22),e.YNc(52,zt,3,3,"ng-container",23),e.YNc(53,Kt,1,0,"span",24),e.qZA(),e._uU(54,"\xa0 "),e.TgZ(55,"button",25),e._uU(56),e.ALo(57,"translate"),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"div",26)(60,"div",27)(61,"div",19)(62,"div",28)(63,"div",29)(64,"div",30)(65,"div",20)(66,"label",31),e._uU(67),e.ALo(68,"translate"),e.TgZ(69,"span",32),e._uU(70,"*"),e.qZA()()(),e.TgZ(71,"div",20)(72,"ng-multiselect-dropdown",33),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(73,Vt,2,1,"div",34),e.qZA()()()(),e.TgZ(74,"div",28)(75,"div",29)(76,"div",30)(77,"div",20)(78,"label",35),e._uU(79),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",20),e._UZ(82,"input",36),e.YNc(83,$t,2,1,"div",34),e.qZA()()()(),e.TgZ(84,"div",28)(85,"div",29)(86,"div",30)(87,"div",20)(88,"label",37),e._uU(89),e.ALo(90,"translate"),e.TgZ(91,"span",32),e._uU(92,"*"),e.qZA()()(),e.TgZ(93,"div",20),e._UZ(94,"input",38),e.YNc(95,Xt,2,1,"div",34),e.qZA()()()()(),e.TgZ(96,"div",19)(97,"div",39)(98,"div",29)(99,"div",30)(100,"div",20)(101,"label",40),e._uU(102),e.ALo(103,"translate"),e.TgZ(104,"span",32),e._uU(105,"*"),e.qZA()()(),e.TgZ(106,"div",20),e._UZ(107,"input",41),e.YNc(108,Wt,2,1,"div",34),e.qZA()()()(),e.TgZ(109,"div",39)(110,"div",29)(111,"div",30)(112,"div",20)(113,"label",42),e._uU(114),e.ALo(115,"translate"),e.TgZ(116,"span",32),e._uU(117,"*"),e.qZA()()(),e.TgZ(118,"div",20)(119,"select",43)(120,"option",44),e._uU(121,"Cong\xe9 annuel"),e.qZA(),e.TgZ(122,"option",45),e._uU(123,"Cong\xe9 de maternit\xe9"),e.qZA(),e.TgZ(124,"option",46),e._uU(125,"Cong\xe9 de maladie"),e.qZA()(),e.YNc(126,to,2,1,"div",34),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,35,"GestionConge")),e.xp6(7),e.hij("\xa0",e.lcZ(10,37,"AjouterNouveauConge")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,39,"Nom")),e.xp6(3),e.Oqu(e.lcZ(21,41,"TypeConge")),e.xp6(3),e.Oqu(e.lcZ(24,43,"dureeConge")),e.xp6(3),e.Oqu(e.lcZ(27,45,"debutConge")),e.xp6(3),e.Oqu(e.lcZ(30,47,"finConge")),e.xp6(3),e.Oqu(e.lcZ(33,49,"StatutConge")),e.xp6(3),e.Oqu(e.lcZ(36,51,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listConge),e.xp6(6),e.Oqu(e.lcZ(45,53,"AjouterNouveauConge")),e.xp6(6),e.Q6J("formGroup",o.congeForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(57,55,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(68,57,"SelectionnerEmployer")),e.xp6(5),e.Q6J("data",o.listEmployer)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.employerId.errors),e.xp6(6),e.hij(" ",e.lcZ(80,59,"dureeConge"),""),e.xp6(3),e.Q6J("ngClass",e.VKq(67,k,o.submitted&&o.f.duree.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.duree.errors),e.xp6(6),e.Oqu(e.lcZ(90,61,"debutConge")),e.xp6(5),e.Q6J("ngClass",e.VKq(69,k,o.submitted&&o.f.debut.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.debut.errors),e.xp6(7),e.Oqu(e.lcZ(103,63,"finConge")),e.xp6(5),e.Q6J("ngClass",e.VKq(71,k,o.submitted&&o.f.fin.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.fin.errors),e.xp6(6),e.Oqu(e.lcZ(115,65,"TypeConge")),e.xp6(5),e.Q6J("ngClass",e.VKq(73,k,o.submitted&&o.f.type_conge.errors)),e.xp6(7),e.Q6J("ngIf",o.submitted&&o.f.type_conge.errors))},dependencies:[c.mk,c.sg,c.O5,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,q.OP,S.G,g.X$]}),i})();function io(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",36),e._uU(5),e.qZA(),e.TgZ(6,"td",36)(7,"a",37),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteAffectation(s._id))}),e._UZ(8,"i",38),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(t.zoneId.zone_name)}}function no(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function ro(i,r){1&i&&e._UZ(0,"span",39)}function ao(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"champObligatoire")))}function so(i,r){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,ao,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zoneId.errors.required)}}let lo=(()=>{class i{constructor(t,o,a,s,l,d,u,p,T){this.agenceService=t,this.zoneService=o,this.managerService=a,this.fb=s,this.router=l,this.http=d,this.affectationService=u,this.toastrService=p,this.translateService=T,this.listBureau=[],this.listAffectation=[],this.listZone=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.affectsofzForm=new n.cw({zoneId:new n.NI(""),managerId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.affectsofzForm=this.fb.group({zoneId:["",n.kI.required],managerId:["",n.kI.required]})}get f(){return this.affectsofzForm.controls}ngOnInit(){this.getAllZone(),this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"fullnamemanager",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,limitSelection:3,allowSearchFilter:this.ShowFilter},this.getAllSupervisorZone()}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,console.log(this.listZone),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllSupervisorZone(){this.affectationService.getAllAffectsofz().subscribe({next:t=>{this.listAffectation=t,console.log(this.listAffectation),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagerSupervisor().subscribe({next:t=>{this.listManagers=t,console.log("listManagers",this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.affectsofzForm.value),this.affectsofzForm?.invalid||(this.buttonloading=!0,this.affectationService.registerAffectsof({zoneId:this.affectsofzForm.value.zoneId[0]._id,managerId:this.affectsofzForm.value.managerId[0]._id}).subscribe({next:o=>{console.log(o),this.toastrService.success("L'op\xe9ration a \xe9t\xe9 \xe9ffectu\xe9e avec succ\xe8s!")&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}getAllAffectation(){this.affectationService.getAllAffectation().subscribe({next:t=>{this.listAffectation=t,console.log(this.listAffectation),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteAffectation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette affectation ?")&&(this.affectationService.removeAffectsofz(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectsofzForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectsofzForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectsofzForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectsofzForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(v.T),e.Y36(x.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(M.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-superviseur"]],decls:72,vars:41,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-6","col-md-6"],[1,"form-group"],[1,"mb-3"],["for","zone"],[2,"color","red"],["formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"text-center"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,io,9,3,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,no,3,3,"ng-container",22),e.YNc(41,ro,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br")(47,"br"),e.TgZ(48,"div",25)(49,"div",26)(50,"div",18)(51,"div",27)(52,"div",28)(53,"div",29)(54,"div",19)(55,"label",30),e._uU(56),e.ALo(57,"translate"),e.TgZ(58,"span",31),e._uU(59,"*"),e.qZA()()(),e.TgZ(60,"div",19)(61,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(62,so,2,1,"div",33),e.qZA()()()(),e.TgZ(63,"div",27)(64,"div",28)(65,"div",29)(66,"div",19)(67,"label",34),e._uU(68),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"div",19)(71,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(s){return o.onItemManagerSelect(s)})("onDeSelect",function(s){return o.onItemManagerDeSelect(s)}),e.qZA()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,23,"ManageAffectationSZ")),e.xp6(7),e.hij("\xa0",e.lcZ(10,25,"AjouterNouvelleAffectationsofz")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,27,"nomsupervisieurZone")),e.xp6(3),e.Oqu(e.lcZ(21,29,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(24,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listAffectation),e.xp6(6),e.Oqu(e.lcZ(33,33,"AjouterNouvelleAffectation")),e.xp6(6),e.Q6J("formGroup",o.affectsofzForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,35,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(57,37,"SelectionZone")),e.xp6(5),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zoneId.errors),e.xp6(6),e.hij(" ",e.lcZ(69,39,"choisirsupervisieurZone"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings))},dependencies:[c.sg,c.O5,n._Y,n.JJ,n.JL,n.sg,n.u,q.OP,S.G,g.X$]}),i})();function uo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",36),e._uU(5),e.qZA(),e.TgZ(6,"td",36),e._uU(7),e.qZA(),e.TgZ(8,"td",36)(9,"a",37),e._UZ(10,"i",38),e.qZA(),e._uU(11,"\xa0 "),e.TgZ(12,"a",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteAffectation(s._id))}),e._UZ(13,"i",40),e.qZA()()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(t.sectionId.section_name),e.xp6(2),e.Oqu(o.zone)}}function co(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function go(i,r){1&i&&e._UZ(0,"span",41)}function mo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"champObligatoire")))}function po(i,r){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,mo,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.sectionId.errors.required)}}let ho=(()=>{class i{constructor(t,o,a,s,l,d,u,p,T){this.agenceService=t,this.sectionService=o,this.managerService=a,this.fb=s,this.router=l,this.http=d,this.affectationService=u,this.toastrService=p,this.translateService=T,this.listSection=[],this.zone=[],this.listAffectation=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.affectchefsectionForm=new n.cw({sectionId:new n.NI(""),managerId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.affectchefsectionForm=this.fb.group({sectionId:["",n.kI.required],managerId:["",n.kI.required]})}get f(){return this.affectchefsectionForm.controls}ngOnInit(){this.getAllSection(),this.getAllManager(),this.getAllChefSection(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"fullnamemanager",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,limitSelection:3,allowSearchFilter:this.ShowFilter}}getAllSection(){this.sectionService.getAllSections().subscribe({next:t=>{this.listSection=t,console.log(this.listSection),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllChefSection(){this.affectationService.getAllAffectchefSection().subscribe({next:t=>{this.listAffectation=t;for(let o=0;o<t.length;o++)this.sectionService.getsingleZone(t[o].sectionId.zoneId).subscribe(a=>{this.zone=a.zone_name});console.log(this.zone),console.log(this.listAffectation),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagerChefsection().subscribe({next:t=>{this.listManagers=t,console.log("listManagers",this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getSingleZone(t){this.sectionService.getsingleZone(t).subscribe(o=>{this.zone=o.zone_name})}onSubmit(){this.submitted=!0,this.affectchefsectionForm?.invalid||(this.buttonloading=!0,this.affectationService.registerAffectchefSection({sectionId:this.affectchefsectionForm.value.sectionId[0]._id,managerId:this.affectchefsectionForm.value.managerId[0]._id}).subscribe({next:o=>{console.log(o),this.toastrService.success("L'op\xe9ration a \xe9t\xe9 \xe9ffectu\xe9e avec succ\xe8s!")&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}onDeleteAffectation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette affectation ?")&&(this.affectationService.removeAffectchefSection(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectchefsectionForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectchefsectionForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectchefsectionForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectchefsectionForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(v.T),e.Y36(x.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(M.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-chef-section"]],decls:75,vars:44,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-6","col-md-6"],[1,"form-group"],[1,"mb-3"],["for","zone"],[2,"color","red"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pen"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,uo,14,4,"tr",10),e.qZA()()()()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"div",13)(33,"div",14)(34,"h3",15),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"button",16),e.qZA(),e.TgZ(38,"div",17)(39,"div",18)(40,"div",19)(41,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(42,"button",21),e.YNc(43,co,3,3,"ng-container",22),e.YNc(44,go,1,0,"span",23),e.qZA(),e._uU(45,"\xa0 "),e.TgZ(46,"button",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"br")(50,"br"),e.TgZ(51,"div",25)(52,"div",26)(53,"div",18)(54,"div",27)(55,"div",28)(56,"div",29)(57,"div",19)(58,"label",30),e._uU(59),e.ALo(60,"translate"),e.TgZ(61,"span",31),e._uU(62,"*"),e.qZA()()(),e.TgZ(63,"div",19)(64,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(65,po,2,1,"div",33),e.qZA()()()(),e.TgZ(66,"div",27)(67,"div",28)(68,"div",29)(69,"div",19)(70,"label",34),e._uU(71),e.ALo(72,"translate"),e.qZA()(),e.TgZ(73,"div",19)(74,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(s){return o.onItemManagerSelect(s)})("onDeSelect",function(s){return o.onItemManagerDeSelect(s)}),e.qZA()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,24,"gestionChefSection")),e.xp6(7),e.hij("\xa0",e.lcZ(10,26,"AjouterNouvelleAffectationChefSession")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,28,"nomchefSection")),e.xp6(3),e.Oqu(e.lcZ(21,30,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(24,32,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(27,34,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listAffectation),e.xp6(6),e.Oqu(e.lcZ(36,36,"AjouterNouvelleAffectation")),e.xp6(6),e.Q6J("formGroup",o.affectchefsectionForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(48,38,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(60,40,"SelectionSection")),e.xp6(5),e.Q6J("data",o.listSection)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.sectionId.errors),e.xp6(6),e.hij(" ",e.lcZ(72,42,"choisirchefSection"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings))},dependencies:[c.sg,c.O5,n._Y,n.JJ,n.JL,n.sg,n.u,q.OP,S.G,g.X$]}),i})();function _o(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau)}}function fo(i,r){if(1&i&&(e.TgZ(0,"div",14)(1,"table")(2,"thead",10)(3,"tr")(4,"th",10),e._uU(5),e.qZA()()(),e.TgZ(6,"tbody"),e.YNc(7,_o,3,1,"tr",8),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(5),e.Oqu(t.name),e.xp6(2),e.Q6J("ngForOf",t.children)}}const V=function(i){return["/rh/detail-zone",i]};function Zo(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td",9)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10),e.YNc(5,fo,8,2,"div",11),e.qZA(),e.TgZ(6,"td")(7,"div")(8,"a",12),e._UZ(9,"i",13),e.qZA(),e._uU(10,"\xa0 "),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,V,t.id)),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("ngForOf",t.children),e.xp6(3),e.Q6J("routerLink",e.VKq(6,V,t.id))}}const bo=function(){return["/rh/country"]};let vo=(()=>{class i{constructor(t,o,a,s,l){this.route=t,this.countryservice=o,this.agenceService=a,this.toastrService=s,this.translateService=l,this.pays="",this.paysId="",this.listZone=[],this.listDatas=[],this.realData=[],this.finalData=[],this.allData=[],this.useData=[],this.obj={},this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllBureauByCountry(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}getAllZone(){this.id=this.route.snapshot.paramMap.get("id"),this.countryservice.getAllZonesByCountry(this.id).subscribe({next:t=>{this.listZone=t,this.paysId=t[0].countryId._id,this.pays=t[0].countryId.country_name,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllBureauByCountry(){this.id=this.route.snapshot.paramMap.get("id"),this.agenceService.getAllBureauByCountry(this.id).subscribe({next:t=>{this.listDatas=t,this.pays=t[0].countryId.country_name;for(let d=0;d<this.listDatas.length;d++){const u={id:String,zone:String,section:[String],bureau:String};u.id=this.listDatas[d].zoneId._id,u.zone=this.listDatas[d].zoneId.zone_name,u.section=[this.listDatas[d].sectionId.section_name],u.bureau=this.listDatas[d].bureau_name,this.realData.push(u)}const o=this.realData.reduce((d,{id:u,bureau:p,zone:T,section:D})=>(d[T]||(d[T]={}),D.forEach(J=>{d[T][J]=(d[T][J]||[]).concat({id:u,bureau:p})}),d),{});console.log("acc",o);const a=Object.entries(o).map(([d,u])=>({name:d,children:Object.entries(u).map(([p,T])=>({name:p,children:T}))}));this.allData=a;for(let d=0;d<this.allData.length;d++){const u={id:String,name:String,children:Array};u.id=this.allData[d].children[0].children[0].id,u.name=this.allData[d].name,u.children=this.allData[d].children,this.useData.push(u)}var l=new Date("09-2023".split("-")[1]);console.log("ann\xe9e:",l.getFullYear()),console.log("essai",this.useData),this.dtTrigger.next(null),console.log("data liste",this.allData),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.gz),e.Y36(v.T),e.Y36(A.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-pays"]],decls:25,vars:21,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"text-center",3,"routerLink"],[1,"text-center"],["class","row",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"row"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"table",7)(12,"thead")(13,"tr")(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,Zo,11,8,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,10,"ListeZone")," ",e.lcZ(5,12,"de")," ",o.pays," "),e.xp6(3),e.Q6J("routerLink",e.DdM(20,bo)),e.xp6(5),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(16,14,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(19,16,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(22,18,"Action")),e.xp6(3),e.Q6J("ngForOf",o.useData))},dependencies:[c.sg,m.rH,S.G,g.X$]}),i})();var h=_(5439),O=_(5080);function Ao(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau)}}const P=function(i){return["/rh/zone-pays",i]};function To(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td",16)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",16)(5,"div",11)(6,"table")(7,"tbody"),e.YNc(8,Ao,3,1,"tr",10),e.qZA()()()(),e.TgZ(9,"td")(10,"div")(11,"a",17),e._UZ(12,"i",18),e.qZA(),e._uU(13,"\xa0 "),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.section_name),e.xp6(5),e.Q6J("ngForOf",t.bureau.bureau),e.xp6(3),e.Q6J("routerLink",e.VKq(3,P,t.id))}}O.kL.register(...O.zX);let So=(()=>{class i{constructor(t,o,a,s,l,d){this.locale=t,this.route=o,this.countryservice=a,this.agenceservice=s,this.toastrService=l,this.translateService=d,this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.startYear=2023,this.endYear=2100,this.zone="",this.paysId="",this.labeldata=[],this.realData=[],this.finalData=[],this.allData=[],this.allDatav=[],this.obj={},this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaZone=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.generateYearsBetween(this.startYear,this.endYear),this.getAllSection(),this.getAllCaZone(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}}}getAllSection(){this.id=this.route.snapshot.paramMap.get("id"),this.agenceservice.getAllBureauByZone(this.id).subscribe({next:t=>{this.listSectionByZone=t,this.paysId=this.listSectionByZone[0].countryId._id,this.zone=this.listSectionByZone[0].zoneId.zone_name,console.log("listSectionByZone",this.listSectionByZone);for(let a=0;a<this.listSectionByZone.length;a++){const s={id:String,section:String,bureau:String};s.id=this.listSectionByZone[a].sectionId._id,s.section=this.listSectionByZone[a].sectionId.section_name,s.bureau=this.listSectionByZone[a].bureau_name,this.realData.push(s)}const o=this.realData.reduce((a,s)=>{const{section:l}=s;return a[l]=a[l]??[],a[l].push(s),a},{});this.allDatav=Object.entries(o).map(([a,s],l)=>({section_name:a,bureau:s}));for(let a=0;a<this.allDatav.length;a++){const s={section_name:String,bureau:Array,id:String};s.id=this.allDatav[a].bureau[0].id,s.section_name=this.allDatav[a].section_name,s.bureau=this.allDatav[a],this.finalData.push(s)}this.allData=this.finalData,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllCaZone(){this.id=this.route.snapshot.paramMap.get("id"),this.countryservice.getAllCaZones().subscribe({next:t=>{const o=window.navigator.language||"fr";h.locale(o),this.listCaZone=t.filter(l=>l.bureauId.zoneId===this.id),this.listDate=this.listCaZone.map(l=>h(l.mois).format("MMMM-YYYY"));const a=Array.from(this.listCaZone.reduce((l,d)=>{const{mois:u,caTotal:p}=d,T=l.get(u);return T?T.caTotal+=p:l.set(u,{...d}),l},new Map).values());console.log("sums",a),this.labeldata=a.map(l=>l.bureauId.bureau_name),this.realdata=a.map(l=>l.chiffreDaf);const s={janvier:this.color[0].hex,f\u00e9vrier:this.color[1].hex,mars:this.color[2].hex,avril:this.color[3].hex,mai:this.color[4].hex,juin:this.color[5].hex,juillet:this.color[6].hex,ao\u00fbt:this.color[7].hex,septembre:this.color[8].hex,octobre:this.color[9].hex,novembre:this.color[10].hex,d\u00e9cembre:this.color[11].hex};this.colordata=a.map(l=>{const d=h(l.mois).format("MMMM").toLowerCase();return s[d]||this.color[11].hex}),console.log("Label Data:",this.labeldata),console.log("Main Data:",this.realdata),console.log("Color Data:",this.colordata),this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es : ",t),this.toastrService.error("Une erreur est survenue lors de la r\xe9cup\xe9ration des donn\xe9es."),this.loading=!1}})}RenderChart(t,o,a,s,l){new O.kL(l,{type:s,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:o,backgroundColor:a,borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}generateYearsBetween(t=2e3,o=2100){const a=o||(new Date).getFullYear();let s=[];for(var l=t;l<=a;l++)s.push(t),t++;return console.log("years",s),s}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.soG),e.Y36(m.gz),e.Y36(v.T),e.Y36(A.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-zone"]],decls:37,vars:25,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,""],["id","barchart"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5),e._UZ(10,"h6",6),e.qZA(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,To,14,5,"tr",10),e.qZA()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",4)(30,"div",13)(31,"h6",6),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",7)(35,"div",14),e._UZ(36,"canvas",15),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,11,"DetailZone")," ",e.lcZ(5,13,"de")," ",o.zone," "),e.xp6(3),e.Q6J("routerLink",e.VKq(23,P,o.paysId)),e.xp6(7),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,15,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(21,17,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(24,19,"Action")),e.xp6(3),e.Q6J("ngForOf",o.allData),e.xp6(6),e.Oqu(e.lcZ(33,21,"CHIFFREDAFFAIREZone")))},dependencies:[c.sg,m.rH,S.G,g.X$]}),i})();function qo(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Co(i,r){1&i&&e._UZ(0,"span",67)}function wo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function xo(i,r){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,wo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function yo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Uo(i,r){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,yo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function Io(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function Fo(i,r){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,Io,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function Lo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function Oo(i,r){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,Lo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}function Do(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function No(i,r){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,Do,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_naiss.errors.required)}}function Mo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Jo(i,r){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,Mo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lieu_naiss.errors.required)}}function Yo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function ko(i,r){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,Yo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.piece.errors.required)}}function Qo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Eo(i,r){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,Qo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.grade.errors.required)}}function Bo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function jo(i,r){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,Bo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.maladie_exist.errors.required)}}function zo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ko(i,r){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,zo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nbr_enfant.errors.required)}}const Go=function(){return["/rh/manager"]},I=function(i){return{"is-invalid":i}};let Vo=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.route=l,this.http=d,this.toastrService=u,this.translateService=p,this.keyLanguage="userLanguage",this.loading=!0,this.buttonloading=!1,this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.managereditForm=this.fb.group({nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:["",n.kI.required],lieu_naiss:["",n.kI.required],piece:["",n.kI.required],num_piece:["",n.kI.required],grade:["",n.kI.required],situation_matrimonial:["",n.kI.required],ethnie:["",n.kI.required],religion:["",n.kI.required],maladie_exist:["",n.kI.required],nbr_enfant:["",n.kI.required],genre:["",n.kI.required]})}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.managerService.singleManager(t).subscribe(o=>{console.log(o.nom),this.managereditForm.patchValue({nom:o.nom,prenom:o.prenom,telephone:o.telephone,date_naiss:o.date_naiss,lieu_naiss:o.lieu_naiss,piece:o.piece,num_piece:o.num_piece,grade:o.grade,situation_matrimonial:o.situation_matrimonial,ethnie:o.ethnie,religion:o.religion,maladie_exist:o.maladie_exist,nbr_enfant:o.nbr_enfant,genre:o.genre})})}get f(){return this.managereditForm.controls}onSubmit(){if(this.submitted=!0,console.log(this.managereditForm.value),this.managereditForm?.invalid)return;this.buttonloading=!0;const t={nom:this.managereditForm.value.nom,prenom:this.managereditForm.value.prenom,fullnamemanager:`${this.managereditForm.value.nom}    ${this.managereditForm.value.prenom}`,telephone:this.managereditForm.value.telephone,date_naiss:this.managereditForm.value.date_naiss,lieu_naiss:this.managereditForm.value.lieu_naiss,piece:this.managereditForm.value.piece,num_piece:this.managereditForm.value.num_piece,grade:this.managereditForm.value.grade,genre:this.managereditForm.value.genre,situation_matrimonial:this.managereditForm.value.situation_matrimonial,ethnie:this.managereditForm.value.ethnie,religion:this.managereditForm.value.religion,maladie_exist:this.managereditForm.value.maladie_exist,nbr_enfant:this.managereditForm.value.nbr_enfant},o=this.route.snapshot.paramMap.get("id");this.managerService.updateManager(o,t).subscribe({next:a=>{this.toastrService.success(`Les informations du manager ${a.nom} ont bien \xe9t\xe9 modifi\xe9es!`)&&(this.buttonloading=!1,window.location.reload())},error:a=>{console.log(a),this.toastrService.error(a.error.message),this.buttonloading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(x.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-manager-form"]],decls:235,vars:94,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Manager"],["value","HCEF"],["value","Assistant Manager"],["value","Gestionnaire"],["value","Manager Superviseur de Zone"],["value","Manager Chef de section"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(12,"button",9),e.YNc(13,qo,3,3,"ng-container",10),e.YNc(14,Co,1,0,"span",11),e.qZA(),e._uU(15,"\xa0 "),e.TgZ(16,"button",12),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"div",13)(21,"div",6),e._UZ(22,"br")(23,"br"),e.TgZ(24,"div",14)(25,"div",15)(26,"div",16)(27,"div",7)(28,"label",17),e._uU(29),e.ALo(30,"translate"),e.TgZ(31,"span",18),e._uU(32,"*"),e.qZA()()(),e.TgZ(33,"div",7),e._UZ(34,"input",19),e.YNc(35,xo,2,1,"div",20),e.qZA()()()(),e.TgZ(36,"div",14)(37,"div",15)(38,"div",16)(39,"div",21)(40,"label",22),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",18),e._uU(44,"*"),e.qZA()()(),e.TgZ(45,"div",7),e._UZ(46,"input",23),e.YNc(47,Uo,2,1,"div",20),e.qZA()()()(),e.TgZ(48,"div",14)(49,"div",15)(50,"div",16)(51,"div",21)(52,"label",17),e._uU(53),e.ALo(54,"translate"),e.TgZ(55,"span",18),e._uU(56,"*"),e.qZA()()(),e.TgZ(57,"div",7),e._UZ(58,"input",24),e.YNc(59,Fo,2,1,"div",20),e.qZA()()()(),e.TgZ(60,"div",14)(61,"div",15)(62,"div",16)(63,"div",21)(64,"label",25),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"span",18),e._uU(68,"*"),e.qZA()()(),e.TgZ(69,"div",7)(70,"select",26)(71,"option",27),e._uU(72,"Feminin"),e.qZA(),e.TgZ(73,"option",28),e._uU(74,"Masculin"),e.qZA()(),e.YNc(75,Oo,2,1,"div",20),e.qZA()()()()(),e.TgZ(76,"div",6),e._UZ(77,"br")(78,"br"),e.TgZ(79,"div",29)(80,"div",15)(81,"div",16)(82,"div",7)(83,"label",30),e._uU(84),e.ALo(85,"translate"),e.TgZ(86,"span",18),e._uU(87,"*"),e.qZA()()(),e.TgZ(88,"div",7),e._UZ(89,"input",31),e.YNc(90,No,2,1,"div",20),e.qZA()()()(),e.TgZ(91,"div",29)(92,"div",15)(93,"div",16)(94,"div",7)(95,"label",32),e._uU(96),e.ALo(97,"translate"),e.TgZ(98,"span",18),e._uU(99,"*"),e.qZA()()(),e.TgZ(100,"div",7),e._UZ(101,"input",33),e.YNc(102,Jo,2,1,"div",20),e.qZA()()()(),e.TgZ(103,"div",29)(104,"div",15)(105,"div",16)(106,"div",7)(107,"label",34),e._uU(108),e.ALo(109,"translate"),e.TgZ(110,"span",18),e._uU(111,"*"),e.qZA()()(),e.TgZ(112,"div",7)(113,"select",35)(114,"option",36),e._uU(115,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(116,"option",37),e._uU(117,"attestation d'identit\xe9"),e.qZA(),e.TgZ(118,"option",38),e._uU(119,"passeport"),e.qZA(),e.TgZ(120,"option",39),e._uU(121,"recepisse"),e.qZA(),e.TgZ(122,"option",40),e._uU(123,"carte consulaire"),e.qZA(),e.TgZ(124,"option",41),e._uU(125,"carte de s\xe9jour"),e.qZA(),e.TgZ(126,"option",42),e._uU(127,"permis de conduire"),e.qZA(),e.TgZ(128,"option",43),e._uU(129,"aucune pi\xe8ce"),e.qZA()(),e.YNc(130,ko,2,1,"div",20),e.qZA()()()()(),e.TgZ(131,"div",6),e._UZ(132,"br")(133,"br"),e.TgZ(134,"div",14)(135,"div",15)(136,"div",16)(137,"div",7)(138,"label",44),e._uU(139),e.ALo(140,"translate"),e.TgZ(141,"span",18),e._uU(142,"*"),e.qZA()()(),e.TgZ(143,"div",7),e._UZ(144,"input",45),e.qZA()()()(),e.TgZ(145,"div",29)(146,"div",15)(147,"div",16)(148,"div",7)(149,"label",46),e._uU(150),e.ALo(151,"translate"),e.TgZ(152,"span",18),e._uU(153,"*"),e.qZA()()(),e.TgZ(154,"div",7)(155,"select",47)(156,"option",48),e._uU(157,"mari\xe9"),e.qZA(),e.TgZ(158,"option",49),e._uU(159,"celibataire"),e.qZA(),e.TgZ(160,"option",50),e._uU(161,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(162,"div",29)(163,"div",15)(164,"div",16)(165,"div",7)(166,"label",51),e._uU(167),e.ALo(168,"translate"),e.TgZ(169,"span",18),e._uU(170,"*"),e.qZA()()(),e.TgZ(171,"div",7)(172,"select",52)(173,"option",53),e._uU(174,"Manager"),e.qZA(),e.TgZ(175,"option",54),e._uU(176,"HCEF"),e.qZA(),e.TgZ(177,"option",55),e._uU(178,"Assistant Manager"),e.qZA(),e.TgZ(179,"option",56),e._uU(180,"Gestionnaire"),e.qZA(),e.TgZ(181,"option",57),e._uU(182,"Manager Superviseur de Zone"),e.qZA(),e.TgZ(183,"option",58),e._uU(184,"Manager Chef de section"),e.qZA()(),e.YNc(185,Eo,2,1,"div",20),e.qZA()()()()(),e.TgZ(186,"div",6),e._UZ(187,"br")(188,"br"),e.TgZ(189,"div",14)(190,"div",15)(191,"div",16)(192,"div",7)(193,"label",59),e._uU(194),e.ALo(195,"translate"),e.TgZ(196,"span",18),e._uU(197,"*"),e.qZA()()(),e.TgZ(198,"div",7),e._UZ(199,"input",60),e.qZA()()()(),e.TgZ(200,"div",14)(201,"div",15)(202,"div",16)(203,"div",7)(204,"label",61),e._uU(205),e.ALo(206,"translate"),e.TgZ(207,"span",18),e._uU(208,"*"),e.qZA()()(),e.TgZ(209,"div",7),e._UZ(210,"input",62),e.qZA()()()(),e.TgZ(211,"div",14)(212,"div",15)(213,"div",16)(214,"div",7)(215,"label",63),e._uU(216),e.ALo(217,"translate"),e.TgZ(218,"span",18),e._uU(219,"*"),e.qZA()()(),e.TgZ(220,"div",7),e._UZ(221,"input",64),e.YNc(222,jo,2,1,"div",20),e.qZA()()()(),e.TgZ(223,"div",14)(224,"div",15)(225,"div",16)(226,"div",7)(227,"label",65),e._uU(228),e.ALo(229,"translate"),e.TgZ(230,"span",18),e._uU(231,"*"),e.qZA()()(),e.TgZ(232,"div",7),e._UZ(233,"input",66),e.YNc(234,Ko,2,1,"div",20),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,41,"ModifManager")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(73,Go)),e.xp6(6),e.Q6J("formGroup",o.managereditForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(18,43,"Annuler")),e.xp6(12),e.hij("",e.lcZ(30,45,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(74,I,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(42,47,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(76,I,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(54,49,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(78,I,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(66,51,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(80,I,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(85,53,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(82,I,o.submitted&&o.f.date_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_naiss.errors),e.xp6(6),e.hij("",e.lcZ(97,55,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(84,I,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lieu_naiss.errors),e.xp6(6),e.hij("",e.lcZ(109,57,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(86,I,o.submitted&&o.f.piece.errors)),e.xp6(17),e.Q6J("ngIf",o.submitted&&o.f.piece.errors),e.xp6(9),e.Oqu(e.lcZ(140,59,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(151,61,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(168,63,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(88,I,o.submitted&&o.f.grade.errors)),e.xp6(13),e.Q6J("ngIf",o.submitted&&o.f.grade.errors),e.xp6(9),e.Oqu(e.lcZ(195,65,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(206,67,"Religion")),e.xp6(11),e.Oqu(e.lcZ(217,69,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(90,I,o.submitted&&o.f.maladie_exist.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.maladie_exist.errors),e.xp6(6),e.Oqu(e.lcZ(229,71,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(92,I,o.submitted&&o.f.nbr_enfant.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nbr_enfant.errors))},dependencies:[c.mk,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,g.X$]}),i})();var E=_(8067);function Po(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",8),e._uU(5),e.qZA(),e.TgZ(6,"td",8),e._uU(7),e.qZA(),e.TgZ(8,"td",8),e._uU(9),e.qZA(),e._UZ(10,"td",8),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(o.bureau),e.xp6(2),e.Oqu(t.salaire_manager),e.xp6(2),e.Oqu(t.garantie_manager)}}let $o=(()=>{class i{constructor(t,o,a,s,l){this.route=t,this.agenceservice=o,this.salaireService=a,this.toastrService=s,this.translateService=l,this.managerData=[],this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getManagerSalaire(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}getManagerSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllsalaireByManager(this.id).subscribe({next:t=>{for(let o=0;o<t.length;o++)this.getbureau(t[o].salaireId.bureauId);this.managerData=t,this.dtTrigger.next(null),console.log(this.managerData)}})}getbureau(t){this.agenceservice.singleBureau(t).subscribe(o=>{this.bureau=o.bureau_name})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.gz),e.Y36(A.q),e.Y36(E.o),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-manager"]],decls:28,vars:21,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,Po,11,5,"tr",7),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,9,"DetailManager")),e.xp6(6),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(13,11,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(16,13,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(19,15,"Salaire")),e.xp6(3),e.Oqu(e.lcZ(22,17,"Cotisation")),e.xp6(3),e.Oqu(e.lcZ(25,19,"Action")),e.xp6(3),e.Q6J("ngForOf",o.managerData))},dependencies:[c.sg,S.G,g.X$]}),i})();function Ro(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Xo(i,r){1&i&&e._UZ(0,"span",30)}function Ho(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Wo(i,r){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Ho,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function ei(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"NomBureauObligatoire")))}function ti(i,r){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,ei,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureau_name.errors.required)}}const oi=function(i){return{"is-invalid":i}};let ii=(()=>{class i{constructor(t,o,a,s,l,d,u,p,T,D){this.agenceService=t,this.zoneService=o,this.sectionService=a,this.countryService=s,this.fb=l,this.router=d,this.route=u,this.http=p,this.toastrService=T,this.translateService=D,this.listCountry=[],this.listBureau=[],this.listZone=[],this.listSection=[],this.selectedcountryItems=[],this.selectedzoneItems=[],this.selectedsectionItems=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dropdownSectionSettings={},this.keyLanguage="userLanguage",this.percentDone=0,this.editbureauForm=new n.cw({bureau_name:new n.NI(""),countryId:new n.NI(""),zoneId:new n.NI(""),sectionId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editbureauForm=this.fb.group({bureau_name:["",n.kI.required],countryId:["",n.kI.required],zoneId:[""],sectionId:[""]})}ngOnInit(){this.getAllCountry();const t=this.route.snapshot.paramMap.get("id");this.agenceService.singleBureau(t).subscribe(o=>{this.selectedcountryItems=o.findagence.countryId,this.selectedzoneItems=o.zone,this.selectedsectionItems=o.sectionId,this.editbureauForm.patchValue({bureau_name:o.findagence.bureau_name,countryId:[o.findagence.countryId],zoneId:[o.zone],sectionId:[o.section]})}),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSectionSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.editbureauForm.controls}onSubmit(){var t=this;return(0,N.Z)(function*(){if(t.submitted=!0,console.log(t.editbureauForm.value),t.editbureauForm?.invalid)return;const o=t.route.snapshot.paramMap.get("id");t.buttonloading=!0;const a={bureau_name:t.editbureauForm.value.bureau_name,countryId:t.editbureauForm.value.countryId[0]?._id,zoneId:t.editbureauForm.value.zoneId[0]?._id,sectionId:t.editbureauForm.value.sectionId[0]?._id};null==a.zoneId&&(a.zoneId=""),null==a.sectionId&&(a.sectionId=""),console.log("formData",a),t.agenceService.updateBureau(o,a).subscribe({next:s=>{console.log(s),t.toastrService.success(`Le pays ${s.bureau_name} a bien \xe9t\xe9 modifi\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1)},error:s=>{console.log(s),t.toastrService.error(s.error),t.buttonloading=!1}})})()}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,console.log(this.listCountry),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteBureau(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.agenceService.removeBureau(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),this.zoneService.getAllZonesByCountry(t._id).subscribe({next:o=>{this.listZone=o,this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureauForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemZoneSelect(t){console.log("onItemSelect",t),this.sectionService.getAllSectionsByZone(t._id).subscribe({next:o=>{this.listSection=o,console.log("section",this.listSection),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureauForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSectionSelect(t){console.log("onItemSelect",t),console.log("form model",this.editbureauForm.value)}onItemSectionDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureauForm.value)}onDropDownSectionClose(){console.log("dropdown closed")}toogleSectionShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleSectionShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}annuler(){this.router.navigate(["/rh/bureau"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(v.T),e.Y36(v.T),e.Y36(v.T),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-bureau"]],decls:66,vars:36,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","aria-label","Close",1,"btn","btn-danger",3,"click"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["formControlName","countryId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","zoneId"],["formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["for","sectionId"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","bureau_name"],[2,"color","hsl(0, 100%, 50%)(0, 100%, 50%)"],["type","text","placeholder","","id","bureau_name","formControlName","bureau_name",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"button",9),e.YNc(12,Ro,3,3,"ng-container",10),e.YNc(13,Xo,1,0,"span",11),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",12),e.NdJ("click",function(){return o.annuler()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",13)(20,"div",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",7)(26,"label",18),e._uU(27),e.ALo(28,"translate"),e.TgZ(29,"span",19),e._uU(30,"*"),e.qZA()()(),e.TgZ(31,"div",7)(32,"ng-multiselect-dropdown",20),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(33,Wo,2,1,"div",21),e.qZA()()()(),e.TgZ(34,"div",15)(35,"div",16)(36,"div",17)(37,"div",7)(38,"label",22),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",7)(42,"ng-multiselect-dropdown",23),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(s){return o.onItemZoneSelect(s)})("onDeSelect",function(s){return o.onItemZoneDeSelect(s)}),e.qZA()()()()(),e.TgZ(43,"div",15)(44,"div",16)(45,"div",17)(46,"div",7)(47,"label",24),e._uU(48),e.ALo(49,"translate"),e.TgZ(50,"span",19),e._uU(51,"*"),e.qZA()()(),e.TgZ(52,"div",7)(53,"ng-multiselect-dropdown",25),e.NdJ("onDropDownClose",function(){return o.onDropDownSectionClose()})("onSelect",function(s){return o.onItemSectionSelect(s)})("onDeSelect",function(s){return o.onItemSectionDeSelect(s)}),e.qZA()()()()(),e.TgZ(54,"div",26)(55,"div",16)(56,"div",17)(57,"div",7)(58,"label",27),e._uU(59),e.ALo(60,"translate"),e.TgZ(61,"span",28),e._uU(62,"*"),e.qZA()()(),e.TgZ(63,"div",7),e._UZ(64,"input",29),e.YNc(65,ti,2,1,"div",21),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,22,"ModifBureau")),e.xp6(8),e.Q6J("formGroup",o.editbureauForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,24,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(28,26,"SelectPays")),e.xp6(5),e.Q6J("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij(" ",e.lcZ(40,28,"SelectionZone"),""),e.xp6(3),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownZoneSettings),e.xp6(6),e.Oqu(e.lcZ(49,30,"SelectionSection")),e.xp6(5),e.Q6J("data",o.listSection)("disabled",o.disabled)("settings",o.dropdownSectionSettings),e.xp6(6),e.Oqu(e.lcZ(60,32,"NomBureau")),e.xp6(5),e.Q6J("ngClass",e.VKq(34,oi,o.submitted&&o.f.bureau_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureau_name.errors))},dependencies:[c.mk,c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,q.OP,g.X$]}),i})();function ni(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function ri(i,r){1&i&&e._UZ(0,"span",25)}function ai(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function si(i,r){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,ai,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function li(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function di(i,r){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,li,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zone_name.errors.required)}}const ui=function(i){return{"is-invalid":i}};let ci=(()=>{class i{constructor(t,o,a,s,l,d,u,p,T,D){this.agenceService=t,this.zoneService=o,this.sectionService=a,this.countryService=s,this.fb=l,this.router=d,this.route=u,this.http=p,this.toastrService=T,this.translateService=D,this.listCountry=[],this.listZone=[],this.selectedcountryItems=[],this.selectedzoneItems=[],this.selectedsectionItems=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dropdownSectionSettings={},this.keyLanguage="userLanguage",this.percentDone=0,this.editzoneForm=new n.cw({zone_name:new n.NI(""),countryId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editzoneForm=this.fb.group({zone_name:["",n.kI.required],countryId:["",n.kI.required]})}ngOnInit(){this.getAllCountry();const t=this.route.snapshot.paramMap.get("id");this.zoneService.getsingleZone(t).subscribe(o=>{console.log("resultat:==>",o),this.selectedcountryItems=o.countryId,this.editzoneForm.patchValue({zone_name:o.zone_name,countryId:[o.countryId]})}),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.editzoneForm.controls}onSubmit(){var t=this;return(0,N.Z)(function*(){if(t.submitted=!0,console.log(t.editzoneForm.value),t.editzoneForm?.invalid)return;const o=t.route.snapshot.paramMap.get("id");t.buttonloading=!0;const a={zone_name:t.editzoneForm.value.zone_name,countryId:t.editzoneForm.value.countryId[0]?._id};console.log("formData",a),t.zoneService.updateZone(o,a).subscribe({next:s=>{console.log("data",s),t.toastrService.success(`La zone ${s.zone_name} a bien \xe9t\xe9 modifi\xe9e \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.router.navigate(["/rh/zone"]))},error:s=>{console.log(s),t.toastrService.error(s.error),t.buttonloading=!1}})})()}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,console.log(this.listCountry),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.editzoneForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editzoneForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}annuler(){this.router.navigate(["/rh/zone"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(v.T),e.Y36(v.T),e.Y36(v.T),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-zone"]],decls:46,vars:25,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["name","countryId","formControlName","countryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","zone_name"],["type","text","placeholder","","id","zone_name","formControlName","zone_name",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"button",9),e.YNc(12,ni,3,3,"ng-container",10),e.YNc(13,ri,1,0,"span",11),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",12),e.NdJ("click",function(){return o.annuler()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",13)(20,"div",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",7)(26,"label",18),e._uU(27),e.ALo(28,"translate"),e.TgZ(29,"span",19),e._uU(30,"*"),e.qZA()()(),e.TgZ(31,"div",7)(32,"ng-multiselect-dropdown",20),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(33,si,2,1,"div",21),e.qZA()()()(),e.TgZ(34,"div",22)(35,"div",16)(36,"div",17)(37,"div",7)(38,"label",23),e._uU(39),e.ALo(40,"translate"),e.TgZ(41,"span",19),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",7),e._UZ(44,"input",24),e.YNc(45,di,2,1,"div",21),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,15,"ModifZone")),e.xp6(8),e.Q6J("formGroup",o.editzoneForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,17,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(28,19,"SelectPays")),e.xp6(5),e.Q6J("placeholder","Select Country")("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij("",e.lcZ(40,21,"NomZone")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(23,ui,o.submitted&&o.f.zone_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zone_name.errors))},dependencies:[c.mk,c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,q.OP,g.X$]}),i})();const gi=function(i){return["/rh/list-salaire-du-bureau",i]},mi=function(i){return["/rh/stock-bureau",i]};function pi(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td",7),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div",8)(5,"button",9),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"ul",10)(9,"li")(10,"a",11),e._uU(11,"Chiffre d'affaire"),e.qZA()(),e.TgZ(12,"li")(13,"a",11),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau_name),e.xp6(4),e.hij(" ",e.lcZ(7,5,"choisaction")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(9,gi,t._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(11,mi,t._id)),e.xp6(1),e.Oqu(e.lcZ(15,7,"VoirStockduBureau"))}}let hi=(()=>{class i{constructor(t,o,a){this.agenceService=t,this.toastrService=o,this.translateService=a,this.listBureau=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}},this.getAllBureau()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-salaire-bureau"]],decls:17,vars:9,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"btn-group","dropend"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead")(9,"tr")(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Action"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,pi,16,13,"tr",6),e.qZA()()()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,5,"GestionDesSalaires")," "),e.xp6(5),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(12,7,"NomBureau")),e.xp6(5),e.Q6J("ngForOf",o.listBureau))},dependencies:[c.sg,m.rH,S.G,g.X$]}),i})();function _i(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td",9),e._uU(2),e.qZA(),e.TgZ(3,"td",9),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e._uU(6),e.qZA(),e.TgZ(7,"td",9),e._uU(8),e.qZA(),e.TgZ(9,"td",9),e._uU(10),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureauId.bureau_name),e.xp6(2),e.AsE("",t.mois.valueMois," ",t.annee.annee,""),e.xp6(2),e.Oqu(t.chiffreDaf),e.xp6(2),e.Oqu(t.chargeBureau),e.xp6(2),e.Oqu(t.montant_bank)}}let fi=(()=>{class i{constructor(t,o,a,s,l){this.route=t,this.agenceService=o,this.salaireService=a,this.toastrService=s,this.translateService=l,this.listSalaire=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllSalaire(),this.getBureau()}getAllSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllSalaireBureau(this.id).subscribe({next:t=>{this.listSalaire=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listSalaire)},error:t=>{console.log(t),this.loading=!1}})}getBureau(){this.id=this.route.snapshot.paramMap.get("id"),console.log(this.id),this.agenceService.singleBureau(this.id).subscribe({next:t=>{this.agence=t.findagence.bureau_name,this.bureauId=t._id,console.log(this.agence),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.gz),e.Y36(A.q),e.Y36(E.o),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-salaire-bureau"]],decls:34,vars:28,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/rh/salaire-bureau",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"h1",2),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",4)(12,"div",5)(13,"div",6)(14,"table",7)(15,"thead")(16,"tr")(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA()()(),e.TgZ(32,"tbody"),e.YNc(33,_i,11,6,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,12,"GestionDesSalaires")," ",e.lcZ(5,14,"de")," ",o.agence," "),e.xp6(6),e.hij(" ",e.lcZ(10,16,"GestionDesSalaires")," "),e.xp6(5),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(19,18,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(22,20,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(25,22,"CHIFFREDAFFAIRE")),e.xp6(3),e.Oqu(e.lcZ(28,24,"ChargeBureau")),e.xp6(3),e.Oqu(e.lcZ(31,26,"ResteDeposeBanque")),e.xp6(3),e.Q6J("ngForOf",o.listSalaire))},dependencies:[c.sg,m.rH,S.G,g.X$]}),i})();var B=_(6166),Zi=_(2983),w=_.n(Zi),$=_(1384);function bi(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.zoneId.zone_name),e.xp6(2),e.AsE("",t.managerId.nom," ",t.managerId.prenom," ")}}function vi(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,2,t.mois,"MMMM-yyyy","fr")),e.xp6(3),e.hij("",t.chiffreDaf," FCFA ")}}O.kL.register(...O.zX);let Ai=(()=>{class i{constructor(t,o,a,s,l,d,u,p,T,D,J){this.zoneService=t,this.managerService=o,this.fb=a,this.http=s,this.tauxservice=l,this.route=d,this.countryservice=u,this.toastrService=p,this.translateService=T,this.router=D,this.serviceAfffectation=J,this.datazone=[],this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.mois[this.now.getMonth()],this.year=this.now.getFullYear(),this.labeldata=[],this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaZone=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getlistcabyzone(),this.getAllCaZone()}getlistcabyzone(){const t=this.route.snapshot.paramMap.get("id");this.serviceAfffectation.getAllSZByZone(t).subscribe({next:o=>{this.datazone=o,this.zoneNom=o[0].zoneId.zone_name,console.log("data sz and zone",this.datazone)},error:o=>{this.toastrService.error(o.statusText)}})}getAllCaZone(){this.id=this.route.snapshot.paramMap.get("id"),this.countryservice.getAllZonesCa().subscribe({next:t=>{const o=window.navigator.language||window.navigator.language;console.log("navigator language: "+o),h.locale(o);for(let a=0;a<t.length;a++)t[a].bureauId.zoneId==this.id&&(this.listCaZone.push(t[a]),this.listDate.push(h(t[a].mois).format("MMMM-YYYY")));console.log("ca zone",this.listCaZone),this.sums=[...this.listCaZone.reduce((a,s)=>{const{mois:l,chiffreDaf:d}=s,u=a.get(l);return u?u.chiffreDaf+=d:a.set(l,Object.assign({},s)),a},new Map).values()],console.log("sums",this.sums);for(let a=0;a<this.sums.length;a++)this.labeldata.push(h(this.sums[a].mois).format("MMMM-YYYY")),this.realdata.push(this.sums[a].chiffreDaf),"january"===h(this.sums[a].mois).format("MMMM")||"janvier"===h(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[0].name):"february"===h(this.sums[a].mois).format("MMMM")||"f\xe9vrier"===h(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[1].name):"march"===h(this.sums[a].mois).format("MMMM")||"mars"===h(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[2].name):"april"===h(this.sums[a].mois).format("MMMM")||"avril"===h(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[3].name):"May"===h(this.sums[a].mois).format("MMMM")||"Mai"===h(this.sums[a].mois).format("MMMM")?(console.log(h(this.sums[a].mois).format("MMMM")),this.colordata.push(this.color[4].name)):"june"===h(this.sums[a].mois).format("MMMM")||"juin"===h(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[5].name):"july"===h(this.sums[a].mois).format("MMMM")||"juillet"===h(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[6].name):"august"===h(this.sums[a].mois).format("MMMM")||"ao\xfbt"===h(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[7].name):"semptember"===h(this.sums[a].mois).format("MMMM")||"semptembre"===h(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[8].name):"october"===h(this.sums[a].mois).format("MMMM")||"octobre"===h(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[9].name):"november"===h(this.sums[a].mois).format("MMMM")||"novembre"===h(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[10].name):this.colordata.push(this.color[11].name);this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.log(t),this.loading=!1}})}getprimesupervisor(t,o){this.tauxservice.singleTauxBYZone(o).subscribe({next:l=>{this.primeSupervisor=t*l[0].taux_zone/100,console.log(this.primeSupervisor)}});const a=new B.default;var s=new Image;return s.src="assets/logotsw.png",a.addImage(s.src,30,20,10,10),w()(a,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),w()(a,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Bureau:${this.zoneNom}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),w()(a,{body:[[{content:`Bulletin de paie du mois de ${this.month} ${this.year}`,styles:{halign:"center",fontSize:13,fillColor:"#B0B2EA"}}]],theme:"plain"}),w()(a,{body:[[{content:`Chiffre d'affaire: \n${t}`,styles:{halign:"right",fontSize:14,textColor:"#3366ff"}}]],theme:"plain"}),w()(a,{head:[["LIBELLE","MONTANT"]],body:[["PRIME",`${this.primeSupervisor}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),a.save("bulletin_paie.pdf")}RenderChart(t,o,a,s,l){new O.kL(l,{type:s,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:o,backgroundColor:a,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}onDetailSZ(t){this.managerService.singleManager(t).subscribe({next:o=>{this.detailca=o,console.log(this.detailca)},error:o=>{this.toastrService.error(o.statusText)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.T),e.Y36(x.b),e.Y36(n.qu),e.Y36(Z.eN),e.Y36($.Q),e.Y36(m.gz),e.Y36(v.T),e.Y36(f._W),e.Y36(g.sK),e.Y36(m.F0),e.Y36(M.q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-ca-zone"]],decls:45,vars:20,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/paie-prime-sz",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,""],["id","barchart"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,bi,5,3,"tr",8),e.qZA()()()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"table",7)(25,"thead")(26,"tr")(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,vi,6,6,"tr",8),e.qZA()()()()(),e.TgZ(35,"div",9)(36,"div",10)(37,"div",4)(38,"div",11)(39,"h6",12),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"div",5)(43,"div",13),e._UZ(44,"canvas",14),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,8,"CHIFFREDAFFAIREZone")," "),e.xp6(11),e.Oqu(e.lcZ(15,10,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(18,12,"nomsupervisieurZone")),e.xp6(3),e.Q6J("ngForOf",o.datazone),e.xp6(8),e.Oqu(e.lcZ(29,14,"MoisDe")),e.xp6(3),e.hij("",e.lcZ(32,16,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Q6J("ngForOf",o.sums),e.xp6(6),e.Oqu(e.lcZ(41,18,"CHIFFREDAFFAIREZone")))},dependencies:[c.sg,m.rH,c.uU,g.X$]}),i})();function Ti(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.zoneId.zone_name),e.xp6(2),e.AsE("",t.managerId.nom," ",t.managerId.prenom," ")}}function Si(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"a",19),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.getprimesupervisor(s.chiffreDaf,s.bureauId.zoneId))}),e._UZ(8,"i",20),e._uU(9," payer la prime"),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,2,t.mois,"MMMM-yyyy","fr")),e.xp6(3),e.hij("",t.chiffreDaf," FCFA ")}}O.kL.register(...O.zX);let qi=(()=>{class i{constructor(t,o,a,s,l,d,u,p,T,D,J,Qn){this.sectionService=t,this.managerService=o,this.fb=a,this.http=s,this.tauxservice=l,this.route=d,this.countryservice=u,this.toastrService=p,this.translateService=T,this.router=D,this.salaireService=J,this.serviceAfffectation=Qn,this.datasection=[],this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.mois[this.now.getMonth()],this.year=this.now.getFullYear(),this.disabled=!1,this.labeldata=[],this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaSection=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.anneeList=[],this.dropdownSettingsAnnee={},this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.filterForm=new n.cw({annee:new n.NI("")}),this.translateService.use(localStorage.getItem(this.keyLanguage)),this.filterForm=this.fb.group({annee:[""]})}ngOnInit(){this.getlistcabysection(),this.getAllCaSection(),this.getALLannee(),this.dropdownSettingsAnnee={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"value",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.filterca()}getlistcabysection(){const t=this.route.snapshot.paramMap.get("id");this.serviceAfffectation.getAllMLSBychefSection(t).subscribe({next:o=>{this.datasection=o,this.sectionNom=o[0].zoneId.section_name,console.log("data mls and section",this.datasection)},error:o=>{this.toastrService.error(o.statusText)}})}getAllCaSection(){this.id=this.route.snapshot.paramMap.get("id"),this.sectionService.getAllSectionCa(this.id).subscribe({next:t=>{this.listCaSection=t;const o=window.navigator.language||window.navigator.language;console.log("navigator language: "+o),h.locale(o),this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.log(t),this.loading=!1}})}filterca(){const t={sectionId:this.route.snapshot.paramMap.get("id"),dateStart:this.filterForm.value.annee};this.sectionService.getAllSectionCaBymois(t).subscribe({next:o=>{for(let a=0;a<o.length;a++)this.labeldata.push(h(o[a].mois.valueMois)),this.colordata.push(h(o[a].mois.codeColor)),this.realdata.push(o[a].casection)}}),console.log(t)}getprimesupervisor(t,o){this.tauxservice.singleTauxBYZone(o).subscribe({next:l=>{this.primeSupervisor=t*l[0].taux_zone/100,console.log(this.primeSupervisor)}});const a=new B.default;var s=new Image;return s.src="assets/logotsw.png",a.addImage(s.src,30,20,10,10),w()(a,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),w()(a,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Bureau:${this.sectionNom}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),w()(a,{body:[[{content:`Bulletin de paie du mois de ${this.month} ${this.year}`,styles:{halign:"center",fontSize:13,fillColor:"#B0B2EA"}}]],theme:"plain"}),w()(a,{body:[[{content:`Chiffre d'affaire: \n${t}`,styles:{halign:"right",fontSize:14,textColor:"#3366ff"}}]],theme:"plain"}),w()(a,{head:[["LIBELLE","MONTANT"]],body:[["PRIME",`${this.primeSupervisor}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),a.save("bulletin_paie.pdf")}RenderChart(t,o,a,s,l){new O.kL(l,{type:s,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:o,backgroundColor:a,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}onDetailSZ(t){this.managerService.singleManager(t).subscribe({next:o=>{this.detailca=o,console.log(this.detailca)},error:o=>{this.toastrService.error(o.statusText)}})}onItemSelectAnnee(t){this.filterForm.value.annee=t._id,console.log("ann\xe9e",t._id)}onItemDeSelectAnnee(t){console.log("onItem DeSelect",t)}onDropDownCloseAnnee(){console.log("dropdown closed")}toogleShowAllAnnee(){this.showAll=!this.showAll,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{enableCheckAll:this.showAll})}toogleShowFilterAnnee(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.T),e.Y36(x.b),e.Y36(n.qu),e.Y36(Z.eN),e.Y36($.Q),e.Y36(m.gz),e.Y36(v.T),e.Y36(f._W),e.Y36(g.sK),e.Y36(m.F0),e.Y36(E.o),e.Y36(M.q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-ca-section"]],decls:53,vars:27,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/paie-prime-sz",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"text-end"],[3,"formGroup","ngSubmit"],["for","annee"],["id","annee","formControlName","annee",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,""],["id","barchart"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-print"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Ti,5,3,"tr",8),e.qZA()()()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"table",7)(25,"thead")(26,"tr")(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,Si,10,6,"tr",8),e.qZA()()()()(),e.TgZ(38,"div",9)(39,"div",10)(40,"div",4)(41,"div",11)(42,"h6",12),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"div",13)(46,"form",14),e.NdJ("ngSubmit",function(){return o.filterca()}),e.TgZ(47,"label",15),e._uU(48,"Filtrer par ann\xe9e"),e.qZA(),e.TgZ(49,"ng-multiselect-dropdown",16),e.NdJ("onDropDownClose",function(){return o.onDropDownCloseAnnee()})("onSelect",function(s){return o.onItemSelectAnnee(s)})("onDeSelect",function(s){return o.onItemDeSelectAnnee(s)}),e.qZA()()()(),e.TgZ(50,"div",5)(51,"div",17),e._UZ(52,"canvas",18),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,13,"CHIFFREDAFFAIRESection")," "),e.xp6(11),e.Oqu(e.lcZ(15,15,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(18,17,"nomchefSection")),e.xp6(3),e.Q6J("ngForOf",o.datasection),e.xp6(8),e.Oqu(e.lcZ(29,19,"MoisDe")),e.xp6(3),e.hij("",e.lcZ(32,21,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Oqu(e.lcZ(35,23,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listCaSection),e.xp6(6),e.hij("",e.lcZ(44,25,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Q6J("formGroup",o.filterForm),e.xp6(3),e.Q6J("data",o.anneeList)("disabled",o.disabled)("settings",o.dropdownSettingsAnnee))},dependencies:[c.sg,m.rH,n._Y,n.JJ,n.JL,n.sg,n.u,q.OP,c.uU,g.X$]}),i})();var Ci=_(3862),wi=_(5644);function xi(i,r){if(1&i&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.quantity," ")}}function yi(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,xi,2,1,"div",12),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.productId.name),e.xp6(2),e.Q6J("ngIf",!t.isEdit)}}const Ui=function(){return["/accounting/salaire-bureau"]};let Ii=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.route=t,this.countryService=o,this.productService=a,this.stockService=s,this.http=l,this.toastrService=d,this.translateService=u,this.router=p,this.listProducts=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.submitted=!1,this.dropdownSettings={},this.Settings={},this.selectedItem=[],this.keyLanguage="userLanguage",this.columns=["NOM DU PRODUIT","QUANTITE"],this.rows=[],this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllProductsbyBureau()}onEditquantity(t){this.listProducts.forEach(o=>{o.isEdit=!1}),t.isEdit=!0}onClosequantity(t){t.isEdit=!1,window.location.reload()}onSavequantity(t){console.log("productQuantityObj",t);const o={id:t._id,agenceId:t.agenceId._id,productId:t.productId._id,quantity:Number(t.quantity),quantitytotalenmagasin:Number(t.quantitytotalenmagasin)};this.stockService.updateBureauProductstoct(JSON.stringify(o)).subscribe(a=>{500==a.status?this.toastrService.error(a.message):200==a.status?(this.toastrService.success("Quantit\xe9 modifi\xe9e avec succ\xe8s!!"),this.loading=!1,window.location.reload()):this.toastrService.error(a.message)})}getAllProductsbyBureau(){this.id=this.route.snapshot.paramMap.get("id"),this.stockService.getAllBureauProduct(this.id).subscribe(t=>{this.listProducts=t,this.agence=this.listProducts[0].agenceId.bureau_name,this.agenceId=this.id,console.log("this.listProducts",this.listProducts),this.loading=!1;for(let o=0;o<this.listProducts.length;o++)this.rows.push([this.listProducts[o].productId.name,this.listProducts[o].quantity])})}downloadPDF(){const t=new B.jsPDF;var o=new Image;return o.src="assets/logotsw.png",t.addImage(o.src,30,20,10,10),w()(t,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),w()(t,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Stock du bureau ${this.agence}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),w()(t,{head:[this.columns],body:this.rows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),t.save("stock_pays.pdf")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.gz),e.Y36(v.T),e.Y36(Ci.M),e.Y36(wi.q),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-stockbureau"]],decls:25,vars:13,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fas-printer"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],["class","col-md-5",4,"ngIf"],[1,"col-md-5"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"a",6),e.NdJ("click",function(){return o.downloadPDF()}),e._uU(10," imprimer "),e._UZ(11,"i",7),e.qZA()(),e.TgZ(12,"div",8)(13,"div",9)(14,"table",10)(15,"thead")(16,"tr")(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,yi,5,2,"tr",11),e.qZA()()()()()()),2&t&&(e.xp6(3),e.AsE(" ",e.lcZ(4,6,"StockBureau")," ",o.agence," "),e.xp6(2),e.Q6J("routerLink",e.DdM(12,Ui)),e.xp6(13),e.Oqu(e.lcZ(19,8,"NomProduit")),e.xp6(3),e.Oqu(e.lcZ(22,10,"QuantiteDispo")),e.xp6(3),e.Q6J("ngForOf",o.listProducts))},dependencies:[c.sg,c.O5,m.rH,g.X$]}),i})();const Fi=function(i){return["/rh/modification-localisation-bureau",i]};function Li(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",39)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",40),e._uU(5),e.qZA(),e.TgZ(6,"td",41)(7,"a",42),e._UZ(8,"i",43),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",44),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteLcation(s._id))}),e._UZ(11,"i",45),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.bureauId.bureau_name),e.xp6(2),e.hij(" ",t.localisation_bureau," "),e.xp6(2),e.Q6J("routerLink",e.VKq(3,Fi,t._id))}}function Oi(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Di(i,r){1&i&&e._UZ(0,"span",46)}function Ni(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Mi(i,r){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,Ni,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}function Ji(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function Yi(i,r){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,Ji,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.localisation_bureau.errors.required)}}function ki(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Qi(i,r){1&i&&e._UZ(0,"span",46)}function Ei(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Bi(i,r){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,Ei,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}function ji(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function zi(i,r){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,ji,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.localisation_bureau.errors.required)}}const R=function(i){return{"is-invalid":i}};let Ki=(()=>{class i{constructor(t,o,a,s,l,d){this.agenceService=t,this.fb=o,this.router=a,this.http=s,this.toastrService=l,this.translateService=d,this.listBureauLocation=[],this.listBureau=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.selectedbureauItems=[],this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.bureaulocateForm=new n.cw({localisation_bureau:new n.NI(""),bureauId:new n.NI("")}),this.editbureaulocateForm=new n.cw({localisation_bureau:new n.NI(""),bureauId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.bureaulocateForm=this.fb.group({localisation_bureau:["",n.kI.required],bureauId:["",n.kI.required]}),this.editbureaulocateForm=this.fb.group({localisation_bureau:["",n.kI.required],bureauId:["",n.kI.required]})}ngOnInit(){this.getAllBureau(),this.getAllLocatilsationBureau(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Recherche rapide"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.bureaulocateForm.controls}onSubmit(){var t=this;return(0,N.Z)(function*(){t.submitted=!0,console.log(t.bureaulocateForm.value),t.bureaulocateForm?.invalid||(t.buttonloading=!0,t.agenceService.registerlocalisationBureau({localisation_bureau:t.bureaulocateForm.value.localisation_bureau,bureauId:t.bureaulocateForm.value.bureauId[0]?._id}).subscribe({next:a=>{t.toastrService.success(`La localisation du bureau ${t.bureaulocateForm.value.bureauId[0]?.bureau_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,window.location.reload())},error:a=>{t.toastrService.error(a.error.message),t.buttonloading=!1}}))})()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences},error:t=>{console.log(t),this.loading=!1}})}getAllLocatilsationBureau(){this.agenceService.alllocalisationBureau().subscribe({next:t=>{this.listBureauLocation=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listBureau)},error:t=>{console.log(t),this.loading=!1}})}onDeleteLcation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.agenceService.removeBureau(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),window.location.reload())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.bureaulocateForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureaulocateForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}editelocalisation(t){console.log(t),this.agenceService.singlelocalisationBureau(t).subscribe(o=>{console.log(o),this.selectedbureauItems=o.bureauId,this.editbureaulocateForm.patchValue({localisation_bureau:o.localisation_bureau,bureauId:[o.bureauId]})})}onsaveEditSubmit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-localisation-bureau"]],decls:111,vars:38,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addAgenceLcationModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addAgenceLcationModal","tabindex","-1","aria-labelledby","addAgenceLcationModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","addAgenceLcationModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-12","col-md-12"],[1,"form-group"],[1,"mb-3"],["for","bureauId"],[2,"color","red"],["name","bureauId","formControlName","bureauId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-12","col-md-12","col-xl-12"],["for","localisation_bureau"],["type","text","placeholder","","id","localisation_bureau","formControlName","localisation_bureau",1,"form-control",3,"ngClass"],["id","editAgenceLcationModal","tabindex","-1","aria-labelledby","editAgenceLcationModalLabel","aria-hidden","true",1,"modal","fade"],["id","editAgenceLcationModalLabel",1,"modal-title"],[1,"hover"],[1,"hover","text-center"],[1,"text-center"],["href","",1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Situation g\xe9ograohique des bureau"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"h6",4)(6,"button",5),e._UZ(7,"i",6),e._uU(8,"\xa0Ajouter une localisation du bureau "),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"thead")(13,"tr")(14,"th"),e._uU(15,"Nom du bureau"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Localisation"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,Li,12,5,"tr",10),e.qZA()()()()()(),e.TgZ(23,"div",11)(24,"div",12)(25,"div",13)(26,"div",14)(27,"h3",15),e._uU(28,"Ajouter la localisation d'un bureau"),e.qZA(),e._UZ(29,"button",16),e.qZA(),e.TgZ(30,"div",17)(31,"div",18)(32,"div",19)(33,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(34,"button",21),e.YNc(35,Oi,3,3,"ng-container",22),e.YNc(36,Di,1,0,"span",23),e.qZA(),e._uU(37,"\xa0 "),e.TgZ(38,"button",24),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"br"),e.TgZ(42,"div",25)(43,"div",26)(44,"div",18)(45,"div",27)(46,"div",28)(47,"div",29)(48,"div",19)(49,"label",30),e._uU(50,"Selectionner le bureau"),e.TgZ(51,"span",31),e._uU(52,"*"),e.qZA()()(),e.TgZ(53,"div",19)(54,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(55,Mi,2,1,"div",33),e.qZA()()()(),e.TgZ(56,"div",34)(57,"div",28)(58,"div",29)(59,"div",19)(60,"label",35),e._uU(61,"Localisation"),e.TgZ(62,"span",31),e._uU(63,"*"),e.qZA()()(),e.TgZ(64,"div",19),e._UZ(65,"input",36),e.YNc(66,Yi,2,1,"div",33),e.qZA()()()()()()()()()()()()()(),e.TgZ(67,"div",37)(68,"div",12)(69,"div",13)(70,"div",14)(71,"h3",38),e._uU(72,"Ajouter la localisation d'un bureau"),e.qZA(),e._UZ(73,"button",16),e.qZA(),e.TgZ(74,"div",17)(75,"div",18)(76,"div",19)(77,"form",20),e.NdJ("ngSubmit",function(){return o.onsaveEditSubmit()}),e.TgZ(78,"button",21),e.YNc(79,ki,3,3,"ng-container",22),e.YNc(80,Qi,1,0,"span",23),e.qZA(),e._uU(81,"\xa0 "),e.TgZ(82,"button",24),e._uU(83),e.ALo(84,"translate"),e.qZA(),e._UZ(85,"br"),e.TgZ(86,"div",25)(87,"div",26)(88,"div",18)(89,"div",27)(90,"div",28)(91,"div",29)(92,"div",19)(93,"label",30),e._uU(94,"Selectionner le bureau"),e.TgZ(95,"span",31),e._uU(96,"*"),e.qZA()()(),e.TgZ(97,"div",19)(98,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(99,Bi,2,1,"div",33),e.qZA()()()(),e.TgZ(100,"div",34)(101,"div",28)(102,"div",29)(103,"div",19)(104,"label",35),e._uU(105,"Localisation"),e.TgZ(106,"span",31),e._uU(107,"*"),e.qZA()()(),e.TgZ(108,"div",19),e._UZ(109,"input",36),e.YNc(110,zi,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(11),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(8),e.Oqu(e.lcZ(20,28,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listBureauLocation),e.xp6(11),e.Q6J("formGroup",o.bureaulocateForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(40,30,"Annuler")),e.xp6(15),e.Q6J("placeholder","Selectionner un bureau")("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(34,R,o.submitted&&o.f.localisation_bureau.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.localisation_bureau.errors),e.xp6(11),e.Q6J("formGroup",o.editbureaulocateForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(84,32,"Annuler")),e.xp6(15),e.Q6J("placeholder","Selectionner un bureau")("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(36,R,o.submitted&&o.f.localisation_bureau.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.localisation_bureau.errors))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,q.OP,S.G,g.X$]}),i})();function Gi(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Vi(i,r){1&i&&e._UZ(0,"span",25)}function Pi(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function $i(i,r){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Pi,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}function Ri(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function Xi(i,r){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Ri,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.localisation_bureau.errors.required)}}const Hi=function(i){return{"is-invalid":i}};let Wi=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.fb=o,this.router=a,this.route=s,this.http=l,this.toastrService=d,this.translateService=u,this.listBureauLocation=[],this.listBureau=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.selectedbureauItems=[],this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.editbureaulocateForm=new n.cw({localisation_bureau:new n.NI(""),bureauId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editbureaulocateForm=this.fb.group({localisation_bureau:["",n.kI.required],bureauId:["",n.kI.required]})}ngOnInit(){this.getAllBureau();const t=this.route.snapshot.paramMap.get("id");this.agenceService.singlelocalisationBureau(t).subscribe(o=>{this.selectedbureauItems=o.bureauId,this.editbureaulocateForm.patchValue({localisation_bureau:o.localisation_bureau,bureauId:[o.bureauId]})}),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.editbureaulocateForm.controls}onSubmit(){var t=this;return(0,N.Z)(function*(){if(t.submitted=!0,console.log(t.editbureaulocateForm.value),t.editbureaulocateForm?.invalid)return;t.buttonloading=!0;const o={localisation_bureau:t.editbureaulocateForm.value.localisation_bureau,bureauId:t.editbureaulocateForm.value.bureauId[0]?._id},a=t.route.snapshot.paramMap.get("id");t.agenceService.updateLocateBureau(a,o).subscribe({next:s=>{t.toastrService.success(`La localisation du bureau ${t.editbureaulocateForm.value.bureauId[0]?.bureau_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.router.navigate(["/rh/localisation-bureau"]))},error:s=>{t.toastrService.error(s.error.message),t.buttonloading=!1}})})()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.editbureaulocateForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureaulocateForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}editelocalisation(t){console.log(t),this.agenceService.singlelocalisationBureau(t).subscribe(o=>{console.log(o),this.selectedbureauItems=o.bureauId,this.editbureaulocateForm.patchValue({localisation_bureau:o.localisation_bureau,bureauId:[o.bureauId]})})}onsaveEditSubmit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-localisation-bureau"]],decls:44,vars:16,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-12","col-md-12"],[1,"form-group"],[1,"mb-3"],["for","bureauId"],[2,"color","red"],["name","bureauId","formControlName","bureauId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-12","col-md-12","col-xl-12"],["for","localisation_bureau"],["type","text","placeholder","","id","localisation_bureau","formControlName","localisation_bureau",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Situation g\xe9ograohique des bureau"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"h6",4),e._uU(6,"Modification de la locatisation localisation du bureau"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"button",9),e.YNc(12,Gi,3,3,"ng-container",10),e.YNc(13,Vi,1,0,"span",11),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",12),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",13)(20,"div",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",7)(26,"label",18),e._uU(27,"Selectionner le bureau"),e.TgZ(28,"span",19),e._uU(29,"*"),e.qZA()()(),e.TgZ(30,"div",7)(31,"ng-multiselect-dropdown",20),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(32,$i,2,1,"div",21),e.qZA()()()(),e.TgZ(33,"div",22)(34,"div",16)(35,"div",17)(36,"div",7)(37,"label",23),e._uU(38,"Localisation"),e.TgZ(39,"span",19),e._uU(40,"*"),e.qZA()()(),e.TgZ(41,"div",7),e._UZ(42,"input",24),e.YNc(43,Xi,2,1,"div",21),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(10),e.Q6J("formGroup",o.editbureaulocateForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,12,"Annuler")),e.xp6(15),e.Q6J("placeholder","Selectionner un bureau")("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(14,Hi,o.submitted&&o.f.localisation_bureau.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.localisation_bureau.errors))},dependencies:[c.mk,c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,q.OP,g.X$],encapsulation:2}),i})();function en(i,r){if(1&i&&(e.TgZ(0,"div")(1,"span",92),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau_name)}}const tn=function(i){return["/rh/edit-commissaire",i]};function on(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",87)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",87)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",87)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",87)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",87)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",87)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td",87)(26,"div"),e._uU(27),e.qZA()(),e.TgZ(28,"td",87)(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"td",87)(32,"div"),e._uU(33),e.qZA()(),e.TgZ(34,"td",87)(35,"div"),e._uU(36),e.qZA()(),e.TgZ(37,"td",87)(38,"div"),e._uU(39),e.qZA()(),e.TgZ(40,"td",87)(41,"div"),e._uU(42),e.qZA()(),e.TgZ(43,"td",87),e.YNc(44,en,3,1,"div",10),e.qZA(),e.TgZ(45,"td")(46,"div")(47,"a",88),e._UZ(48,"i",89),e.qZA(),e._uU(49,"\xa0 "),e.TgZ(50,"a",90),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeletecommissaire(s._id))}),e._UZ(51,"i",91),e.qZA()(),e._UZ(52,"div"),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.codeAgent),e.xp6(3),e.AsE("",t.nom," ",t.prenom,""),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Oqu(t.date_naiss),e.xp6(3),e.Oqu(t.lieu_naiss),e.xp6(3),e.Oqu(t.piece),e.xp6(3),e.Oqu(t.num_piece),e.xp6(3),e.Oqu(t.genre),e.xp6(3),e.Oqu(t.situation_matrimonial),e.xp6(3),e.Oqu(t.grade),e.xp6(3),e.Oqu(t.ethnie),e.xp6(3),e.Oqu(t.religion),e.xp6(3),e.Oqu(t.maladie_exist),e.xp6(3),e.Oqu(t.nbr_enfant),e.xp6(2),e.Q6J("ngForOf",t.bureauId),e.xp6(3),e.Q6J("routerLink",e.VKq(17,tn,t._id))}}function nn(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function rn(i,r){1&i&&e._UZ(0,"span",93)}function an(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function sn(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,an,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}function ln(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function dn(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,ln,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function un(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function cn(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,un,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function gn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function mn(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,gn,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function pn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function hn(i,r){if(1&i&&(e.TgZ(0,"div",94),e.YNc(1,pn,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}const F=function(i){return{"is-invalid":i}};let _n=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listBureau=[],this.listCommissaire=[],this.nom="",this.codeagent="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.commissairecontrolForm=new n.cw({codeAgent:new n.NI(""),bureauId:new n.NI(""),casier_judiciaire:new n.NI(""),nom:new n.NI(""),prenom:new n.NI(""),telephone:new n.NI(""),date_naiss:new n.NI(""),lieu_naiss:new n.NI(""),piece:new n.NI(""),num_piece:new n.NI(""),grade:new n.NI(""),situation_matrimonial:new n.NI(""),ethnie:new n.NI(""),religion:new n.NI(""),maladie_exist:new n.NI(""),nbr_enfant:new n.NI(""),genre:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.commissairecontrolForm=this.fb.group({codeAgent:["",n.kI.required],bureauId:["",n.kI.required],casier_judiciaire:["",n.kI.required],nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:[""],lieu_naiss:[""],piece:[""],num_piece:[""],grade:["",n.kI.required],situation_matrimonial:[""],ethnie:[""],religion:[""],maladie_exist:[""],nbr_enfant:[],genre:["",n.kI.required]})}get f(){return this.commissairecontrolForm.controls}ngOnInit(){this.getAllBureau(),this.getAllCommissaire(),this.generateAgentCode(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}onSubmit(){if(this.submitted=!0,console.log(this.commissairecontrolForm.value),this.commissairecontrolForm?.invalid)return;this.buttonloading=!0;const t={codeAgent:this.commissairecontrolForm.value.codeAgent,casier_judiciaire:this.commissairecontrolForm.value.casier_judiciaire,nom:this.commissairecontrolForm.value.nom,prenom:this.commissairecontrolForm.value.prenom,telephone:this.commissairecontrolForm.value.telephone,date_naiss:this.commissairecontrolForm.value.date_naiss,lieu_naiss:this.commissairecontrolForm.value.lieu_naiss,piece:this.commissairecontrolForm.value.piece,num_piece:this.commissairecontrolForm.value.num_piece,grade:this.commissairecontrolForm.value.grade,genre:this.commissairecontrolForm.value.genre,situation_matrimonial:this.commissairecontrolForm.value.situation_matrimonial,ethnie:this.commissairecontrolForm.value.ethnie,religion:this.commissairecontrolForm.value.religion,maladie_exist:this.commissairecontrolForm.value.maladie_exist,nbr_enfant:this.commissairecontrolForm.value.nbr_enfant,bureauId:this.commissairecontrolForm.value.bureauId,fullnamemanager:`${this.commissairecontrolForm.value.nom} ${this.commissairecontrolForm.value.prenom}`};console.log("form data",t),this.managerService.registerCommissaire(t).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le commissaire ${o.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,window.location.reload())},error:o=>{console.log(o),this.toastrService.error(o.error.message),this.buttonloading=!1}})}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllCommissaire(){this.managerService.getAllCommissaires().subscribe({next:t=>{this.listCommissaire=t,console.log("commissaire",this.listCommissaire),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.commissairecontrolForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.commissairecontrolForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onDeletecommissaire(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.managerService.removeManager(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onUpdateManager(t){this.managerService.singleManager(t).subscribe(o=>{console.log(o)})}generateAgentCode(){const o=("00"+(Math.floor(99*Math.random())+1)).slice(-3);this.codeagent=`Agent${o}`,this.commissairecontrolForm.get("codeAgent")?.setValue(this.codeagent)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(x.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-commissair-de-control"]],decls:320,vars:135,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addcommissaireModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addcommissaireModal","tabindex","-1","aria-labelledby","addcommissaireModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addcommissaireModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-md-4","col-lg-4","col-xs-4"],[1,"mb-3"],[1,"col-md-6"],["for","bureauId"],[2,"color","red"],[1,"col-md-9"],["formControlName","bureauId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","codeAgent"],["type","text","formControlName","codeAgent","id","codeAgent",1,"form-control"],["for","casier_judiciaire"],["type","text","formControlName","casier_judiciaire","id","casier_judiciaire",1,"form-control"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],["for","nom"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Manager"],["value","HCEF"],["value","Assistant Manager"],["value","Gestionnaire"],["value","Manager Superviseur de Zone"],["value","Manager Chef de section"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"badge","badge-success"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Gestion des commissaires de contr\xf4le"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"h6",4)(6,"button",5),e._UZ(7,"i",6),e._uU(8,"\xa0Ajouter un commissaire de contr\xf4le "),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"thead")(13,"tr")(14,"th"),e._uU(15,"Code Agent"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"th"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"th"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"th"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Bureau d'action"),e.qZA(),e.TgZ(57,"th"),e._uU(58),e.ALo(59,"translate"),e.qZA()()(),e.TgZ(60,"tbody"),e.YNc(61,on,53,19,"tr",10),e.qZA()()()()()(),e.TgZ(62,"div",11)(63,"div",12)(64,"div",13)(65,"div",14)(66,"h3",15),e._uU(67),e.ALo(68,"translate"),e.qZA(),e._UZ(69,"button",16),e.qZA(),e.TgZ(70,"div",17)(71,"div",18)(72,"div",19)(73,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(74,"button",21),e.YNc(75,nn,3,3,"ng-container",22),e.YNc(76,rn,1,0,"span",23),e.qZA(),e._uU(77,"\xa0 "),e.TgZ(78,"button",24),e._uU(79),e.ALo(80,"translate"),e.qZA(),e._UZ(81,"br"),e.TgZ(82,"div",25)(83,"div",18)(84,"div",26)(85,"div",27)(86,"div",28)(87,"label",29),e._uU(88,"Selectionner les bureaux d'action"),e.TgZ(89,"span",30),e._uU(90,"*"),e.qZA()()(),e.TgZ(91,"div",31)(92,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(93,sn,2,1,"div",33),e.qZA()()(),e.TgZ(94,"div",26)(95,"div",27)(96,"div",19)(97,"label",34),e._uU(98,"Code Agent"),e.TgZ(99,"span",30),e._uU(100,"*"),e.qZA()()(),e.TgZ(101,"div",19),e._UZ(102,"input",35),e.qZA()()(),e.TgZ(103,"div",26)(104,"div",27)(105,"div",19)(106,"label",36),e._uU(107,"Casier judiciaire"),e.TgZ(108,"span",30),e._uU(109,"*"),e.qZA()()(),e.TgZ(110,"div",19),e._UZ(111,"input",37),e.qZA()()()(),e.TgZ(112,"div",18),e._UZ(113,"br")(114,"br"),e.TgZ(115,"div",38)(116,"div",39)(117,"div",27)(118,"div",19)(119,"label",40),e._uU(120),e.ALo(121,"translate"),e.TgZ(122,"span",30),e._uU(123,"*"),e.qZA()()(),e.TgZ(124,"div",19),e._UZ(125,"input",41),e.YNc(126,dn,2,1,"div",33),e.qZA()()()(),e.TgZ(127,"div",38)(128,"div",39)(129,"div",27)(130,"div",28)(131,"label",42),e._uU(132),e.ALo(133,"translate"),e.TgZ(134,"span",30),e._uU(135,"*"),e.qZA()()(),e.TgZ(136,"div",19),e._UZ(137,"input",43),e.YNc(138,cn,2,1,"div",33),e.qZA()()()(),e.TgZ(139,"div",38)(140,"div",39)(141,"div",27)(142,"div",28)(143,"label",40),e._uU(144),e.ALo(145,"translate"),e.TgZ(146,"span",30),e._uU(147,"*"),e.qZA()()(),e.TgZ(148,"div",19),e._UZ(149,"input",44),e.YNc(150,mn,2,1,"div",33),e.qZA()()()(),e.TgZ(151,"div",38)(152,"div",39)(153,"div",27)(154,"div",28)(155,"label",45),e._uU(156),e.ALo(157,"translate"),e.TgZ(158,"span",30),e._uU(159,"*"),e.qZA()()(),e.TgZ(160,"div",19)(161,"select",46)(162,"option",47),e._uU(163,"Feminin"),e.qZA(),e.TgZ(164,"option",48),e._uU(165,"Masculin"),e.qZA()(),e.YNc(166,hn,2,1,"div",33),e.qZA()()()()(),e.TgZ(167,"div",18),e._UZ(168,"br")(169,"br"),e.TgZ(170,"div",49)(171,"div",39)(172,"div",27)(173,"div",19)(174,"label",50),e._uU(175),e.ALo(176,"translate"),e.TgZ(177,"span",30),e._uU(178,"*"),e.qZA()()(),e.TgZ(179,"div",19),e._UZ(180,"input",51),e.qZA()()()(),e.TgZ(181,"div",49)(182,"div",39)(183,"div",27)(184,"div",19)(185,"label",52),e._uU(186),e.ALo(187,"translate"),e.TgZ(188,"span",30),e._uU(189,"*"),e.qZA()()(),e.TgZ(190,"div",19),e._UZ(191,"input",53),e.qZA()()()(),e.TgZ(192,"div",49)(193,"div",39)(194,"div",27)(195,"div",19)(196,"label",54),e._uU(197),e.ALo(198,"translate"),e.TgZ(199,"span",30),e._uU(200,"*"),e.qZA()()(),e.TgZ(201,"div",19)(202,"select",55)(203,"option",56),e._uU(204,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(205,"option",57),e._uU(206,"attestation d'identit\xe9"),e.qZA(),e.TgZ(207,"option",58),e._uU(208,"passeport"),e.qZA(),e.TgZ(209,"option",59),e._uU(210,"recepisse"),e.qZA(),e.TgZ(211,"option",60),e._uU(212,"carte consulaire"),e.qZA(),e.TgZ(213,"option",61),e._uU(214,"carte de s\xe9jour"),e.qZA(),e.TgZ(215,"option",62),e._uU(216,"permis de conduire"),e.qZA(),e.TgZ(217,"option",63),e._uU(218,"aucune pi\xe8ce"),e.qZA()()()()()()(),e.TgZ(219,"div",18),e._UZ(220,"br")(221,"br"),e.TgZ(222,"div",38)(223,"div",39)(224,"div",27)(225,"div",19)(226,"label",64),e._uU(227),e.ALo(228,"translate"),e.TgZ(229,"span",30),e._uU(230,"*"),e.qZA()()(),e.TgZ(231,"div",19),e._UZ(232,"input",65),e.qZA()()()(),e.TgZ(233,"div",49)(234,"div",39)(235,"div",27)(236,"div",19)(237,"label",66),e._uU(238),e.ALo(239,"translate"),e.TgZ(240,"span",30),e._uU(241,"*"),e.qZA()()(),e.TgZ(242,"div",19)(243,"select",67)(244,"option",68),e._uU(245,"mari\xe9"),e.qZA(),e.TgZ(246,"option",69),e._uU(247,"celibataire"),e.qZA(),e.TgZ(248,"option",70),e._uU(249,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(250,"div",49)(251,"div",39)(252,"div",27)(253,"div",19)(254,"label",71),e._uU(255),e.ALo(256,"translate"),e.TgZ(257,"span",30),e._uU(258,"*"),e.qZA()()(),e.TgZ(259,"div",19)(260,"select",72)(261,"option",73),e._uU(262,"Manager"),e.qZA(),e.TgZ(263,"option",74),e._uU(264,"HCEF"),e.qZA(),e.TgZ(265,"option",75),e._uU(266,"Assistant Manager"),e.qZA(),e.TgZ(267,"option",76),e._uU(268,"Gestionnaire"),e.qZA(),e.TgZ(269,"option",77),e._uU(270,"Manager Superviseur de Zone"),e.qZA(),e.TgZ(271,"option",78),e._uU(272,"Manager Chef de section"),e.qZA()()()()()()(),e.TgZ(273,"div",18),e._UZ(274,"br")(275,"br"),e.TgZ(276,"div",38)(277,"div",39)(278,"div",27)(279,"div",19)(280,"label",79),e._uU(281),e.ALo(282,"translate"),e.TgZ(283,"span",30),e._uU(284,"*"),e.qZA()()(),e.TgZ(285,"div",19),e._UZ(286,"input",80),e.qZA()()()(),e.TgZ(287,"div",38)(288,"div",39)(289,"div",27)(290,"div",19)(291,"label",81),e._uU(292),e.ALo(293,"translate"),e.TgZ(294,"span",30),e._uU(295,"*"),e.qZA()()(),e.TgZ(296,"div",19),e._UZ(297,"input",82),e.qZA()()()(),e.TgZ(298,"div",38)(299,"div",39)(300,"div",27)(301,"div",19)(302,"label",83),e._uU(303),e.ALo(304,"translate"),e.TgZ(305,"span",30),e._uU(306,"*"),e.qZA()()(),e.TgZ(307,"div",19),e._UZ(308,"input",84),e.qZA()()()(),e.TgZ(309,"div",38)(310,"div",39)(311,"div",27)(312,"div",19)(313,"label",85),e._uU(314),e.ALo(315,"translate"),e.TgZ(316,"span",30),e._uU(317,"*"),e.qZA()()(),e.TgZ(318,"div",19),e._UZ(319,"input",86),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(11),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(6),e.Oqu(e.lcZ(18,55,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,57,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(24,59,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(27,61,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(30,63,"Piece")),e.xp6(3),e.Oqu(e.lcZ(33,65,"NumeroPiece")),e.xp6(3),e.Oqu(e.lcZ(36,67,"Genre")),e.xp6(3),e.hij("",e.lcZ(39,69,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(42,71,"Grade")," "),e.xp6(3),e.hij("",e.lcZ(45,73,"Ethenie")," "),e.xp6(3),e.hij("",e.lcZ(48,75,"Religion")," "),e.xp6(3),e.Oqu(e.lcZ(51,77,"MaladiEntecedent")),e.xp6(3),e.Oqu(e.lcZ(54,79,"NombreEnfant")),e.xp6(5),e.Oqu(e.lcZ(59,81,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listCommissaire),e.xp6(6),e.Oqu(e.lcZ(68,83,"Ajoutercommissaire")),e.xp6(6),e.Q6J("formGroup",o.commissairecontrolForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(80,85,"Annuler")),e.xp6(13),e.Q6J("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(27),e.hij("",e.lcZ(121,87,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(115,F,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(133,89,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(117,F,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(145,91,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(119,F,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(157,93,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(121,F,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(176,95,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(123,F,o.submitted&&o.f.date_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(187,97,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(125,F,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(198,99,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(127,F,o.submitted&&o.f.piece.errors)),e.xp6(25),e.Oqu(e.lcZ(228,101,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(239,103,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(256,105,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(129,F,o.submitted&&o.f.grade.errors)),e.xp6(21),e.Oqu(e.lcZ(282,107,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(293,109,"Religion")),e.xp6(11),e.Oqu(e.lcZ(304,111,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(131,F,o.submitted&&o.f.maladie_exist.errors)),e.xp6(6),e.Oqu(e.lcZ(315,113,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(133,F,o.submitted&&o.f.nbr_enfant.errors)))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,q.OP,S.G,g.X$]}),i})();function fn(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Zn(i,r){1&i&&e._UZ(0,"span",75)}function bn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function vn(i,r){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,bn,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}function An(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function Tn(i,r){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,An,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function Sn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function qn(i,r){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Sn,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function Cn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function wn(i,r){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Cn,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function xn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function yn(i,r){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,xn,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}const Un=function(){return["/rh/commissaires"]},L=function(i){return{"is-invalid":i}};let In=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.route=d,this.toastrService=u,this.translateService=p,this.listBureau=[],this.listCommissaire=[],this.nom="",this.codeagent="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.editcommissairecontrolForm=new n.cw({codeAgent:new n.NI(""),bureauId:new n.NI(""),casier_judiciaire:new n.NI(""),nom:new n.NI(""),prenom:new n.NI(""),telephone:new n.NI(""),date_naiss:new n.NI(""),lieu_naiss:new n.NI(""),piece:new n.NI(""),num_piece:new n.NI(""),grade:new n.NI(""),situation_matrimonial:new n.NI(""),ethnie:new n.NI(""),religion:new n.NI(""),maladie_exist:new n.NI(""),nbr_enfant:new n.NI(""),genre:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editcommissairecontrolForm=this.fb.group({codeAgent:["",n.kI.required],bureauId:["",n.kI.required],casier_judiciaire:["",n.kI.required],nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:[""],lieu_naiss:[""],piece:[""],num_piece:[""],grade:["",n.kI.required],situation_matrimonial:[""],ethnie:[""],religion:[""],maladie_exist:[""],nbr_enfant:[],genre:["",n.kI.required]})}get f(){return this.editcommissairecontrolForm.controls}ngOnInit(){this.getAllBureau();const t=this.route.snapshot.paramMap.get("id");this.managerService.singleCommissaire(t).subscribe(o=>{console.log(o.nom),this.editcommissairecontrolForm.patchValue({codeAgent:o.codeAgent,bureauId:o.bureauId,casier_judiciaire:o.casier_judiciaire,nom:o.nom,prenom:o.prenom,telephone:o.telephone,date_naiss:o.date_naiss,lieu_naiss:o.lieu_naiss,piece:o.piece,num_piece:o.num_piece,grade:o.grade,situation_matrimonial:o.situation_matrimonial,ethnie:o.ethnie,religion:o.religion,maladie_exist:o.maladie_exist,nbr_enfant:o.nbr_enfant,genre:o.genre})}),this.dropdownSettings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}onSubmit(){if(this.submitted=!0,console.log(this.editcommissairecontrolForm.value),this.editcommissairecontrolForm?.invalid)return;this.buttonloading=!0;const t={codeAgent:this.editcommissairecontrolForm.value.codeAgent,casier_judiciaire:this.editcommissairecontrolForm.value.casier_judiciaire,nom:this.editcommissairecontrolForm.value.nom,prenom:this.editcommissairecontrolForm.value.prenom,telephone:this.editcommissairecontrolForm.value.telephone,date_naiss:this.editcommissairecontrolForm.value.date_naiss,lieu_naiss:this.editcommissairecontrolForm.value.lieu_naiss,piece:this.editcommissairecontrolForm.value.piece,num_piece:this.editcommissairecontrolForm.value.num_piece,grade:this.editcommissairecontrolForm.value.grade,genre:this.editcommissairecontrolForm.value.genre,situation_matrimonial:this.editcommissairecontrolForm.value.situation_matrimonial,ethnie:this.editcommissairecontrolForm.value.ethnie,religion:this.editcommissairecontrolForm.value.religion,maladie_exist:this.editcommissairecontrolForm.value.maladie_exist,nbr_enfant:this.editcommissairecontrolForm.value.nbr_enfant,bureauId:this.editcommissairecontrolForm.value.bureauId,fullnamemanager:`${this.editcommissairecontrolForm.value.nom} ${this.editcommissairecontrolForm.value.prenom}`},o=this.route.snapshot.paramMap.get("id");this.managerService.updateCommissaire(o,t).subscribe({next:a=>{console.log(a),this.toastrService.success(`Le commissaire ${a.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,this.router.navigate(["/rh/commissaires"]))},error:a=>{console.log(a),this.toastrService.error(a.error.message),this.buttonloading=!1}})}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllCommissaire(){this.managerService.getAllCommissaires().subscribe({next:t=>{this.listCommissaire=t,console.log("commissaire",this.listCommissaire),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.editcommissairecontrolForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editcommissairecontrolForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onDeletecommissaire(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.managerService.removeManager(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}generateAgentCode(){const o=("00"+(Math.floor(99*Math.random())+1)).slice(-3);this.codeagent=`Agent${o}`,this.editcommissairecontrolForm.get("codeAgent")?.setValue(this.codeagent)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(x.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(m.gz),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-commissair-de-control"]],decls:257,vars:89,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-md-4","col-lg-4","col-xs-4"],[1,"mb-3"],[1,"col-md-6"],["for","bureauId"],[2,"color","red"],[1,"col-md-9"],["formControlName","bureauId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","codeAgent"],["type","text","formControlName","codeAgent","id","codeAgent",1,"form-control"],["for","casier_judiciaire"],["type","text","formControlName","casier_judiciaire","id","casier_judiciaire",1,"form-control"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],["for","nom"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Manager"],["value","HCEF"],["value","Assistant Manager"],["value","Gestionnaire"],["value","Manager Superviseur de Zone"],["value","Manager Chef de section"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3," Modification de commissaire de contr\xf4le "),e.qZA(),e.TgZ(4,"a",3),e._uU(5,"back"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"button",9),e.YNc(12,fn,3,3,"ng-container",10),e.YNc(13,Zn,1,0,"span",11),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",12),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",13)(20,"div",6)(21,"div",14)(22,"div",15)(23,"div",16)(24,"label",17),e._uU(25,"Selectionner les bureaux d'action"),e.TgZ(26,"span",18),e._uU(27,"*"),e.qZA()()(),e.TgZ(28,"div",19)(29,"ng-multiselect-dropdown",20),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(30,vn,2,1,"div",21),e.qZA()()(),e.TgZ(31,"div",14)(32,"div",15)(33,"div",7)(34,"label",22),e._uU(35,"Code Agent"),e.TgZ(36,"span",18),e._uU(37,"*"),e.qZA()()(),e.TgZ(38,"div",7),e._UZ(39,"input",23),e.qZA()()(),e.TgZ(40,"div",14)(41,"div",15)(42,"div",7)(43,"label",24),e._uU(44,"Casier judiciaire"),e.TgZ(45,"span",18),e._uU(46,"*"),e.qZA()()(),e.TgZ(47,"div",7),e._UZ(48,"input",25),e.qZA()()()(),e.TgZ(49,"div",6),e._UZ(50,"br")(51,"br"),e.TgZ(52,"div",26)(53,"div",27)(54,"div",15)(55,"div",7)(56,"label",28),e._uU(57),e.ALo(58,"translate"),e.TgZ(59,"span",18),e._uU(60,"*"),e.qZA()()(),e.TgZ(61,"div",7),e._UZ(62,"input",29),e.YNc(63,Tn,2,1,"div",21),e.qZA()()()(),e.TgZ(64,"div",26)(65,"div",27)(66,"div",15)(67,"div",16)(68,"label",30),e._uU(69),e.ALo(70,"translate"),e.TgZ(71,"span",18),e._uU(72,"*"),e.qZA()()(),e.TgZ(73,"div",7),e._UZ(74,"input",31),e.YNc(75,qn,2,1,"div",21),e.qZA()()()(),e.TgZ(76,"div",26)(77,"div",27)(78,"div",15)(79,"div",16)(80,"label",28),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",18),e._uU(84,"*"),e.qZA()()(),e.TgZ(85,"div",7),e._UZ(86,"input",32),e.YNc(87,wn,2,1,"div",21),e.qZA()()()(),e.TgZ(88,"div",26)(89,"div",27)(90,"div",15)(91,"div",16)(92,"label",33),e._uU(93),e.ALo(94,"translate"),e.TgZ(95,"span",18),e._uU(96,"*"),e.qZA()()(),e.TgZ(97,"div",7)(98,"select",34)(99,"option",35),e._uU(100,"Feminin"),e.qZA(),e.TgZ(101,"option",36),e._uU(102,"Masculin"),e.qZA()(),e.YNc(103,yn,2,1,"div",21),e.qZA()()()()(),e.TgZ(104,"div",6),e._UZ(105,"br")(106,"br"),e.TgZ(107,"div",37)(108,"div",27)(109,"div",15)(110,"div",7)(111,"label",38),e._uU(112),e.ALo(113,"translate"),e.TgZ(114,"span",18),e._uU(115,"*"),e.qZA()()(),e.TgZ(116,"div",7),e._UZ(117,"input",39),e.qZA()()()(),e.TgZ(118,"div",37)(119,"div",27)(120,"div",15)(121,"div",7)(122,"label",40),e._uU(123),e.ALo(124,"translate"),e.TgZ(125,"span",18),e._uU(126,"*"),e.qZA()()(),e.TgZ(127,"div",7),e._UZ(128,"input",41),e.qZA()()()(),e.TgZ(129,"div",37)(130,"div",27)(131,"div",15)(132,"div",7)(133,"label",42),e._uU(134),e.ALo(135,"translate"),e.TgZ(136,"span",18),e._uU(137,"*"),e.qZA()()(),e.TgZ(138,"div",7)(139,"select",43)(140,"option",44),e._uU(141,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(142,"option",45),e._uU(143,"attestation d'identit\xe9"),e.qZA(),e.TgZ(144,"option",46),e._uU(145,"passeport"),e.qZA(),e.TgZ(146,"option",47),e._uU(147,"recepisse"),e.qZA(),e.TgZ(148,"option",48),e._uU(149,"carte consulaire"),e.qZA(),e.TgZ(150,"option",49),e._uU(151,"carte de s\xe9jour"),e.qZA(),e.TgZ(152,"option",50),e._uU(153,"permis de conduire"),e.qZA(),e.TgZ(154,"option",51),e._uU(155,"aucune pi\xe8ce"),e.qZA()()()()()()(),e.TgZ(156,"div",6),e._UZ(157,"br")(158,"br"),e.TgZ(159,"div",26)(160,"div",27)(161,"div",15)(162,"div",7)(163,"label",52),e._uU(164),e.ALo(165,"translate"),e.TgZ(166,"span",18),e._uU(167,"*"),e.qZA()()(),e.TgZ(168,"div",7),e._UZ(169,"input",53),e.qZA()()()(),e.TgZ(170,"div",37)(171,"div",27)(172,"div",15)(173,"div",7)(174,"label",54),e._uU(175),e.ALo(176,"translate"),e.TgZ(177,"span",18),e._uU(178,"*"),e.qZA()()(),e.TgZ(179,"div",7)(180,"select",55)(181,"option",56),e._uU(182,"mari\xe9"),e.qZA(),e.TgZ(183,"option",57),e._uU(184,"celibataire"),e.qZA(),e.TgZ(185,"option",58),e._uU(186,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(187,"div",37)(188,"div",27)(189,"div",15)(190,"div",7)(191,"label",59),e._uU(192),e.ALo(193,"translate"),e.TgZ(194,"span",18),e._uU(195,"*"),e.qZA()()(),e.TgZ(196,"div",7)(197,"select",60)(198,"option",61),e._uU(199,"Manager"),e.qZA(),e.TgZ(200,"option",62),e._uU(201,"HCEF"),e.qZA(),e.TgZ(202,"option",63),e._uU(203,"Assistant Manager"),e.qZA(),e.TgZ(204,"option",64),e._uU(205,"Gestionnaire"),e.qZA(),e.TgZ(206,"option",65),e._uU(207,"Manager Superviseur de Zone"),e.qZA(),e.TgZ(208,"option",66),e._uU(209,"Manager Chef de section"),e.qZA()()()()()()(),e.TgZ(210,"div",6),e._UZ(211,"br")(212,"br"),e.TgZ(213,"div",26)(214,"div",27)(215,"div",15)(216,"div",7)(217,"label",67),e._uU(218),e.ALo(219,"translate"),e.TgZ(220,"span",18),e._uU(221,"*"),e.qZA()()(),e.TgZ(222,"div",7),e._UZ(223,"input",68),e.qZA()()()(),e.TgZ(224,"div",26)(225,"div",27)(226,"div",15)(227,"div",7)(228,"label",69),e._uU(229),e.ALo(230,"translate"),e.TgZ(231,"span",18),e._uU(232,"*"),e.qZA()()(),e.TgZ(233,"div",7),e._UZ(234,"input",70),e.qZA()()()(),e.TgZ(235,"div",26)(236,"div",27)(237,"div",15)(238,"div",7)(239,"label",71),e._uU(240),e.ALo(241,"translate"),e.TgZ(242,"span",18),e._uU(243,"*"),e.qZA()()(),e.TgZ(244,"div",7),e._UZ(245,"input",72),e.qZA()()()(),e.TgZ(246,"div",26)(247,"div",27)(248,"div",15)(249,"div",7)(250,"label",73),e._uU(251),e.ALo(252,"translate"),e.TgZ(253,"span",18),e._uU(254,"*"),e.qZA()()(),e.TgZ(255,"div",7),e._UZ(256,"input",74),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink",e.DdM(68,Un)),e.xp6(6),e.Q6J("formGroup",o.editcommissairecontrolForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,38,"Annuler")),e.xp6(13),e.Q6J("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(27),e.hij("",e.lcZ(58,40,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(69,L,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(70,42,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(71,L,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(82,44,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(73,L,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(94,46,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(75,L,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(113,48,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(77,L,o.submitted&&o.f.date_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(124,50,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(79,L,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(135,52,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(81,L,o.submitted&&o.f.piece.errors)),e.xp6(25),e.Oqu(e.lcZ(165,54,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(176,56,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(193,58,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(83,L,o.submitted&&o.f.grade.errors)),e.xp6(21),e.Oqu(e.lcZ(219,60,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(230,62,"Religion")),e.xp6(11),e.Oqu(e.lcZ(241,64,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(85,L,o.submitted&&o.f.maladie_exist.errors)),e.xp6(6),e.Oqu(e.lcZ(252,66,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(87,L,o.submitted&&o.f.nbr_enfant.errors)))},dependencies:[c.mk,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,q.OP,g.X$]}),i})();const X=function(i){return["/rh/liste-ca-par-zone",i]};function Fn(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td",9)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10)(5,"a",11),e._UZ(6,"i",12),e.qZA(),e._uU(7,"\xa0 "),e.qZA()()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,X,t._id)),e.xp6(2),e.Oqu(t.zone_name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,X,t._id))}}let Ln=(()=>{class i{constructor(t,o,a,s,l,d){this.agenceService=t,this.zoneService=o,this.router=a,this.http=s,this.toastrService=l,this.translateService=d,this.listCountry=[],this.listZone=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllZone(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listZone)},error:t=>{console.log(t),this.loading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(v.T),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ca-zone"]],decls:20,vars:9,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"hover",3,"routerLink"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Rendements des zone"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"h6",4),e._uU(6,"Listes des zones"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"thead")(11,"tr")(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,Fn,8,7,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(9),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(14,5,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(17,7,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listZone))},dependencies:[c.sg,m.rH,S.G,g.X$]}),i})(),On=(()=>{class i{constructor(){this.moisOrdre=["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"]}transform(t){return t&&0!==t.length?t.sort((o,a)=>this.moisOrdre.indexOf(o)-this.moisOrdre.indexOf(a)):t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"orderByMois",type:i,pure:!0}),i})();function Dn(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",9)(4,"div"),e._uU(5),e.qZA()()()),2&i){const t=r.$implicit,o=e.oxw().$implicit,a=e.oxw();e.xp6(2),e.AsE("",t," ",o,""),e.xp6(3),e.Oqu(a.listCaZone[o][t])}}function Nn(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Dn,6,3,"tr",8),e.ALo(2,"orderByMois"),e.BQk()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,o.getMoisKeys(o.listCaZone[t])))}}const Mn=[{path:"",component:W},{path:"manager",component:ge},{path:"edit-manager/:id",component:Vo},{path:"detail-manager/:id",component:$o},{path:"affectation",component:Ze},{path:"mission",component:Ie},{path:"country",component:Ye},{path:"bureau",component:Zt},{path:"employers",component:lt},{path:"zone",component:It},{path:"section",component:Et},{path:"conge",component:oo},{path:"superviseur-zone",component:lo},{path:"chef-section",component:ho},{path:"zone-pays/:id",component:vo},{path:"detail-zone/:id",component:So},{path:"edit-bureau/:id",component:ii},{path:"edit-zone/:id",component:ci},{path:"rendement-bureau",component:hi},{path:"list-salaire-du-bureau/:id",component:fi},{path:"liste-ca-zone/:id",component:Ai},{path:"liste-ca-section/:id",component:qi},{path:"stock-bureau/:id",component:Ii},{path:"localisation-bureau",component:Ki},{path:"modification-localisation-bureau/:id",component:Wi},{path:"commissaires",component:_n},{path:"edit-commissaire/:id",component:In},{path:"liste-zone-pour-ca",component:Ln},{path:"liste-ca-par-zone/:id",component:(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.zoneService=o,this.router=a,this.http=s,this.route=l,this.toastrService=d,this.translateService=u,this.listCaZone={},this.nom="",this.dtOptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage";const p=localStorage.getItem(this.keyLanguage);p&&this.translateService.use(p)}ngOnInit(){this.getAllCaZone();const t=this.route.snapshot.paramMap.get("id");this.zoneService.getsingleZone(t).subscribe(o=>{this.nom=o.zone_name}),this.dtOptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}ngOnDestroy(){this.dtTrigger.unsubscribe()}getAllCaZone(){const t=this.route.snapshot.paramMap.get("id");t?this.zoneService.getAllCaByZoneId(t).subscribe({next:o=>{const a=o.reduce((s,l)=>{const d=l.mois.valueMois,u=l.annee.value,p=l.cazone;return s[u]||(s[u]={}),(!s[u][d]||p>s[u][d])&&(s[u][d]=p),s},{});this.listCaZone=a,console.log("Valeurs maximales de cazone par mois et par ann\xe9e :",a),this.dtTrigger.next(null)},error:o=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es :",o),this.toastrService.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es.")}}):this.toastrService.error("ID invalide ou manquant")}getAnneeKeys(t){return Object.keys(t)}getMoisKeys(t){return Object.keys(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(v.T),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(m.gz),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ca-by-zone"]],decls:18,vars:4,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Rendements des zones"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"h6",4),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"thead")(11,"tr")(12,"th"),e._uU(13,"Mois"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Chiffre d'affaire"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,Nn,3,3,"ng-container",8),e.qZA()()()()()()),2&t&&(e.xp6(6),e.hij("Liste des rendements de la zone ",o.nom,""),e.xp6(3),e.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),e.xp6(8),e.Q6J("ngForOf",o.getAnneeKeys(o.listCaZone)))},dependencies:[c.sg,S.G,On]}),i})()}];let Jn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(Mn),m.Bz]}),i})();var Yn=_(1744);function H(i){return new Yn.w(i,"./assets/i18n/",".json")}let kn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.ez,Jn,n.UX,n.u5,q.ZQ,S.T.forRoot(),g.aw.forRoot({defaultLanguage:"en",loader:{provide:g.Zw,useFactory:H,deps:[Z.eN]}})]}),i})()}}]);