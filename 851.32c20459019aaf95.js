"use strict";(self.webpackChunktswgestion=self.webpackChunktswgestion||[]).push([[851],{7729:(k,U,h)=>{h.d(U,{T:()=>m});var l=h(2177),p=h(4650),e=h(529);let m=(()=>{class I{constructor(c){this.http=c}registerCountry(c){return this.http.post(l.k.CREATE_COUNTRY,c)}updateCountry(c,Z){return this.http.patch(l.k.UPDATE_COUNTRY+c,Z)}getAllCountries(){return this.http.get(l.k.ALL_COUNTRY)}getAllCountriesciv(){return this.http.get(l.k.ALL_COUNTRY_CIV)}getSingleCountry(c){return this.http.get(l.k.GET_SINGLE_COUNTRY+c)}removeCountry(c){return this.http.delete(l.k.DELETED_COUNTRY+c)}registerZone(c){return this.http.post(l.k.CREATE_ZONE,c)}getsingleZone(c){return this.http.get(l.k.GET_SINGLE_ZONE_FOR_EDIT+c)}updateZone(c,Z){return this.http.patch(l.k.UPDATE_ZONE+c,Z)}getAllZones(){return this.http.get(l.k.ALL_ZONE)}getAllZonesByCountry(c){return this.http.get(l.k.ALL_ZONE_BY_COUNTRY+c)}removeZone(c){return this.http.delete(l.k.DELETED_ZONE+c)}registerSection(c){return this.http.post(l.k.CREATE_SECTION,c)}getsingleSection(c){return this.http.get(l.k.GET_SECTION+c)}updateSection(c,Z){return this.http.patch(l.k.UPDATE_SECTION+c,Z)}getAllSections(){return this.http.get(l.k.ALL_SECTION)}getAllSectionsByZone(c){return this.http.get(l.k.ALL_SECTION_BY_ZONE+c)}getAllZonesCa(){return this.http.get(l.k.GET_ZONE_CA)}getAllSectionCa(c){return this.http.get(l.k.GET_SECTION_CA+c)}getAllSectionCaBymois(c){return this.http.post(l.k.GET_SECTION_CA_BY_ANNEE,c)}removeSection(c){return this.http.delete(l.k.DELETED_SECTION+c)}}return I.\u0275fac=function(c){return new(c||I)(p.LFG(e.eN))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},2139:(k,U,h)=>{h.r(U),h.d(U,{RhModule:()=>dn,createTranslateLoader:()=>K});var l=h(6895),p=h(3053),e=h(4650),m=h(1364);let I=(()=>{class n{constructor(t){this.translateService=t,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-rh"]],decls:127,vars:36,consts:[[1,"container-fluid"],[1,"d-sm-flex","align-items-center","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"row"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","border-left-info","border-bottom-info","shadow","h-100","py-2"],["routerLink","/rh/country",1,"btn"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-info","text-uppercase","mb-1"],[1,"col-auto"],[1,"fas","fa-clipboard-list","fa-2x","text-gray-300"],[1,"card","border-left-primary","border-bottom-primary","shadow","h-100","py-2"],["routerLink","/rh/zone",1,"btn"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"fas","fa-calendar","fa-2x","text-gray-300"],[1,"card","border-left-danger","border-bottom-danger","shadow","h-100","py-2"],["routerLink","/rh/section",1,"btn"],[1,"text-xs","font-weight-bold","text-danger","text-uppercase","mb-1"],[1,"card","border-left-dark","border-bottom-dark","shadow","h-100","py-2"],["routerLink","/rh/bureau",1,"btn"],[1,"card","border-left-success","border-bottom-success","shadow","h-100","py-2"],["routerLink","/rh/manager",1,"btn"],[1,"text-xs","font-weight-bold","text-success","text-uppercase","mb-1"],[1,"fas","fa-persons","fa-2x","text-gray-300"],[1,"card","border-left-warning","border-bottom-warning","shadow","h-100","py-2"],["routerLink","/rh/affectation",1,"btn"],[1,"text-xs","font-weight-bold","text-warning","text-uppercase","mb-1"],[1,"fas","fa-comments","fa-2x","text-gray-300"],[1,"card","border-left-secondary","border-bottom-secondary","shadow","h-100","py-2"],["routerLink","/rh/mission",1,"btn"],["routerLink","/rh/employers",1,"btn"],[1,"fas","fa-person","fa-2x","text-gray-300"],["routerLink","/rh/conge",1,"btn"],["routerLink","/rh/superviseur-zone",1,"btn"],[1,"text-xs","font-weight-bold","text-secondary","text-uppercase","mb-1"],["routerLink","/rh/chef-section",1,"btn"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",11),e._UZ(16,"i",12),e.qZA()()()()()(),e.TgZ(17,"div",4)(18,"div",13)(19,"a",14)(20,"div",7)(21,"div",8)(22,"div",9)(23,"div",15),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",11),e._UZ(27,"i",16),e.qZA()()()()()(),e.TgZ(28,"div",4)(29,"div",17)(30,"a",18)(31,"div",7)(32,"div",8)(33,"div",9)(34,"div",19),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",11),e._UZ(38,"i",16),e.qZA()()()()()(),e.TgZ(39,"div",4)(40,"div",20)(41,"a",21)(42,"div",7)(43,"div",8)(44,"div",9)(45,"div",15),e._uU(46),e.ALo(47,"translate"),e.qZA()(),e.TgZ(48,"div",11),e._UZ(49,"i",16),e.qZA()()()()()(),e.TgZ(50,"div",4)(51,"div",22)(52,"a",23)(53,"div",7)(54,"div",8)(55,"div",9)(56,"div",24),e._uU(57),e.ALo(58,"translate"),e.qZA()(),e.TgZ(59,"div",11),e._UZ(60,"i",25),e.qZA()()()()()(),e.TgZ(61,"div",4)(62,"div",26)(63,"a",27)(64,"div",7)(65,"div",8)(66,"div",9)(67,"div",28),e._uU(68),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"div",11),e._UZ(71,"i",29),e.qZA()()()()()(),e.TgZ(72,"div",4)(73,"div",30)(74,"a",31)(75,"div",7)(76,"div",8)(77,"div",9)(78,"div",28),e._uU(79),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",11),e._UZ(82,"i",29),e.qZA()()()()()(),e.TgZ(83,"div",4)(84,"div",17)(85,"a",32)(86,"div",7)(87,"div",8)(88,"div",9)(89,"div",19),e._uU(90),e.ALo(91,"translate"),e.qZA()(),e.TgZ(92,"div",11),e._UZ(93,"i",33),e.qZA()()()()()(),e.TgZ(94,"div",4)(95,"div",5)(96,"a",34)(97,"div",7)(98,"div",8)(99,"div",9)(100,"div",10),e._uU(101),e.ALo(102,"translate"),e.qZA()(),e.TgZ(103,"div",11),e._UZ(104,"i",12),e.qZA()()()()()(),e.TgZ(105,"div",4)(106,"div",30)(107,"a",35)(108,"div",7)(109,"div",8)(110,"div",9)(111,"div",36),e._uU(112),e.ALo(113,"translate"),e.qZA()(),e.TgZ(114,"div",11),e._UZ(115,"i",29),e.qZA()()()()()(),e.TgZ(116,"div",4)(117,"div",17)(118,"a",37)(119,"div",7)(120,"div",8)(121,"div",9)(122,"div",19),e._uU(123),e.ALo(124,"translate"),e.qZA()(),e.TgZ(125,"div",11),e._UZ(126,"i",29),e.qZA()()()()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,12,"RhManangement")),e.xp6(10),e.hij("",e.lcZ(14,14,"GestionPays")," "),e.xp6(11),e.hij(" ",e.lcZ(25,16,"GestionZone"),""),e.xp6(11),e.hij(" ",e.lcZ(36,18,"GestionSection"),""),e.xp6(11),e.hij(" ",e.lcZ(47,20,"GestionBureau"),""),e.xp6(11),e.hij(" ",e.lcZ(58,22,"GestionManagers"),""),e.xp6(11),e.hij(" ",e.lcZ(69,24,"ManageAffectation"),""),e.xp6(11),e.hij(" ",e.lcZ(80,26,"gestionMission"),""),e.xp6(11),e.hij(" ",e.lcZ(91,28,"gestionEmployer"),""),e.xp6(11),e.hij("",e.lcZ(102,30,"GestionConge")," "),e.xp6(11),e.hij(" ",e.lcZ(113,32,"gestionSuperviseur"),""),e.xp6(11),e.hij(" ",e.lcZ(124,34,"gestionChefSection"),""))},dependencies:[p.rH,m.X$]}),n})();var i=h(4006),c=h(7579),Z=h(4508),F=h(2217),A=h(529),b=h(7185),T=h(5415);const q=function(n){return["/rh/detail-manager",n]},V=function(n){return["/rh/edit-manager",n]};function P(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",79)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",80)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",80)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",80)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",80)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",80)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",80)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",80)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td",80)(26,"div"),e._uU(27),e.qZA()(),e.TgZ(28,"td",80)(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"td",81)(32,"div"),e._uU(33),e.qZA()(),e.TgZ(34,"td",80)(35,"div"),e._uU(36),e.qZA()(),e.TgZ(37,"td",80)(38,"div"),e._uU(39),e.qZA()(),e.TgZ(40,"td",80)(41,"span",82),e._uU(42),e.qZA()(),e.TgZ(43,"td")(44,"div")(45,"a",83),e._UZ(46,"i",84),e.qZA(),e._uU(47,"\xa0 "),e.TgZ(48,"a",83),e._UZ(49,"i",85),e.qZA(),e._uU(50,"\xa0 "),e.TgZ(51,"a",86),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onDeleteManager(a._id))}),e._UZ(52,"i",87),e.qZA()(),e._UZ(53,"div"),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(30,q,t._id)),e.xp6(2),e.AsE("",t.nom," ",t.prenom,""),e.xp6(1),e.Q6J("routerLink",e.VKq(32,q,t._id)),e.xp6(2),e.Oqu(t.telephone),e.xp6(1),e.Q6J("routerLink",e.VKq(34,q,t._id)),e.xp6(2),e.Oqu(t.date_naiss),e.xp6(1),e.Q6J("routerLink",e.VKq(36,q,t._id)),e.xp6(2),e.Oqu(t.lieu_naiss),e.xp6(1),e.Q6J("routerLink",e.VKq(38,q,t._id)),e.xp6(2),e.Oqu(t.piece),e.xp6(1),e.Q6J("routerLink",e.VKq(40,q,t._id)),e.xp6(2),e.Oqu(t.num_piece),e.xp6(1),e.Q6J("routerLink",e.VKq(42,q,t._id)),e.xp6(2),e.Oqu(t.genre),e.xp6(1),e.Q6J("routerLink",e.VKq(44,q,t._id)),e.xp6(2),e.Oqu(t.situation_matrimonial),e.xp6(1),e.Q6J("routerLink",e.VKq(46,q,t._id)),e.xp6(2),e.Oqu(t.grade),e.xp6(1),e.Q6J("routerLink",e.VKq(48,q,t._id)),e.xp6(2),e.Oqu(t.ethnie),e.xp6(3),e.Oqu(t.religion),e.xp6(1),e.Q6J("routerLink",e.VKq(50,q,t._id)),e.xp6(2),e.Oqu(t.maladie_exist),e.xp6(1),e.Q6J("routerLink",e.VKq(52,q,t._id)),e.xp6(2),e.Oqu(t.nbr_enfant),e.xp6(1),e.Q6J("routerLink",e.VKq(54,q,t._id)),e.xp6(2),e.Oqu(t.status_mgr),e.xp6(3),e.Q6J("routerLink",e.VKq(56,q,t._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(58,V,t._id))}}function $(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function R(n,r){1&n&&e._UZ(0,"span",88)}function X(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function H(n,r){if(1&n&&(e.TgZ(0,"div",89),e.YNc(1,X,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function W(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function ee(n,r){if(1&n&&(e.TgZ(0,"div",89),e.YNc(1,W,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function te(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function oe(n,r){if(1&n&&(e.TgZ(0,"div",89),e.YNc(1,te,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function ne(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function ie(n,r){if(1&n&&(e.TgZ(0,"div",89),e.YNc(1,ne,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}const w=function(n){return{"is-invalid":n}};let re=(()=>{class n{constructor(t,o,s,a,d,u,g){this.agenceService=t,this.managerService=o,this.fb=s,this.router=a,this.http=d,this.toastrService=u,this.translateService=g,this.listBureau=[],this.listManager=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new c.x,this.keyLanguage="userLanguage",this.managerForm=new i.cw({nom:new i.NI(""),prenom:new i.NI(""),telephone:new i.NI(""),date_naiss:new i.NI(""),lieu_naiss:new i.NI(""),piece:new i.NI(""),num_piece:new i.NI(""),grade:new i.NI(""),situation_matrimonial:new i.NI(""),ethnie:new i.NI(""),religion:new i.NI(""),maladie_exist:new i.NI(""),nbr_enfant:new i.NI(""),genre:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.managerForm=this.fb.group({nom:["",i.kI.required],prenom:["",i.kI.required],telephone:["",i.kI.required],date_naiss:[""],lieu_naiss:[""],piece:[""],num_piece:[""],grade:["",i.kI.required],situation_matrimonial:[""],ethnie:[""],religion:[""],maladie_exist:[""],nbr_enfant:[],genre:["",i.kI.required]})}get f(){return this.managerForm.controls}ngOnInit(){this.getAllBureau(),this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}onSubmit(){if(this.submitted=!0,console.log(this.managerForm.value),this.managerForm?.invalid)return;this.buttonloading=!0;const t={nom:this.managerForm.value.nom,prenom:this.managerForm.value.prenom,telephone:this.managerForm.value.telephone,date_naiss:this.managerForm.value.date_naiss,lieu_naiss:this.managerForm.value.lieu_naiss,piece:this.managerForm.value.piece,num_piece:this.managerForm.value.num_piece,grade:this.managerForm.value.grade,genre:this.managerForm.value.genre,situation_matrimonial:this.managerForm.value.situation_matrimonial,ethnie:this.managerForm.value.ethnie,religion:this.managerForm.value.religion,maladie_exist:this.managerForm.value.maladie_exist,nbr_enfant:this.managerForm.value.nbr_enfant,fullnamemanager:`${this.managerForm.value.nom} ${this.managerForm.value.prenom}`};console.log("form data",t),this.managerService.registerManager(t).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le manager ${o.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,window.location.reload())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}})}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagers().subscribe({next:t=>{this.listManager=t,console.log(this.listManager),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteManager(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.managerService.removeManager(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onUpdateManager(t){this.managerService.singleManager(t).subscribe(o=>{console.log(o)})}onSubmitUpdate(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(F.b),e.Y36(i.qu),e.Y36(p.F0),e.Y36(A.eN),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manager"]],decls:292,vars:140,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addManagerModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addManagerModal","tabindex","-1","aria-labelledby","addManagerModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addManagerModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Manager"],["value","HCEF"],["value","Assistant Manager"],["value","Gestionnaire"],["value","Manager Superviseur de Zone"],["value","Manager Chef de section"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[3,"routerLink"],[1,"text-center",3,"routerLink"],[1,"text-center"],[1,"badge","badge-success"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"th"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"th"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"th"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"th"),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"th"),e._uU(59),e.ALo(60,"translate"),e.qZA()()(),e.TgZ(61,"tbody"),e.YNc(62,P,54,60,"tr",10),e.qZA()()()()()(),e.TgZ(63,"div",11)(64,"div",12)(65,"div",13)(66,"div",14)(67,"h3",15),e._uU(68),e.ALo(69,"translate"),e.qZA(),e._UZ(70,"button",16),e.qZA(),e.TgZ(71,"div",17)(72,"div",18)(73,"div",19)(74,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(75,"button",21),e.YNc(76,$,3,3,"ng-container",22),e.YNc(77,R,1,0,"span",23),e.qZA(),e._uU(78,"\xa0 "),e.TgZ(79,"button",24),e._uU(80),e.ALo(81,"translate"),e.qZA(),e._UZ(82,"br"),e.TgZ(83,"div",25)(84,"div",18),e._UZ(85,"br")(86,"br"),e.TgZ(87,"div",26)(88,"div",27)(89,"div",28)(90,"div",19)(91,"label",29),e._uU(92),e.ALo(93,"translate"),e.TgZ(94,"span",30),e._uU(95,"*"),e.qZA()()(),e.TgZ(96,"div",19),e._UZ(97,"input",31),e.YNc(98,H,2,1,"div",32),e.qZA()()()(),e.TgZ(99,"div",26)(100,"div",27)(101,"div",28)(102,"div",33)(103,"label",34),e._uU(104),e.ALo(105,"translate"),e.TgZ(106,"span",30),e._uU(107,"*"),e.qZA()()(),e.TgZ(108,"div",19),e._UZ(109,"input",35),e.YNc(110,ee,2,1,"div",32),e.qZA()()()(),e.TgZ(111,"div",26)(112,"div",27)(113,"div",28)(114,"div",33)(115,"label",29),e._uU(116),e.ALo(117,"translate"),e.TgZ(118,"span",30),e._uU(119,"*"),e.qZA()()(),e.TgZ(120,"div",19),e._UZ(121,"input",36),e.YNc(122,oe,2,1,"div",32),e.qZA()()()(),e.TgZ(123,"div",26)(124,"div",27)(125,"div",28)(126,"div",33)(127,"label",37),e._uU(128),e.ALo(129,"translate"),e.TgZ(130,"span",30),e._uU(131,"*"),e.qZA()()(),e.TgZ(132,"div",19)(133,"select",38)(134,"option",39),e._uU(135,"Feminin"),e.qZA(),e.TgZ(136,"option",40),e._uU(137,"Masculin"),e.qZA()(),e.YNc(138,ie,2,1,"div",32),e.qZA()()()()(),e.TgZ(139,"div",18),e._UZ(140,"br")(141,"br"),e.TgZ(142,"div",41)(143,"div",27)(144,"div",28)(145,"div",19)(146,"label",42),e._uU(147),e.ALo(148,"translate"),e.TgZ(149,"span",30),e._uU(150,"*"),e.qZA()()(),e.TgZ(151,"div",19),e._UZ(152,"input",43),e.qZA()()()(),e.TgZ(153,"div",41)(154,"div",27)(155,"div",28)(156,"div",19)(157,"label",44),e._uU(158),e.ALo(159,"translate"),e.TgZ(160,"span",30),e._uU(161,"*"),e.qZA()()(),e.TgZ(162,"div",19),e._UZ(163,"input",45),e.qZA()()()(),e.TgZ(164,"div",41)(165,"div",27)(166,"div",28)(167,"div",19)(168,"label",46),e._uU(169),e.ALo(170,"translate"),e.TgZ(171,"span",30),e._uU(172,"*"),e.qZA()()(),e.TgZ(173,"div",19)(174,"select",47)(175,"option",48),e._uU(176,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(177,"option",49),e._uU(178,"attestation d'identit\xe9"),e.qZA(),e.TgZ(179,"option",50),e._uU(180,"passeport"),e.qZA(),e.TgZ(181,"option",51),e._uU(182,"recepisse"),e.qZA(),e.TgZ(183,"option",52),e._uU(184,"carte consulaire"),e.qZA(),e.TgZ(185,"option",53),e._uU(186,"carte de s\xe9jour"),e.qZA(),e.TgZ(187,"option",54),e._uU(188,"permis de conduire"),e.qZA(),e.TgZ(189,"option",55),e._uU(190,"aucune pi\xe8ce"),e.qZA()()()()()()(),e.TgZ(191,"div",18),e._UZ(192,"br")(193,"br"),e.TgZ(194,"div",26)(195,"div",27)(196,"div",28)(197,"div",19)(198,"label",56),e._uU(199),e.ALo(200,"translate"),e.TgZ(201,"span",30),e._uU(202,"*"),e.qZA()()(),e.TgZ(203,"div",19),e._UZ(204,"input",57),e.qZA()()()(),e.TgZ(205,"div",41)(206,"div",27)(207,"div",28)(208,"div",19)(209,"label",58),e._uU(210),e.ALo(211,"translate"),e.TgZ(212,"span",30),e._uU(213,"*"),e.qZA()()(),e.TgZ(214,"div",19)(215,"select",59)(216,"option",60),e._uU(217,"mari\xe9"),e.qZA(),e.TgZ(218,"option",61),e._uU(219,"celibataire"),e.qZA(),e.TgZ(220,"option",62),e._uU(221,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(222,"div",41)(223,"div",27)(224,"div",28)(225,"div",19)(226,"label",63),e._uU(227),e.ALo(228,"translate"),e.TgZ(229,"span",30),e._uU(230,"*"),e.qZA()()(),e.TgZ(231,"div",19)(232,"select",64)(233,"option",65),e._uU(234,"Manager"),e.qZA(),e.TgZ(235,"option",66),e._uU(236,"HCEF"),e.qZA(),e.TgZ(237,"option",67),e._uU(238,"Assistant Manager"),e.qZA(),e.TgZ(239,"option",68),e._uU(240,"Gestionnaire"),e.qZA(),e.TgZ(241,"option",69),e._uU(242,"Manager Superviseur de Zone"),e.qZA(),e.TgZ(243,"option",70),e._uU(244,"Manager Chef de section"),e.qZA()()()()()()(),e.TgZ(245,"div",18),e._UZ(246,"br")(247,"br"),e.TgZ(248,"div",26)(249,"div",27)(250,"div",28)(251,"div",19)(252,"label",71),e._uU(253),e.ALo(254,"translate"),e.TgZ(255,"span",30),e._uU(256,"*"),e.qZA()()(),e.TgZ(257,"div",19),e._UZ(258,"input",72),e.qZA()()()(),e.TgZ(259,"div",26)(260,"div",27)(261,"div",28)(262,"div",19)(263,"label",73),e._uU(264),e.ALo(265,"translate"),e.TgZ(266,"span",30),e._uU(267,"*"),e.qZA()()(),e.TgZ(268,"div",19),e._UZ(269,"input",74),e.qZA()()()(),e.TgZ(270,"div",26)(271,"div",27)(272,"div",28)(273,"div",19)(274,"label",75),e._uU(275),e.ALo(276,"translate"),e.TgZ(277,"span",30),e._uU(278,"*"),e.qZA()()(),e.TgZ(279,"div",19),e._UZ(280,"input",76),e.qZA()()()(),e.TgZ(281,"div",26)(282,"div",27)(283,"div",28)(284,"div",19)(285,"label",77),e._uU(286),e.ALo(287,"translate"),e.TgZ(288,"span",30),e._uU(289,"*"),e.qZA()()(),e.TgZ(290,"div",19),e._UZ(291,"input",78),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,54,"GestionManagers")),e.xp6(7),e.hij("\xa0",e.lcZ(10,56,"AjouterManager")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,58,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,60,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(24,62,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(27,64,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(30,66,"Piece")),e.xp6(3),e.Oqu(e.lcZ(33,68,"NumeroPiece")),e.xp6(3),e.Oqu(e.lcZ(36,70,"Genre")),e.xp6(3),e.hij("",e.lcZ(39,72,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(42,74,"Grade")," "),e.xp6(3),e.hij("",e.lcZ(45,76,"Ethenie")," "),e.xp6(3),e.hij("",e.lcZ(48,78,"Religion")," "),e.xp6(3),e.Oqu(e.lcZ(51,80,"MaladiEntecedent")),e.xp6(3),e.Oqu(e.lcZ(54,82,"NombreEnfant")),e.xp6(3),e.Oqu(e.lcZ(57,84,"Status")),e.xp6(3),e.Oqu(e.lcZ(60,86,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listManager),e.xp6(6),e.Oqu(e.lcZ(69,88,"AjouterManager")),e.xp6(6),e.Q6J("formGroup",o.managerForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(81,90,"Annuler")),e.xp6(12),e.hij("",e.lcZ(93,92,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(120,w,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(105,94,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(122,w,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(117,96,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(124,w,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(129,98,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(126,w,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(148,100,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(128,w,o.submitted&&o.f.date_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(159,102,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(130,w,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(170,104,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(132,w,o.submitted&&o.f.piece.errors)),e.xp6(25),e.Oqu(e.lcZ(200,106,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(211,108,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(228,110,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(134,w,o.submitted&&o.f.grade.errors)),e.xp6(21),e.Oqu(e.lcZ(254,112,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(265,114,"Religion")),e.xp6(11),e.Oqu(e.lcZ(276,116,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(136,w,o.submitted&&o.f.maladie_exist.errors)),e.xp6(6),e.Oqu(e.lcZ(287,118,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(138,w,o.submitted&&o.f.nbr_enfant.errors)))},dependencies:[l.mk,l.sg,l.O5,p.rH,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u,T.G,m.X$]}),n})();var N=h(473),C=h(3056);function ae(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",36),e._uU(5),e.qZA(),e.TgZ(6,"td",36)(7,"a",37),e._UZ(8,"i",38),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onDeleteAffectation(a._id))}),e._UZ(11,"i",40),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(t.bureauId.bureau_name)}}function se(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function le(n,r){1&n&&e._UZ(0,"span",41)}function de(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BureauObligatoire")))}function ue(n,r){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,de,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}let ce=(()=>{class n{constructor(t,o,s,a,d,u,g,f){this.agenceService=t,this.managerService=o,this.fb=s,this.router=a,this.http=d,this.affectationService=u,this.toastrService=g,this.translateService=f,this.listBureau=[],this.listAffectation=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new c.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.affectationForm=new i.cw({managerId:new i.NI(""),bureauId:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.affectationForm=this.fb.group({managerId:["",i.kI.required],bureauId:["",i.kI.required]})}get f(){return this.affectationForm.controls}ngOnInit(){this.getAllBureau(),this.getAllManager(),this.getAllAffectation(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"fullnamemanager",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,limitSelection:3,allowSearchFilter:this.ShowFilter}}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagersNonAffectes().subscribe({next:t=>{this.listManagers=t,console.log(this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.affectationForm.value),this.affectationForm?.invalid||(this.buttonloading=!0,this.affectationService.registerAffectation({bureauId:this.affectationForm.value.bureauId[0]._id,managerId:this.affectationForm.value.managerId}).subscribe({next:o=>{console.log(o),this.toastrService.success(o.message)&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o.message),this.toastrService.error(o.message),this.buttonloading=!1}}))}getAllAffectation(){this.affectationService.getAllAffectation().subscribe({next:t=>{this.listAffectation=t,console.log(this.listAffectation),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteAffectation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette affectation ?")&&(this.affectationService.removeAffectation(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectationForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectationForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectationForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectationForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(F.b),e.Y36(i.qu),e.Y36(p.F0),e.Y36(A.eN),e.Y36(N.q),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-affectation"]],decls:71,vars:41,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["formControlName","bureauId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,ae,12,3,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,se,3,3,"ng-container",22),e.YNc(41,le,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(a){return o.onItemSelect(a)})("onDeSelect",function(a){return o.onItemDeSelect(a)}),e.qZA(),e.YNc(61,ue,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",34),e._uU(67),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",19)(70,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(a){return o.onItemManagerSelect(a)})("onDeSelect",function(a){return o.onItemManagerDeSelect(a)}),e.qZA()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,23,"ManageAffectation")),e.xp6(7),e.hij("\xa0",e.lcZ(10,25,"AjouterNouvelleAffectation")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,27,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,29,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(24,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listAffectation),e.xp6(6),e.Oqu(e.lcZ(33,33,"AjouterNouvelleAffectation")),e.xp6(6),e.Q6J("formGroup",o.affectationForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,35,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,37,"NomBureau")),e.xp6(5),e.Q6J("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(6),e.hij(" ",e.lcZ(68,39,"choisirManagers"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings))},dependencies:[l.sg,l.O5,i._Y,i.JJ,i.JL,i.sg,i.u,C.OP,T.G,m.X$]}),n})();function ge(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10),e._uU(5),e.qZA(),e.TgZ(6,"td",10),e._uU(7),e.qZA(),e.TgZ(8,"td",10),e._uU(9),e.qZA(),e.TgZ(10,"td",10),e._uU(11),e.qZA(),e.TgZ(12,"td",10),e._uU(13),e.qZA(),e._UZ(14,"td"),e.TgZ(15,"td",10)(16,"a",43),e._UZ(17,"i",44),e.qZA(),e._uU(18,"\xa0 "),e.TgZ(19,"a",45),e._UZ(20,"i",46),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(3),e.AsE("",t.managerId.nom," ",t.managerId.prenom,""),e.xp6(2),e.hij(" ",t.bureauId.telephone," "),e.xp6(2),e.hij(" ",t.tyepe_mission," "),e.xp6(2),e.hij(" ",t.date_depart," "),e.xp6(2),e.hij(" ",t.date_retour," "),e.xp6(2),e.hij(" ",t.bureauId.bureau_name," ")}}function me(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function pe(n,r){1&n&&e._UZ(0,"span",47)}function he(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BureauObligatoire")))}function _e(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,he,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureau.errors.required)}}function fe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DateSortieObligatoire")))}function Ze(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,fe,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_sortie.errors.required)}}function be(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DateSortieObligatoire")))}function ve(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,be,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_sortie.errors.required)}}function Ae(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Se(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Ae,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.type_mission.errors.required)}}const J=function(n){return{"is-invalid":n}};let Te=(()=>{class n{constructor(t,o,s,a,d,u,g,f){this.agenceService=t,this.managerService=o,this.fb=s,this.router=a,this.http=d,this.missionService=u,this.toastrService=g,this.translateService=f,this.listBureau=[],this.listMission=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new c.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.missionForm=new i.cw({managerId:new i.NI(""),bureauId:new i.NI(""),date_depart:new i.NI(""),date_retour:new i.NI(""),type_mission:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.missionForm=this.fb.group({managerId:["",i.kI.required],bureauId:["",i.kI.required],date_depart:["",i.kI.required],date_retour:["",i.kI.required],type_mission:["",i.kI.required]})}get f(){return this.missionForm.controls}ngOnInit(){this.getAllBureau(),this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"nom",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagers().subscribe({next:t=>{this.listManagers=t,console.log(this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.missionForm.value),!this.missionForm?.invalid&&(this.buttonloading=!0,this.missionService.registerMission(this.missionForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success("La mission du manager a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,this.ngOnInit())},error:t=>{console.log(t),this.toastrService.error(t.error),this.buttonloading=!1}}))}getAllMission(){this.missionService.getAllMission().subscribe({next:t=>{this.listMission=t,console.log(this.listMission),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteMission(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette mission ?")&&(this.missionService.removeMission(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.missionForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.missionForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.missionForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.missionForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(F.b),e.Y36(i.qu),e.Y36(p.F0),e.Y36(A.eN),e.Y36(N.q),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-mission"]],decls:117,vars:69,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["formControlName","bureau",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["for","date_sortie"],["type","date","id","date_sortie","formControlName","date_sortie",1,"form-control",3,"ngClass"],["for","type_mission"],["formControlName","type_mission","id","type_mission",1,"form-control",3,"ngClass"],["value","mission de la direction"],["value","mission de  zone"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],["onclick","onDeleteMission(mission._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th",10),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,ge,21,7,"tr",11),e.qZA()()()()()(),e.TgZ(33,"div",12)(34,"div",13)(35,"div",14)(36,"div",15)(37,"h3",16),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"button",17),e.qZA(),e.TgZ(41,"div",18)(42,"div",19)(43,"div",20)(44,"form",21),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(45,"button",22),e.YNc(46,me,3,3,"ng-container",23),e.YNc(47,pe,1,0,"span",24),e.qZA(),e._uU(48,"\xa0 "),e.TgZ(49,"button",25),e._uU(50),e.ALo(51,"translate"),e.qZA(),e._UZ(52,"br"),e.TgZ(53,"div",26)(54,"div",27)(55,"div",19)(56,"div",28)(57,"div",29)(58,"div",30)(59,"div",20)(60,"label",31),e._uU(61),e.ALo(62,"translate"),e.TgZ(63,"span",32),e._uU(64,"*"),e.qZA()()(),e.TgZ(65,"div",20)(66,"ng-multiselect-dropdown",33),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(a){return o.onItemSelect(a)})("onDeSelect",function(a){return o.onItemDeSelect(a)}),e.qZA(),e.YNc(67,_e,2,1,"div",34),e.qZA()()()(),e.TgZ(68,"div",28)(69,"div",29)(70,"div",30)(71,"div",20)(72,"label",35),e._uU(73),e.ALo(74,"translate"),e.qZA()(),e.TgZ(75,"div",20)(76,"ng-multiselect-dropdown",36),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(a){return o.onItemManagerSelect(a)})("onDeSelect",function(a){return o.onItemManagerDeSelect(a)}),e.qZA()()()()(),e.TgZ(77,"div",28)(78,"div",29)(79,"div",30)(80,"div",20)(81,"label",37),e._uU(82),e.ALo(83,"translate"),e.TgZ(84,"span",32),e._uU(85,"*"),e.qZA()()(),e.TgZ(86,"div",20),e._UZ(87,"input",38),e.YNc(88,Ze,2,1,"div",34),e.qZA()()()(),e.TgZ(89,"div",28)(90,"div",29)(91,"div",30)(92,"div",20)(93,"label",37),e._uU(94),e.ALo(95,"translate"),e.TgZ(96,"span",32),e._uU(97,"*"),e.qZA()()(),e.TgZ(98,"div",20),e._UZ(99,"input",38),e.YNc(100,ve,2,1,"div",34),e.qZA()()()(),e.TgZ(101,"div",28)(102,"div",29)(103,"div",30)(104,"div",20)(105,"label",39),e._uU(106),e.ALo(107,"translate"),e.TgZ(108,"span",32),e._uU(109,"*"),e.qZA()()(),e.TgZ(110,"div",20)(111,"select",40)(112,"option",41),e._uU(113,"Mission de la direction"),e.qZA(),e.TgZ(114,"option",42),e._uU(115,"Mission de zone"),e.qZA()(),e.YNc(116,Se,2,1,"div",34),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,35,"gestionMission")),e.xp6(7),e.hij("\xa0",e.lcZ(10,37,"AjouterMission")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,39,"DateSortie")),e.xp6(3),e.Oqu(e.lcZ(21,41,"Produit")),e.xp6(3),e.Oqu(e.lcZ(24,43,"Quantite")),e.xp6(3),e.Oqu(e.lcZ(27,45,"Bureaudedestination")),e.xp6(3),e.Oqu(e.lcZ(30,47,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listMission),e.xp6(6),e.Oqu(e.lcZ(39,49,"AjouterMission")),e.xp6(6),e.Q6J("formGroup",o.missionForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(51,51,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(62,53,"BureauMission")),e.xp6(5),e.Q6J("placeholder","Select bureau")("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureau.errors),e.xp6(6),e.hij(" ",e.lcZ(74,55,"choisirManagers"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings),e.xp6(6),e.Oqu(e.lcZ(83,57,"DateDebutMission")),e.xp6(5),e.Q6J("ngClass",e.VKq(63,J,o.submitted&&o.f.date_sortie.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_sortie.errors),e.xp6(6),e.Oqu(e.lcZ(95,59,"DateFinMission")),e.xp6(5),e.Q6J("ngClass",e.VKq(65,J,o.submitted&&o.f.date_sortie.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_sortie.errors),e.xp6(6),e.Oqu(e.lcZ(107,61,"TypeMission")),e.xp6(5),e.Q6J("ngClass",e.VKq(67,J,o.submitted&&o.f.type_mission.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.type_mission.errors))},dependencies:[l.mk,l.sg,l.O5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u,C.OP,T.G,m.X$]}),n})();var v=h(7729);const E=function(n){return["/rh/zone-pays",n]};function qe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",36)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",37)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"div")(9,"a",38),e._UZ(10,"i",39),e.qZA(),e._uU(11,"\xa0 "),e.TgZ(12,"a",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onDeleteCountry(a._id))}),e._UZ(13,"i",41),e.qZA()()()()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,E,t._id)),e.xp6(2),e.Oqu(t.country_name),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Q6J("routerLink",e.VKq(6,E,t._id))}}function Ce(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function we(n,r){1&n&&e._UZ(0,"span",42)}function xe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"NomPaysObligatoire")))}function ye(n,r){if(1&n&&(e.TgZ(0,"div",43),e.YNc(1,xe,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.country_name.errors.required)}}function Ie(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephonePaysObligatoire")))}function Ue(n,r){if(1&n&&(e.TgZ(0,"div",43),e.YNc(1,Ie,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}const Q=function(n){return{"is-invalid":n}};let Fe=(()=>{class n{constructor(t,o,s,a,d){this.countryService=t,this.fb=o,this.http=s,this.toastrService=a,this.translateService=d,this.listCountry=[],this.pageNumber=1,this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new c.x,this.keyLanguage="userLanguage",this.percentDone=0,this.countryForm=new i.cw({country_name:new i.NI(""),telephone:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.countryForm=this.fb.group({country_name:["",i.kI.required],telephone:["",i.kI.required]})}ngOnInit(){this.getAllCountry(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}get f(){return this.countryForm.controls}onSubmit(){this.submitted=!0,!this.countryForm?.invalid&&(this.buttonloading=!0,this.countryService.registerCountry(this.countryForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success(`Le pays ${t.country_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`),this.buttonloading=!1},error:t=>{console.log(t),this.toastrService.error(t.error.message),this.buttonloading=!1}}))}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listCountry)},error:t=>{console.log(t),this.loading=!1}})}onDeleteCountry(t){console.log(t),window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&this.countryService.removeCountry(t).subscribe({next:o=>{this.toastrService.success(`${o}`),window.location.reload()},error:o=>{console.log(o),this.toastrService.error(o.error.message),this.loading=!1}})}payszone(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.T),e.Y36(i.qu),e.Y36(A.eN),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-country"]],decls:72,vars:42,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addCountryModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addCountryModal","tabindex","-1","aria-labelledby","addCountryModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addCountryModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-6","col-md-6"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["type","text","placeholder","C\xf4te d'ivoire","id","nom","formControlName","country_name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["type","text","placeholder","+2250768300358","id","telephone","formControlName","telephone",1,"form-control",3,"ngClass"],[1,"text-center",3,"routerLink"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,qe,14,8,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,Ce,3,3,"ng-container",22),e.YNc(41,we,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19),e._UZ(60,"input",32),e.YNc(61,ye,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",34),e._uU(67),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",19),e._UZ(70,"input",35),e.YNc(71,Ue,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,20,"GestionPays")),e.xp6(7),e.hij("\xa0",e.lcZ(10,22,"AjouterNouveauPays")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,24,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(21,26,"TelephonePays")),e.xp6(3),e.Oqu(e.lcZ(24,28,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listCountry),e.xp6(6),e.Oqu(e.lcZ(33,30,"AjouterNouveauPays")),e.xp6(6),e.Q6J("formGroup",o.countryForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,32,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,34,"NomPays")),e.xp6(5),e.Q6J("ngClass",e.VKq(38,Q,o.submitted&&o.f.country_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.country_name.errors),e.xp6(6),e.hij(" ",e.lcZ(68,36,"TelephonePays"),""),e.xp6(3),e.Q6J("ngClass",e.VKq(40,Q,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors))},dependencies:[l.mk,l.sg,l.O5,p.rH,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,T.G,m.X$]}),n})();var z=h(461);function Oe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",87)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",87)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",87)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",87)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",87)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",87)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",87)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td")(26,"div")(27,"a",88),e._UZ(28,"i",89),e.qZA(),e.TgZ(29,"a",88),e._UZ(30,"i",90),e.qZA(),e.TgZ(31,"a",91),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onDeleteEmployer(a._id))}),e._UZ(32,"i",92),e.qZA()(),e._UZ(33,"div"),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(3),e.AsE("",t.nom," ",t.prenom,""),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Oqu(t.date_naiss),e.xp6(3),e.Oqu(t.lieu_naiss),e.xp6(3),e.Oqu(t.piece),e.xp6(3),e.Oqu(t.num_piece),e.xp6(3),e.Oqu(t.grade),e.xp6(3),e.Oqu(t.situation_matrimonial)}}function Le(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function De(n,r){1&n&&e._UZ(0,"span",93)}function Ne(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Me(n,r){if(1&n&&(e.TgZ(0,"div",94),e.YNc(1,Ne,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function Je(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ye(n,r){if(1&n&&(e.TgZ(0,"div",94),e.YNc(1,Je,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function ke(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function Ee(n,r){if(1&n&&(e.TgZ(0,"div",94),e.YNc(1,ke,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function Qe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function ze(n,r){if(1&n&&(e.TgZ(0,"div",94),e.YNc(1,Qe,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_naiss.errors.required)}}function Be(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function je(n,r){if(1&n&&(e.TgZ(0,"div",94),e.YNc(1,Be,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lieu_naiss.errors.required)}}function Ke(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ge(n,r){if(1&n&&(e.TgZ(0,"div",94),e.YNc(1,Ke,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.piece.errors.required)}}function Ve(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Pe(n,r){if(1&n&&(e.TgZ(0,"div",94),e.YNc(1,Ve,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.grade.errors.required)}}function $e(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Re(n,r){if(1&n&&(e.TgZ(0,"div",94),e.YNc(1,$e,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.maladie_exist.errors.required)}}function Xe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function He(n,r){if(1&n&&(e.TgZ(0,"div",94),e.YNc(1,Xe,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nbr_enfant.errors.required)}}function We(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function et(n,r){if(1&n&&(e.TgZ(0,"div",94),e.YNc(1,We,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.fin_contrat.errors.required)}}const x=function(n){return{"is-invalid":n}};let tt=(()=>{class n{constructor(t,o,s,a,d,u,g){this.agenceService=t,this.employerService=o,this.fb=s,this.router=a,this.http=d,this.toastrService=u,this.translateService=g,this.listBureau=[],this.listEmployer=[],this.pageNumber=1,this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new c.x,this.keyLanguage="userLanguage",this.employerForm=new i.cw({nom:new i.NI(""),prenom:new i.NI(""),telephone:new i.NI(""),date_naiss:new i.NI(""),lieu_naiss:new i.NI(""),piece:new i.NI(""),genre:new i.NI(""),num_piece:new i.NI(""),grade:new i.NI(""),situation_matrimonial:new i.NI(""),type_contrat:new i.NI(""),debut_contrat:new i.NI(""),fin_contrat:new i.NI(""),nbr_enfant:new i.NI(""),maladie_exist:new i.NI(""),religion:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.employerForm=this.fb.group({nom:["",i.kI.required],prenom:["",i.kI.required],telephone:["",i.kI.required],date_naiss:["",i.kI.required],lieu_naiss:["",i.kI.required],piece:["",i.kI.required],genre:["",i.kI.required],num_piece:["",i.kI.required],grade:["",i.kI.required],situation_matrimonial:["",i.kI.required],type_contrat:["",i.kI.required],debut_contrat:["",i.kI.required],fin_contrat:["",i.kI.required],nbr_enfant:["",i.kI.required],maladie_exist:["",i.kI.required],religion:["",i.kI.required]})}get f(){return this.employerForm.controls}ngOnInit(){this.getAllBureau(),this.getAllEmployer(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}onSubmit(){this.submitted=!0,console.log(this.employerForm.value),this.employerForm?.invalid||(this.buttonloading=!0,this.employerService.registerEmployer(this.employerForm.value).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le manager ${o.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllEmployer(){this.employerService.getAllEmployers().subscribe({next:t=>{this.listEmployer=t,console.log(this.listEmployer),this.dtTrigger.next(null),this.totalManager=t.length,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteEmployer(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.employerService.removeEmployer(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(z.g),e.Y36(i.qu),e.Y36(p.F0),e.Y36(A.eN),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employer"]],decls:313,vars:134,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addEmployeeModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addEmployeeModal","tabindex","-1","aria-labelledby","addEmployeeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addEmployeeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-4","md-4","xl-4"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["for","telephone"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],[1,"col-lg-3","md-3","xl-3"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Chef de Service"],["value","Directeur G\xe9n\xe9ral"],["value","Superviseur g\xe9n\xe9ral"],["value","G\xe9rant"],["value","Chef Comptable"],["value","Assistant(e) Comptable"],["value","Chef de service m\xe9dical"],["value","Kin\xe9sith\xe9rapeutre"],["value","Assistant Kin\xe9sith\xe9rapeutre"],["value","Adjoint du Chef de service m\xe9dical"],["value","Coursier"],["value","Agent de S\xe9curit\xe9"],["for","genre"],["formControlName","genre","id","genre",1,"form-control"],["value","masculin"],["value","f\xe9minin"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],["for","type_contrat"],["formControlName","type_contrat","id","type_contrat",1,"form-control"],["value","CDD"],["value","CDI"],["for","debut_contrat"],["type","date","formControlName","debut_contrat","id","debut_contrat",1,"form-control"],["for","fin_contrat"],["type","date","formControlName","fin_contrat","id","fin_contrat",1,"form-control",3,"ngClass"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-eye","btn-primary"],[1,"fa","fa-pencil","btn-primary"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"tbody"),e.YNc(44,Oe,34,9,"tr",10),e.qZA()()()()()(),e.TgZ(45,"div",11)(46,"div",12)(47,"div",13)(48,"div",14)(49,"h3",15),e._uU(50),e.ALo(51,"translate"),e.qZA(),e._UZ(52,"button",16),e.qZA(),e.TgZ(53,"div",17)(54,"div",18)(55,"div",19)(56,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(57,"button",21),e.YNc(58,Le,3,3,"ng-container",22),e.YNc(59,De,1,0,"span",23),e.qZA(),e._uU(60,"\xa0 "),e.TgZ(61,"button",24),e._uU(62),e.ALo(63,"translate"),e.qZA(),e._UZ(64,"br"),e.TgZ(65,"div",25)(66,"div",18),e._UZ(67,"br")(68,"br"),e.TgZ(69,"div",26)(70,"div",27)(71,"div",28)(72,"div",19)(73,"label",29),e._uU(74),e.ALo(75,"translate"),e.TgZ(76,"span",30),e._uU(77,"*"),e.qZA()()(),e.TgZ(78,"div",19),e._UZ(79,"input",31),e.YNc(80,Me,2,1,"div",32),e.qZA()()()(),e.TgZ(81,"div",26)(82,"div",27)(83,"div",28)(84,"div",33)(85,"label",34),e._uU(86),e.ALo(87,"translate"),e.TgZ(88,"span",30),e._uU(89,"*"),e.qZA()()(),e.TgZ(90,"div",19),e._UZ(91,"input",35),e.YNc(92,Ye,2,1,"div",32),e.qZA()()()(),e.TgZ(93,"div",26)(94,"div",27)(95,"div",28)(96,"div",33)(97,"label",36),e._uU(98),e.ALo(99,"translate"),e.TgZ(100,"span",30),e._uU(101,"*"),e.qZA()()(),e.TgZ(102,"div",19),e._UZ(103,"input",37),e.YNc(104,Ee,2,1,"div",32),e.qZA()()()()(),e.TgZ(105,"div",18),e._UZ(106,"br")(107,"br"),e.TgZ(108,"div",26)(109,"div",27)(110,"div",28)(111,"div",19)(112,"label",38),e._uU(113),e.ALo(114,"translate"),e.TgZ(115,"span",30),e._uU(116,"*"),e.qZA()()(),e.TgZ(117,"div",19),e._UZ(118,"input",39),e.YNc(119,ze,2,1,"div",32),e.qZA()()()(),e.TgZ(120,"div",26)(121,"div",27)(122,"div",28)(123,"div",19)(124,"label",40),e._uU(125),e.ALo(126,"translate"),e.TgZ(127,"span",30),e._uU(128,"*"),e.qZA()()(),e.TgZ(129,"div",19),e._UZ(130,"input",41),e.YNc(131,je,2,1,"div",32),e.qZA()()()(),e.TgZ(132,"div",26)(133,"div",27)(134,"div",28)(135,"div",19)(136,"label",42),e._uU(137),e.ALo(138,"translate"),e.TgZ(139,"span",30),e._uU(140,"*"),e.qZA()()(),e.TgZ(141,"div",19)(142,"select",43)(143,"option",44),e._uU(144,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(145,"option",45),e._uU(146,"attestation d'identit\xe9"),e.qZA(),e.TgZ(147,"option",46),e._uU(148,"passeport"),e.qZA()(),e.YNc(149,Ge,2,1,"div",32),e.qZA()()()()(),e.TgZ(150,"div",18),e._UZ(151,"br")(152,"br"),e.TgZ(153,"div",47)(154,"div",27)(155,"div",28)(156,"div",19)(157,"label",48),e._uU(158),e.ALo(159,"translate"),e.TgZ(160,"span",30),e._uU(161,"*"),e.qZA()()(),e.TgZ(162,"div",19),e._UZ(163,"input",49),e.qZA()()()(),e.TgZ(164,"div",26)(165,"div",27)(166,"div",28)(167,"div",19)(168,"label",50),e._uU(169),e.ALo(170,"translate"),e.TgZ(171,"span",30),e._uU(172,"*"),e.qZA()()(),e.TgZ(173,"div",19)(174,"select",51)(175,"option",52),e._uU(176,"mari\xe9"),e.qZA(),e.TgZ(177,"option",53),e._uU(178,"celibataire"),e.qZA(),e.TgZ(179,"option",54),e._uU(180,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(181,"div",26)(182,"div",27)(183,"div",28)(184,"div",19)(185,"label",55),e._uU(186),e.ALo(187,"translate"),e.TgZ(188,"span",30),e._uU(189,"*"),e.qZA()()(),e.TgZ(190,"div",19)(191,"select",56)(192,"option",57),e._uU(193,"Chef Service"),e.qZA(),e.TgZ(194,"option",58),e._uU(195,"Directeur G\xe9n\xe9ral"),e.qZA(),e.TgZ(196,"option",59),e._uU(197,"Superviseur g\xe9n\xe9ral"),e.qZA(),e.TgZ(198,"option",60),e._uU(199,"G\xe9rant"),e.qZA(),e.TgZ(200,"option",61),e._uU(201,"Chef Comptable"),e.qZA(),e.TgZ(202,"option",62),e._uU(203,"Assistant(e) Comptable"),e.qZA(),e.TgZ(204,"option",62),e._uU(205,"Assistant(e) Comptable"),e.qZA(),e.TgZ(206,"option",63),e._uU(207,"Chef de service m\xe9dical"),e.qZA(),e.TgZ(208,"option",64),e._uU(209,"Kin\xe9sith\xe9rapeutre"),e.qZA(),e.TgZ(210,"option",65),e._uU(211,"Kin\xe9sith\xe9rapeutre"),e.qZA(),e.TgZ(212,"option",66),e._uU(213,"Adjoint du Chef de service m\xe9dical"),e.qZA(),e.TgZ(214,"option",67),e._uU(215,"Coursier"),e.qZA(),e.TgZ(216,"option",68),e._uU(217,"Agent de S\xe9curit\xe9"),e.qZA()(),e.YNc(218,Pe,2,1,"div",32),e.qZA()()()()(),e.TgZ(219,"div",18),e._UZ(220,"br")(221,"br"),e.TgZ(222,"div",47)(223,"div",27)(224,"div",28)(225,"div",19)(226,"label",69),e._uU(227),e.ALo(228,"translate"),e.TgZ(229,"span",30),e._uU(230,"*"),e.qZA()()(),e.TgZ(231,"div",19)(232,"select",70)(233,"option",71),e._uU(234,"Masculin"),e.qZA(),e.TgZ(235,"option",72),e._uU(236,"F\xe9minin"),e.qZA()()()()()(),e.TgZ(237,"div",47)(238,"div",27)(239,"div",28)(240,"div",19)(241,"label",73),e._uU(242),e.ALo(243,"translate"),e.TgZ(244,"span",30),e._uU(245,"*"),e.qZA()()(),e.TgZ(246,"div",19),e._UZ(247,"input",74),e.qZA()()()(),e.TgZ(248,"div",47)(249,"div",27)(250,"div",28)(251,"div",19)(252,"label",75),e._uU(253),e.ALo(254,"translate"),e.TgZ(255,"span",30),e._uU(256,"*"),e.qZA()()(),e.TgZ(257,"div",19),e._UZ(258,"input",76),e.YNc(259,Re,2,1,"div",32),e.qZA()()()(),e.TgZ(260,"div",47)(261,"div",27)(262,"div",28)(263,"div",19)(264,"label",77),e._uU(265),e.ALo(266,"translate"),e.TgZ(267,"span",30),e._uU(268,"*"),e.qZA()()(),e.TgZ(269,"div",19),e._UZ(270,"input",78),e.YNc(271,He,2,1,"div",32),e.qZA()()()()(),e.TgZ(272,"div",18),e._UZ(273,"br")(274,"br"),e.TgZ(275,"div",47)(276,"div",27)(277,"div",28)(278,"div",19)(279,"label",79),e._uU(280),e.ALo(281,"translate"),e.TgZ(282,"span",30),e._uU(283,"*"),e.qZA()()(),e.TgZ(284,"div",19)(285,"select",80)(286,"option",81),e._uU(287,"CDD"),e.qZA(),e.TgZ(288,"option",82),e._uU(289,"CDI"),e.qZA()()()()()(),e.TgZ(290,"div",26)(291,"div",27)(292,"div",28)(293,"div",19)(294,"label",83),e._uU(295),e.ALo(296,"translate"),e.TgZ(297,"span",30),e._uU(298,"*"),e.qZA()()(),e.TgZ(299,"div",19),e._UZ(300,"input",84),e.qZA()()()(),e.TgZ(301,"div",26)(302,"div",27)(303,"div",28)(304,"div",19)(305,"label",85),e._uU(306),e.ALo(307,"translate"),e.TgZ(308,"span",30),e._uU(309,"*"),e.qZA()()(),e.TgZ(310,"div",19),e._UZ(311,"input",86),e.YNc(312,et,2,1,"div",32),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,56,"GestionEmployers")),e.xp6(7),e.hij("\xa0",e.lcZ(10,58,"AjouterNouveauEmployer")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,60,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,62,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(24,64,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(27,66,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(30,68,"Piece")),e.xp6(3),e.Oqu(e.lcZ(33,70,"NumeroPiece")),e.xp6(3),e.hij("",e.lcZ(36,72,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(39,74,"Grade")," "),e.xp6(3),e.Oqu(e.lcZ(42,76,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listEmployer),e.xp6(6),e.Oqu(e.lcZ(51,78,"AjouterNouveauEmployer")),e.xp6(6),e.Q6J("formGroup",o.employerForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(63,80,"Annuler")),e.xp6(12),e.hij("",e.lcZ(75,82,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(114,x,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(87,84,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(116,x,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(99,86,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(118,x,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(9),e.hij("",e.lcZ(114,88,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(120,x,o.submitted&&o.f.date_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_naiss.errors),e.xp6(6),e.hij("",e.lcZ(126,90,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(122,x,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lieu_naiss.errors),e.xp6(6),e.hij("",e.lcZ(138,92,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(124,x,o.submitted&&o.f.piece.errors)),e.xp6(7),e.Q6J("ngIf",o.submitted&&o.f.piece.errors),e.xp6(9),e.Oqu(e.lcZ(159,94,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(170,96,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(187,98,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(126,x,o.submitted&&o.f.grade.errors)),e.xp6(27),e.Q6J("ngIf",o.submitted&&o.f.grade.errors),e.xp6(9),e.Oqu(e.lcZ(228,100,"Genre")),e.xp6(15),e.Oqu(e.lcZ(243,102,"Religion")),e.xp6(11),e.Oqu(e.lcZ(254,104,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(128,x,o.submitted&&o.f.maladie_exist.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.maladie_exist.errors),e.xp6(6),e.Oqu(e.lcZ(266,106,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(130,x,o.submitted&&o.f.nbr_enfant.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nbr_enfant.errors),e.xp6(9),e.Oqu(e.lcZ(281,108,"TypeContrat")),e.xp6(15),e.Oqu(e.lcZ(296,110,"DebutContrat")),e.xp6(11),e.Oqu(e.lcZ(307,112,"FinContrat")),e.xp6(5),e.Q6J("ngClass",e.VKq(132,x,o.submitted&&o.f.fin_contrat.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.fin_contrat.errors))},dependencies:[l.mk,l.sg,l.O5,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u,T.G,m.X$]}),n})();var O=h(5861);const ot=function(n){return["/rh/edit-bureau",n]};function nt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",42),e._uU(5),e.qZA(),e.TgZ(6,"td",42)(7,"a",43),e._UZ(8,"i",44),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onDeleteBureau(a._id))}),e._UZ(11,"i",46),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.Oqu(t.bureau_name),e.xp6(2),e.hij(" ",t.countryId.country_name," "),e.xp6(2),e.Q6J("routerLink",e.VKq(3,ot,t._id))}}function it(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function rt(n,r){1&n&&e._UZ(0,"span",47)}function at(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function st(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,at,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function lt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"NomBureauObligatoire")))}function dt(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,lt,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureau_name.errors.required)}}const ut=function(n){return{"is-invalid":n}};let ct=(()=>{class n{constructor(t,o,s,a,d,u,g,f,S){this.agenceService=t,this.zoneService=o,this.sectionService=s,this.countryService=a,this.fb=d,this.router=u,this.http=g,this.toastrService=f,this.translateService=S,this.listCountry=[],this.listBureau=[],this.listZone=[],this.listSection=[],this.sections=[],this.zones=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dropdownSectionSettings={},this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new c.x,this.percentDone=0,this.bureauForm=new i.cw({bureau_name:new i.NI(""),countryId:new i.NI(""),zoneId:new i.NI(""),sectionId:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.bureauForm=this.fb.group({bureau_name:["",i.kI.required],countryId:["",i.kI.required],zoneId:[""],sectionId:[""]})}ngOnInit(){this.getAllBureau(),this.getAllCountry(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSectionSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.bureauForm.controls}onSubmit(){var t=this;return(0,O.Z)(function*(){if(t.submitted=!0,console.log(t.bureauForm.value),t.bureauForm?.invalid)return;t.buttonloading=!0;const o={bureau_name:t.bureauForm.value.bureau_name,countryId:t.bureauForm.value.countryId[0]?._id,zoneId:t.bureauForm.value.zoneId[0]?._id,sectionId:t.bureauForm.value.sectionId[0]?._id};null==o.zoneId&&(o.zoneId=""),null==o.sectionId&&(o.sectionId=""),console.log("formData",o),t.agenceService.registerBureau(o).subscribe({next:s=>{console.log(s),t.toastrService.success(`Le pays ${s.bureau_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.ngOnInit())},error:s=>{console.log(s),t.toastrService.error(s.error),t.buttonloading=!1}})})()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.sections=t.sections,this.zones=t.zones,this.dtTrigger.next(null),this.loading=!1,console.log(this.listBureau)},error:t=>{console.log(t),this.loading=!1}})}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,console.log(this.listCountry),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteBureau(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.agenceService.removeBureau(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),window.location.reload())}onItemSelect(t){console.log("onItemSelect",t),this.zoneService.getAllZonesByCountry(t._id).subscribe({next:o=>{this.listZone=o,this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureauForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemZoneSelect(t){console.log("onItemSelect",t),this.sectionService.getAllSectionsByZone(t._id).subscribe({next:o=>{this.listSection=o,console.log("section",this.listSection),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureauForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSectionSelect(t){console.log("onItemSelect",t),console.log("form model",this.bureauForm.value)}onItemSectionDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureauForm.value)}onDropDownSectionClose(){console.log("dropdown closed")}toogleSectionShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleSectionShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(v.T),e.Y36(v.T),e.Y36(v.T),e.Y36(i.qu),e.Y36(p.F0),e.Y36(A.eN),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-bureau"]],decls:94,vars:54,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addBureauModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addBureauModal","tabindex","-1","aria-labelledby","addBureauModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addBureauModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["formControlName","countryId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","zoneId"],["formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["for","sectionId"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","bureau_name"],[2,"color","hsl(0, 100%, 50%)(0, 100%, 50%)"],["type","text","placeholder","","id","bureau_name","formControlName","bureau_name",1,"form-control",3,"ngClass"],[1,"text-center"],[1,"btn","btn-success",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,nt,12,5,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,it,3,3,"ng-container",22),e.YNc(41,rt,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(a){return o.onItemSelect(a)})("onDeSelect",function(a){return o.onItemDeSelect(a)}),e.qZA(),e.YNc(61,st,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",34),e._uU(67),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",19)(70,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(a){return o.onItemZoneSelect(a)})("onDeSelect",function(a){return o.onItemZoneDeSelect(a)}),e.qZA()()()()(),e.TgZ(71,"div",27)(72,"div",28)(73,"div",29)(74,"div",19)(75,"label",36),e._uU(76),e.ALo(77,"translate"),e.TgZ(78,"span",31),e._uU(79,"*"),e.qZA()()(),e.TgZ(80,"div",19)(81,"ng-multiselect-dropdown",37),e.NdJ("onDropDownClose",function(){return o.onDropDownSectionClose()})("onSelect",function(a){return o.onItemSectionSelect(a)})("onDeSelect",function(a){return o.onItemSectionDeSelect(a)}),e.qZA()()()()(),e.TgZ(82,"div",38)(83,"div",28)(84,"div",29)(85,"div",19)(86,"label",39),e._uU(87),e.ALo(88,"translate"),e.TgZ(89,"span",40),e._uU(90,"*"),e.qZA()()(),e.TgZ(91,"div",19),e._UZ(92,"input",41),e.YNc(93,dt,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,30,"GestionBureau")),e.xp6(7),e.hij("\xa0",e.lcZ(10,32,"AjouterBureau")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,34,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(21,36,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(24,38,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listBureau),e.xp6(6),e.Oqu(e.lcZ(33,40,"AjouterBureau")),e.xp6(6),e.Q6J("formGroup",o.bureauForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,42,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,44,"SelectPays")),e.xp6(5),e.Q6J("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij(" ",e.lcZ(68,46,"SelectionZone"),""),e.xp6(3),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownZoneSettings),e.xp6(6),e.Oqu(e.lcZ(77,48,"SelectionSection")),e.xp6(5),e.Q6J("data",o.listSection)("disabled",o.disabled)("settings",o.dropdownSectionSettings),e.xp6(6),e.Oqu(e.lcZ(88,50,"NomBureau")),e.xp6(5),e.Q6J("ngClass",e.VKq(52,ut,o.submitted&&o.f.bureau_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureau_name.errors))},dependencies:[l.mk,l.sg,l.O5,p.rH,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,C.OP,T.G,m.X$]}),n})();const gt=function(n){return["/rh/detail-zone",n]},mt=function(n){return["/rh/zone-pays",n]},pt=function(n){return["/rh/edit-zone",n]};function ht(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",37)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",38),e._uU(5),e.qZA(),e.TgZ(6,"td",39)(7,"a",40),e._UZ(8,"i",41),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onDeleteZone(a._id))}),e._UZ(11,"i",43),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(5,gt,t._id)),e.xp6(2),e.Oqu(t.zone_name),e.xp6(1),e.Q6J("routerLink",e.VKq(7,mt,t.countryId._id)),e.xp6(1),e.hij(" ",t.countryId.country_name," "),e.xp6(2),e.Q6J("routerLink",e.VKq(9,pt,t._id))}}function _t(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function ft(n,r){1&n&&e._UZ(0,"span",44)}function Zt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function bt(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Zt,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function vt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function At(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,vt,2,0,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zone_name.errors.required)}}const St=function(n){return{"is-invalid":n}};let Tt=(()=>{class n{constructor(t,o,s,a,d,u,g){this.agenceService=t,this.zoneService=o,this.fb=s,this.router=a,this.http=d,this.toastrService=u,this.translateService=g,this.listCountry=[],this.listZone=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dtoptions={},this.dtTrigger=new c.x,this.keyLanguage="userLanguage",this.percentDone=0,this.zoneForm=new i.cw({zone_name:new i.NI(""),countryId:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.zoneForm=this.fb.group({zone_name:["",i.kI.required],countryId:["",i.kI.required]})}ngOnInit(){this.getAllZone(),this.getAllCountries(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.zoneForm.controls}onSubmit(){var t=this;return(0,O.Z)(function*(){t.submitted=!0,t.zoneForm?.invalid||(t.buttonloading=!0,t.zoneService.registerZone({countryId:t.zoneForm.value.countryId[0]._id,zone_name:t.zoneForm.value.zone_name}).subscribe({next:s=>{t.toastrService.success(`La zone ${s.zone_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.ngOnInit())},error:s=>{console.log(s),t.toastrService.error(s.error),t.buttonloading=!1}}))})()}getAllCountries(){var t=this;return(0,O.Z)(function*(){t.zoneService.getAllCountries().subscribe({next:o=>{t.listCountry=o,t.loading=!1},error:o=>{console.log(o),t.loading=!1}})})()}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listZone)},error:t=>{console.log(t),this.loading=!1}})}onDeleteZone(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.zoneService.removeZone(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),window.location.reload())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.zoneForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.zoneForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(v.T),e.Y36(i.qu),e.Y36(p.F0),e.Y36(A.eN),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-zone"]],decls:74,vars:43,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addZoneModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addZoneModal","tabindex","-1","aria-labelledby","addZoneModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addZoneModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["name","countryId","formControlName","countryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","zone_name"],["type","text","placeholder","","id","zone_name","formControlName","zone_name",1,"form-control",3,"ngClass"],[1,"hover",3,"routerLink"],[1,"hover","text-center",3,"routerLink"],[1,"text-center"],["href","",1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,ht,12,11,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,_t,3,3,"ng-container",22),e.YNc(41,ft,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(a){return o.onItemSelect(a)})("onDeSelect",function(a){return o.onItemDeSelect(a)}),e.qZA(),e.YNc(61,bt,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",34)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",35),e._uU(67),e.ALo(68,"translate"),e.TgZ(69,"span",31),e._uU(70,"*"),e.qZA()()(),e.TgZ(71,"div",19),e._UZ(72,"input",36),e.YNc(73,At,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,23,"GestionZone")),e.xp6(7),e.hij("\xa0",e.lcZ(10,25,"AjouterNouveauZone")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,27,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(21,29,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(24,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listZone),e.xp6(6),e.Oqu(e.lcZ(33,33,"AjouterNouveauZone")),e.xp6(6),e.Q6J("formGroup",o.zoneForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,35,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,37,"SelectPays")),e.xp6(5),e.Q6J("placeholder","Select Country")("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij("",e.lcZ(68,39,"NomZone")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(41,St,o.submitted&&o.f.zone_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zone_name.errors))},dependencies:[l.mk,l.sg,l.O5,p.rH,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,C.OP,T.G,m.X$]}),n})();function qt(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",39),e._uU(5),e.qZA(),e.TgZ(6,"td",39),e._uU(7),e.qZA(),e.TgZ(8,"td",39)(9,"a",40),e._UZ(10,"i",41),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(3),e.Oqu(t.section_name),e.xp6(2),e.hij(" ",t.zoneId.zone_name," "),e.xp6(2),e.hij(" ",t.countryId.country_name," ")}}function Ct(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function wt(n,r){1&n&&e._UZ(0,"span",42)}function xt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function yt(n,r){if(1&n&&(e.TgZ(0,"div",43),e.YNc(1,xt,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function It(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ut(n,r){if(1&n&&(e.TgZ(0,"div",43),e.YNc(1,It,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zoneId.errors.required)}}function Ft(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function Ot(n,r){if(1&n&&(e.TgZ(0,"div",43),e.YNc(1,Ft,2,0,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.section_name.errors.required)}}const Lt=function(n){return{"is-invalid":n}};let Dt=(()=>{class n{constructor(t,o,s,a,d,u,g,f){this.agenceService=t,this.zoneService=o,this.sectionService=s,this.fb=a,this.router=d,this.http=u,this.toastrService=g,this.translateService=f,this.listCountry=[],this.listZone=[],this.listSection=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dtoptions={},this.dtTrigger=new c.x,this.keyLanguage="userLanguage",this.percentDone=0,this.sectionForm=new i.cw({section_name:new i.NI(""),countryId:new i.NI(""),zoneId:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.sectionForm=this.fb.group({section_name:["",i.kI.required],countryId:["",i.kI.required],zoneId:["",i.kI.required]})}ngOnInit(){this.getAllCountries(),this.getAllSection(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.sectionForm.controls}onSubmit(){this.submitted=!0,console.log("form zone",this.sectionForm.value.countryId[0]._id),this.sectionForm?.invalid||(this.buttonloading=!0,this.sectionService.registerSection({countryId:this.sectionForm.value.countryId[0]._id,zoneId:this.sectionForm.value.zoneId[0]._id,section_name:this.sectionForm.value.section_name}).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le pays ${o.section_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}getAllCountries(){var t=this;return(0,O.Z)(function*(){t.zoneService.getAllCountries().subscribe({next:o=>{t.listCountry=o,console.log(t.listCountry),t.loading=!1},error:o=>{console.log(o),t.loading=!1}})})()}getAllSection(){this.sectionService.getAllSections().subscribe({next:t=>{this.listSection=t,console.log(this.listSection),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteSection(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.sectionService.removeSection(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),this.zoneService.getAllZonesByCountry(t._id).subscribe({next:o=>{this.listZone=o,console.log(this.listZone),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.sectionForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemZoneSelect(t){console.log("onItemSelect",t),console.log("form model",this.sectionForm.value)}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.sectionForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(v.T),e.Y36(v.T),e.Y36(i.qu),e.Y36(p.F0),e.Y36(A.eN),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-section"]],decls:89,vars:53,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addZoneModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addZoneModal","tabindex","-1","aria-labelledby","addZoneModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addZoneModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["name","countryId","formControlName","countryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","zoneId"],["name","zoneId","formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","section_name"],["type","text","placeholder","","id","section_name","formControlName","section_name",1,"form-control",3,"ngClass"],[1,"text-center"],["onclick","onDeleteSection(section._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,qt,11,3,"tr",10),e.qZA()()()()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"div",13)(33,"div",14)(34,"h3",15),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"button",16),e.qZA(),e.TgZ(38,"div",17)(39,"div",18)(40,"div",19)(41,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(42,"button",21),e.YNc(43,Ct,3,3,"ng-container",22),e.YNc(44,wt,1,0,"span",23),e.qZA(),e._uU(45,"\xa0 "),e.TgZ(46,"button",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"br"),e.TgZ(50,"div",25)(51,"div",26)(52,"div",18)(53,"div",27)(54,"div",28)(55,"div",29)(56,"div",19)(57,"label",30),e._uU(58),e.ALo(59,"translate"),e.TgZ(60,"span",31),e._uU(61,"*"),e.qZA()()(),e.TgZ(62,"div",19)(63,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(a){return o.onItemSelect(a)})("onDeSelect",function(a){return o.onItemDeSelect(a)}),e.qZA(),e.YNc(64,yt,2,1,"div",33),e.qZA()()()(),e.TgZ(65,"div",27)(66,"div",28)(67,"div",29)(68,"div",19)(69,"label",34),e._uU(70),e.ALo(71,"translate"),e.TgZ(72,"span",31),e._uU(73,"*"),e.qZA()()(),e.TgZ(74,"div",19)(75,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(a){return o.onItemZoneSelect(a)})("onDeSelect",function(a){return o.onItemZoneDeSelect(a)}),e.qZA(),e.YNc(76,Ut,2,1,"div",33),e.qZA()()()(),e.TgZ(77,"div",36)(78,"div",28)(79,"div",29)(80,"div",19)(81,"label",37),e._uU(82),e.ALo(83,"translate"),e.TgZ(84,"span",31),e._uU(85,"*"),e.qZA()()(),e.TgZ(86,"div",19),e._UZ(87,"input",38),e.YNc(88,Ot,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,29,"GestionBureau")),e.xp6(7),e.hij("\xa0",e.lcZ(10,31,"AjouterNouveauSection")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,33,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(21,35,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(24,37,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(27,39,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listSection),e.xp6(6),e.Oqu(e.lcZ(36,41,"AjouterNouveauSection")),e.xp6(6),e.Q6J("formGroup",o.sectionForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(48,43,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(59,45,"SelectPays")),e.xp6(5),e.Q6J("placeholder","Select Country")("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.Oqu(e.lcZ(71,47,"SelectionZone")),e.xp6(5),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownZoneSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zoneId.errors),e.xp6(6),e.hij("",e.lcZ(83,49,"NomSection")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(51,Lt,o.submitted&&o.f.section_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.section_name.errors))},dependencies:[l.mk,l.sg,l.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,C.OP,T.G,m.X$]}),n})();var L=h(2177);let Nt=(()=>{class n{constructor(t){this.http=t}registerConge(t){return this.http.post(L.k.CREATE_CONGE,t)}getAllConge(){return this.http.get(L.k.ALL_CONGE)}updateConge(t,o){return this.http.patch(L.k.UPDATE_CONGE+t,o)}singleConge(t){return this.http.get(L.k.GET_SINGLE_CONGE+t)}removeConge(t){return this.http.delete(L.k.DELETED_CONGE+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(A.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mt(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10),e._uU(5),e.qZA(),e.TgZ(6,"td",10),e._uU(7),e.qZA(),e.TgZ(8,"td",10),e._uU(9),e.qZA(),e.TgZ(10,"td",10),e._uU(11),e.qZA(),e.TgZ(12,"td",10),e._uU(13),e.qZA(),e._UZ(14,"td"),e.TgZ(15,"td",10)(16,"a",47),e._UZ(17,"i",48),e.qZA(),e._uU(18,"\xa0 "),e.TgZ(19,"a",49),e._UZ(20,"i",50),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(3),e.AsE("",t.employerId.nom," ",t.employerId.prenom,""),e.xp6(2),e.hij(" ",t.type_conge," "),e.xp6(2),e.hij(" ",t.duree," "),e.xp6(2),e.hij(" ",t.debut," "),e.xp6(2),e.hij(" ",t.fin," "),e.xp6(2),e.hij(" ",t.status," ")}}function Jt(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Yt(n,r){1&n&&e._UZ(0,"span",51)}function kt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Et(n,r){if(1&n&&(e.TgZ(0,"div",52),e.YNc(1,kt,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.employerId.errors.required)}}function Qt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function zt(n,r){if(1&n&&(e.TgZ(0,"div",52),e.YNc(1,Qt,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.duree.errors.required)}}function Bt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function jt(n,r){if(1&n&&(e.TgZ(0,"div",52),e.YNc(1,Bt,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.debut.errors.required)}}function Kt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Gt(n,r){if(1&n&&(e.TgZ(0,"div",52),e.YNc(1,Kt,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.fin.errors.required)}}function Vt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Pt(n,r){if(1&n&&(e.TgZ(0,"div",52),e.YNc(1,Vt,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.type_conge.errors.required)}}const M=function(n){return{"is-invalid":n}};let $t=(()=>{class n{constructor(t,o,s,a,d,u,g){this.employerService=t,this.congeService=o,this.fb=s,this.router=a,this.http=d,this.toastrService=u,this.translateService=g,this.listEmployer=[],this.listConge=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new c.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.congeForm=new i.cw({employerId:new i.NI(""),type_conge:new i.NI(""),duree:new i.NI(""),debut:new i.NI(""),fin:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.congeForm=this.fb.group({employerId:["",i.kI.required],type_conge:["",i.kI.required],duree:["",i.kI.required],debut:["",i.kI.required],fin:["",i.kI.required]})}get f(){return this.congeForm.controls}ngOnInit(){this.getAllEmployer(),this.getAllConge(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getAllEmployer(){this.employerService.getAllEmployers().subscribe({next:t=>{this.listEmployer=t,console.log(this.listEmployer),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.congeForm.value),!this.congeForm?.invalid&&(this.buttonloading=!0,this.congeService.registerConge(this.congeForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success("L'information a bien \xe9t\xe9 ajout\xe9e \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,this.ngOnInit())},error:t=>{console.log(t),this.toastrService.error(t.error),this.buttonloading=!1}}))}getAllConge(){this.congeService.getAllConge().subscribe({next:t=>{this.listConge=t,console.log(this.listConge),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteConge(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette mission ?")&&(this.congeService.removeConge(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.congeForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.congeForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.g),e.Y36(Nt),e.Y36(i.qu),e.Y36(p.F0),e.Y36(A.eN),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-conge"]],decls:127,vars:75,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addCongeModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","addCongeModal","tabindex","-1","aria-labelledby","addCongeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addCongeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-4","col-md-4"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["formControlName","employerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["type","number","formControlName","duree",1,"form-control",3,"ngClass"],["for","debut"],["type","date","id","debut","formControlName","debut",1,"form-control",3,"ngClass"],[1,"col-lg-6","col-md-6"],["for","fin"],["type","date","id","fin","formControlName","fin",1,"form-control",3,"ngClass"],["for","type_mission"],["formControlName","type_conge","id","type_conge",1,"form-control",3,"ngClass"],["value","cong\xe9 de annuel"],["value","cong\xe9 de maternit\xe9"],["value","cong\xe9 de maladie"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],["onclick","onDeleteConge(conge._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th",10),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th",10),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,Mt,21,7,"tr",11),e.qZA()()()()()(),e.TgZ(39,"div",12)(40,"div",13)(41,"div",14)(42,"div",15)(43,"h3",16),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"button",17),e.qZA(),e.TgZ(47,"div",18)(48,"div",19)(49,"div",20)(50,"form",21),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(51,"button",22),e.YNc(52,Jt,3,3,"ng-container",23),e.YNc(53,Yt,1,0,"span",24),e.qZA(),e._uU(54,"\xa0 "),e.TgZ(55,"button",25),e._uU(56),e.ALo(57,"translate"),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"div",26)(60,"div",27)(61,"div",19)(62,"div",28)(63,"div",29)(64,"div",30)(65,"div",20)(66,"label",31),e._uU(67),e.ALo(68,"translate"),e.TgZ(69,"span",32),e._uU(70,"*"),e.qZA()()(),e.TgZ(71,"div",20)(72,"ng-multiselect-dropdown",33),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(a){return o.onItemSelect(a)})("onDeSelect",function(a){return o.onItemDeSelect(a)}),e.qZA(),e.YNc(73,Et,2,1,"div",34),e.qZA()()()(),e.TgZ(74,"div",28)(75,"div",29)(76,"div",30)(77,"div",20)(78,"label",35),e._uU(79),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",20),e._UZ(82,"input",36),e.YNc(83,zt,2,1,"div",34),e.qZA()()()(),e.TgZ(84,"div",28)(85,"div",29)(86,"div",30)(87,"div",20)(88,"label",37),e._uU(89),e.ALo(90,"translate"),e.TgZ(91,"span",32),e._uU(92,"*"),e.qZA()()(),e.TgZ(93,"div",20),e._UZ(94,"input",38),e.YNc(95,jt,2,1,"div",34),e.qZA()()()()(),e.TgZ(96,"div",19)(97,"div",39)(98,"div",29)(99,"div",30)(100,"div",20)(101,"label",40),e._uU(102),e.ALo(103,"translate"),e.TgZ(104,"span",32),e._uU(105,"*"),e.qZA()()(),e.TgZ(106,"div",20),e._UZ(107,"input",41),e.YNc(108,Gt,2,1,"div",34),e.qZA()()()(),e.TgZ(109,"div",39)(110,"div",29)(111,"div",30)(112,"div",20)(113,"label",42),e._uU(114),e.ALo(115,"translate"),e.TgZ(116,"span",32),e._uU(117,"*"),e.qZA()()(),e.TgZ(118,"div",20)(119,"select",43)(120,"option",44),e._uU(121,"Cong\xe9 annuel"),e.qZA(),e.TgZ(122,"option",45),e._uU(123,"Cong\xe9 de maternit\xe9"),e.qZA(),e.TgZ(124,"option",46),e._uU(125,"Cong\xe9 de maladie"),e.qZA()(),e.YNc(126,Pt,2,1,"div",34),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,35,"GestionConge")),e.xp6(7),e.hij("\xa0",e.lcZ(10,37,"AjouterNouveauConge")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,39,"Nom")),e.xp6(3),e.Oqu(e.lcZ(21,41,"TypeConge")),e.xp6(3),e.Oqu(e.lcZ(24,43,"dureeConge")),e.xp6(3),e.Oqu(e.lcZ(27,45,"debutConge")),e.xp6(3),e.Oqu(e.lcZ(30,47,"finConge")),e.xp6(3),e.Oqu(e.lcZ(33,49,"StatutConge")),e.xp6(3),e.Oqu(e.lcZ(36,51,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listConge),e.xp6(6),e.Oqu(e.lcZ(45,53,"AjouterNouveauConge")),e.xp6(6),e.Q6J("formGroup",o.congeForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(57,55,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(68,57,"SelectionnerEmployer")),e.xp6(5),e.Q6J("data",o.listEmployer)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.employerId.errors),e.xp6(6),e.hij(" ",e.lcZ(80,59,"dureeConge"),""),e.xp6(3),e.Q6J("ngClass",e.VKq(67,M,o.submitted&&o.f.duree.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.duree.errors),e.xp6(6),e.Oqu(e.lcZ(90,61,"debutConge")),e.xp6(5),e.Q6J("ngClass",e.VKq(69,M,o.submitted&&o.f.debut.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.debut.errors),e.xp6(7),e.Oqu(e.lcZ(103,63,"finConge")),e.xp6(5),e.Q6J("ngClass",e.VKq(71,M,o.submitted&&o.f.fin.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.fin.errors),e.xp6(6),e.Oqu(e.lcZ(115,65,"TypeConge")),e.xp6(5),e.Q6J("ngClass",e.VKq(73,M,o.submitted&&o.f.type_conge.errors)),e.xp6(7),e.Q6J("ngIf",o.submitted&&o.f.type_conge.errors))},dependencies:[l.mk,l.sg,l.O5,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u,C.OP,T.G,m.X$]}),n})();function Rt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",36),e._uU(5),e.qZA(),e.TgZ(6,"td",36)(7,"a",37),e._UZ(8,"i",38),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onDeleteAffectation(a._id))}),e._UZ(11,"i",40),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(t.zoneId.zone_name)}}function Xt(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Ht(n,r){1&n&&e._UZ(0,"span",41)}function Wt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"champObligatoire")))}function eo(n,r){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,Wt,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zoneId.errors.required)}}let to=(()=>{class n{constructor(t,o,s,a,d,u,g,f,S){this.agenceService=t,this.zoneService=o,this.managerService=s,this.fb=a,this.router=d,this.http=u,this.affectationService=g,this.toastrService=f,this.translateService=S,this.listBureau=[],this.listAffectation=[],this.listZone=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new c.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.affectsofzForm=new i.cw({zoneId:new i.NI(""),managerId:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.affectsofzForm=this.fb.group({zoneId:["",i.kI.required],managerId:["",i.kI.required]})}get f(){return this.affectsofzForm.controls}ngOnInit(){this.getAllZone(),this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"fullnamemanager",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,limitSelection:3,allowSearchFilter:this.ShowFilter},this.getAllSupervisorZone()}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,console.log(this.listZone),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllSupervisorZone(){this.affectationService.getAllAffectsofz().subscribe({next:t=>{this.listAffectation=t,console.log(this.listAffectation),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagerSupervisor().subscribe({next:t=>{this.listManagers=t,console.log("listManagers",this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.affectsofzForm.value),this.affectsofzForm?.invalid||(this.buttonloading=!0,this.affectationService.registerAffectsof({zoneId:this.affectsofzForm.value.zoneId[0]._id,managerId:this.affectsofzForm.value.managerId[0]._id}).subscribe({next:o=>{console.log(o),this.toastrService.success("L'op\xe9ration a \xe9t\xe9 \xe9ffectu\xe9e avec succ\xe8s!")&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}getAllAffectation(){this.affectationService.getAllAffectation().subscribe({next:t=>{this.listAffectation=t,console.log(this.listAffectation),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteAffectation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette affectation ?")&&(this.affectationService.removeAffectsofz(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectsofzForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectsofzForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectsofzForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectsofzForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(v.T),e.Y36(F.b),e.Y36(i.qu),e.Y36(p.F0),e.Y36(A.eN),e.Y36(N.q),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-superviseur"]],decls:72,vars:41,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-6","col-md-6"],[1,"form-group"],[1,"mb-3"],["for","zone"],[2,"color","red"],["formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pen"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,Rt,12,3,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,Xt,3,3,"ng-container",22),e.YNc(41,Ht,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br")(47,"br"),e.TgZ(48,"div",25)(49,"div",26)(50,"div",18)(51,"div",27)(52,"div",28)(53,"div",29)(54,"div",19)(55,"label",30),e._uU(56),e.ALo(57,"translate"),e.TgZ(58,"span",31),e._uU(59,"*"),e.qZA()()(),e.TgZ(60,"div",19)(61,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(a){return o.onItemSelect(a)})("onDeSelect",function(a){return o.onItemDeSelect(a)}),e.qZA(),e.YNc(62,eo,2,1,"div",33),e.qZA()()()(),e.TgZ(63,"div",27)(64,"div",28)(65,"div",29)(66,"div",19)(67,"label",34),e._uU(68),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"div",19)(71,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(a){return o.onItemManagerSelect(a)})("onDeSelect",function(a){return o.onItemManagerDeSelect(a)}),e.qZA()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,23,"ManageAffectationSZ")),e.xp6(7),e.hij("\xa0",e.lcZ(10,25,"AjouterNouvelleAffectationsofz")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,27,"nomsupervisieurZone")),e.xp6(3),e.Oqu(e.lcZ(21,29,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(24,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listAffectation),e.xp6(6),e.Oqu(e.lcZ(33,33,"AjouterNouvelleAffectation")),e.xp6(6),e.Q6J("formGroup",o.affectsofzForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,35,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(57,37,"SelectionZone")),e.xp6(5),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zoneId.errors),e.xp6(6),e.hij(" ",e.lcZ(69,39,"choisirsupervisieurZone"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings))},dependencies:[l.sg,l.O5,i._Y,i.JJ,i.JL,i.sg,i.u,C.OP,T.G,m.X$]}),n})();function oo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",36),e._uU(5),e.qZA(),e.TgZ(6,"td",36),e._uU(7),e.qZA(),e.TgZ(8,"td",36)(9,"a",37),e._UZ(10,"i",38),e.qZA(),e._uU(11,"\xa0 "),e.TgZ(12,"a",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onDeleteAffectation(a._id))}),e._UZ(13,"i",40),e.qZA()()()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(t.sectionId.section_name),e.xp6(2),e.Oqu(o.zone)}}function no(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function io(n,r){1&n&&e._UZ(0,"span",41)}function ro(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"champObligatoire")))}function ao(n,r){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,ro,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.sectionId.errors.required)}}let so=(()=>{class n{constructor(t,o,s,a,d,u,g,f,S){this.agenceService=t,this.sectionService=o,this.managerService=s,this.fb=a,this.router=d,this.http=u,this.affectationService=g,this.toastrService=f,this.translateService=S,this.listSection=[],this.zone=[],this.listAffectation=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new c.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.affectchefsectionForm=new i.cw({sectionId:new i.NI(""),managerId:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.affectchefsectionForm=this.fb.group({sectionId:["",i.kI.required],managerId:["",i.kI.required]})}get f(){return this.affectchefsectionForm.controls}ngOnInit(){this.getAllSection(),this.getAllManager(),this.getAllChefSection(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"fullnamemanager",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,limitSelection:3,allowSearchFilter:this.ShowFilter}}getAllSection(){this.sectionService.getAllSections().subscribe({next:t=>{this.listSection=t,console.log(this.listSection),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllChefSection(){this.affectationService.getAllAffectchefSection().subscribe({next:t=>{this.listAffectation=t;for(let o=0;o<t.length;o++)this.sectionService.getsingleZone(t[o].sectionId.zoneId).subscribe(s=>{this.zone=s.zone_name});console.log(this.zone),console.log(this.listAffectation),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagerChefsection().subscribe({next:t=>{this.listManagers=t,console.log("listManagers",this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getSingleZone(t){this.sectionService.getsingleZone(t).subscribe(o=>{this.zone=o.zone_name})}onSubmit(){this.submitted=!0,this.affectchefsectionForm?.invalid||(this.buttonloading=!0,this.affectationService.registerAffectchefSection({sectionId:this.affectchefsectionForm.value.sectionId[0]._id,managerId:this.affectchefsectionForm.value.managerId[0]._id}).subscribe({next:o=>{console.log(o),this.toastrService.success("L'op\xe9ration a \xe9t\xe9 \xe9ffectu\xe9e avec succ\xe8s!")&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}onDeleteAffectation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette affectation ?")&&(this.affectationService.removeAffectchefSection(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectchefsectionForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectchefsectionForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectchefsectionForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectchefsectionForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(v.T),e.Y36(F.b),e.Y36(i.qu),e.Y36(p.F0),e.Y36(A.eN),e.Y36(N.q),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chef-section"]],decls:75,vars:44,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-6","col-md-6"],[1,"form-group"],[1,"mb-3"],["for","zone"],[2,"color","red"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pen"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,oo,14,4,"tr",10),e.qZA()()()()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"div",13)(33,"div",14)(34,"h3",15),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"button",16),e.qZA(),e.TgZ(38,"div",17)(39,"div",18)(40,"div",19)(41,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(42,"button",21),e.YNc(43,no,3,3,"ng-container",22),e.YNc(44,io,1,0,"span",23),e.qZA(),e._uU(45,"\xa0 "),e.TgZ(46,"button",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"br")(50,"br"),e.TgZ(51,"div",25)(52,"div",26)(53,"div",18)(54,"div",27)(55,"div",28)(56,"div",29)(57,"div",19)(58,"label",30),e._uU(59),e.ALo(60,"translate"),e.TgZ(61,"span",31),e._uU(62,"*"),e.qZA()()(),e.TgZ(63,"div",19)(64,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(a){return o.onItemSelect(a)})("onDeSelect",function(a){return o.onItemDeSelect(a)}),e.qZA(),e.YNc(65,ao,2,1,"div",33),e.qZA()()()(),e.TgZ(66,"div",27)(67,"div",28)(68,"div",29)(69,"div",19)(70,"label",34),e._uU(71),e.ALo(72,"translate"),e.qZA()(),e.TgZ(73,"div",19)(74,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(a){return o.onItemManagerSelect(a)})("onDeSelect",function(a){return o.onItemManagerDeSelect(a)}),e.qZA()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,24,"gestionChefSection")),e.xp6(7),e.hij("\xa0",e.lcZ(10,26,"AjouterNouvelleAffectationChefSession")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,28,"nomchefSection")),e.xp6(3),e.Oqu(e.lcZ(21,30,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(24,32,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(27,34,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listAffectation),e.xp6(6),e.Oqu(e.lcZ(36,36,"AjouterNouvelleAffectation")),e.xp6(6),e.Q6J("formGroup",o.affectchefsectionForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(48,38,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(60,40,"SelectionSection")),e.xp6(5),e.Q6J("data",o.listSection)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.sectionId.errors),e.xp6(6),e.hij(" ",e.lcZ(72,42,"choisirchefSection"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings))},dependencies:[l.sg,l.O5,i._Y,i.JJ,i.JL,i.sg,i.u,C.OP,T.G,m.X$]}),n})();function lo(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau)}}function uo(n,r){if(1&n&&(e.TgZ(0,"div",14)(1,"table")(2,"thead",10)(3,"tr")(4,"th",10),e._uU(5),e.qZA()()(),e.TgZ(6,"tbody"),e.YNc(7,lo,3,1,"tr",8),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(5),e.Oqu(t.name),e.xp6(2),e.Q6J("ngForOf",t.children)}}const B=function(n){return["/rh/detail-zone",n]};function co(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",9)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10),e.YNc(5,uo,8,2,"div",11),e.qZA(),e.TgZ(6,"td")(7,"div")(8,"a",12),e._UZ(9,"i",13),e.qZA(),e._uU(10,"\xa0 "),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,B,t.id)),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("ngForOf",t.children),e.xp6(3),e.Q6J("routerLink",e.VKq(6,B,t.id))}}const go=function(){return["/rh/country"]};let mo=(()=>{class n{constructor(t,o,s,a,d){this.route=t,this.countryservice=o,this.agenceService=s,this.toastrService=a,this.translateService=d,this.pays="",this.paysId="",this.listZone=[],this.listDatas=[],this.realData=[],this.finalData=[],this.allData=[],this.useData=[],this.obj={},this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new c.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllBureauByCountry(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}getAllZone(){this.id=this.route.snapshot.paramMap.get("id"),this.countryservice.getAllZonesByCountry(this.id).subscribe({next:t=>{this.listZone=t,this.paysId=t[0].countryId._id,this.pays=t[0].countryId.country_name,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllBureauByCountry(){this.id=this.route.snapshot.paramMap.get("id"),this.agenceService.getAllBureauByCountry(this.id).subscribe({next:t=>{this.listDatas=t,this.pays=t[0].countryId.country_name;for(let u=0;u<this.listDatas.length;u++){const g={id:String,zone:String,section:[String],bureau:String};g.id=this.listDatas[u].zoneId._id,g.zone=this.listDatas[u].zoneId.zone_name,g.section=[this.listDatas[u].sectionId.section_name],g.bureau=this.listDatas[u].bureau_name,this.realData.push(g)}const o=this.realData.reduce((u,{id:g,bureau:f,zone:S,section:D})=>(u[S]||(u[S]={}),D.forEach(G=>{u[S][G]=(u[S][G]||[]).concat({id:g,bureau:f})}),u),{});console.log("acc",o);const s=Object.entries(o).map(([u,g])=>({name:u,children:Object.entries(g).map(([f,S])=>({name:f,children:S}))}));this.allData=s;for(let u=0;u<this.allData.length;u++){const g={id:String,name:String,children:Array};g.id=this.allData[u].children[0].children[0].id,g.name=this.allData[u].name,g.children=this.allData[u].children,this.useData.push(g)}var d=new Date("09-2023".split("-")[1]);console.log("ann\xe9e:",d.getFullYear()),console.log("essai",this.useData),this.dtTrigger.next(null),console.log("data liste",this.allData),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(v.T),e.Y36(Z.q),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail-pays"]],decls:25,vars:21,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"text-center",3,"routerLink"],[1,"text-center"],["class","row",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"row"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"table",7)(12,"thead")(13,"tr")(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,co,11,8,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,10,"ListeZone")," ",e.lcZ(5,12,"de")," ",o.pays," "),e.xp6(3),e.Q6J("routerLink",e.DdM(20,go)),e.xp6(5),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(16,14,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(19,16,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(22,18,"Action")),e.xp6(3),e.Q6J("ngForOf",o.useData))},dependencies:[l.sg,p.rH,T.G,m.X$]}),n})();var _=h(5439),Y=h(5080);function po(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau)}}const j=function(n){return["/rh/zone-pays",n]};function ho(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",16)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",16)(5,"div",11)(6,"table")(7,"tbody"),e.YNc(8,po,3,1,"tr",10),e.qZA()()()(),e.TgZ(9,"td")(10,"div")(11,"a",17),e._UZ(12,"i",18),e.qZA(),e._uU(13,"\xa0 "),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(3),e.Oqu(t.section_name),e.xp6(5),e.Q6J("ngForOf",t.bureau.bureau),e.xp6(3),e.Q6J("routerLink",e.VKq(3,j,t.id))}}Y.kL.register(...Y.zX);let _o=(()=>{class n{constructor(t,o,s,a,d,u){this.locale=t,this.route=o,this.countryservice=s,this.agenceservice=a,this.toastrService=d,this.translateService=u,this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.startYear=2023,this.endYear=2100,this.zone="",this.paysId="",this.labeldata=[],this.realData=[],this.finalData=[],this.allData=[],this.allDatav=[],this.obj={},this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaZone=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new c.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.generateYearsBetween(this.startYear,this.endYear),this.getAllSection(),this.getAllCaZone(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}}}getAllSection(){this.id=this.route.snapshot.paramMap.get("id"),this.agenceservice.getAllBureauByZone(this.id).subscribe({next:t=>{this.listSectionByZone=t,this.paysId=this.listSectionByZone[0].countryId._id,this.zone=this.listSectionByZone[0].zoneId.zone_name,console.log("listSectionByZone",this.listSectionByZone);for(let s=0;s<this.listSectionByZone.length;s++){const a={id:String,section:String,bureau:String};a.id=this.listSectionByZone[s].sectionId._id,a.section=this.listSectionByZone[s].sectionId.section_name,a.bureau=this.listSectionByZone[s].bureau_name,this.realData.push(a)}const o=this.realData.reduce((s,a)=>{const{section:d}=a;return s[d]=s[d]??[],s[d].push(a),s},{});this.allDatav=Object.entries(o).map(([s,a],d)=>({section_name:s,bureau:a}));for(let s=0;s<this.allDatav.length;s++){const a={section_name:String,bureau:Array,id:String};a.id=this.allDatav[s].bureau[0].id,a.section_name=this.allDatav[s].section_name,a.bureau=this.allDatav[s],this.finalData.push(a)}this.allData=this.finalData,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllCaZone(){this.id=this.route.snapshot.paramMap.get("id"),this.countryservice.getAllZonesCa().subscribe({next:t=>{const o=window.navigator.language||window.navigator.language;console.log("navigator language: "+o),_.locale(o);for(let a=0;a<t.length;a++)t[a].bureauId.zoneId==this.id&&(this.listCaZone.push(t[a]),this.listDate.push(_(t[a].mois).format("MMMM-YYYY")));const s=[...this.listCaZone.reduce((a,d)=>{const{mois:u,caTotal:g}=d,f=a.get(u);return f?f.caTotal+=g:a.set(u,Object.assign({},d)),a},new Map).values()];for(let a=0;a<s.length;a++)this.labeldata.push(_(s[a].mois).format("MMMM-YYYY")),this.realdata.push(s[a].caTotal),"january"===_(s[a].mois).format("MMMM")||"janvier"===_(s[a].mois).format("MMMM")?this.colordata.push(this.color[0].name):"february"===_(s[a].mois).format("MMMM")||"f\xe9vrier"===_(s[a].mois).format("MMMM")?this.colordata.push(this.color[1].name):"march"===_(s[a].mois).format("MMMM")||"mars"===_(s[a].mois).format("MMMM")?this.colordata.push(this.color[2].name):"april"===_(s[a].mois).format("MMMM")||"avril"===_(s[a].mois).format("MMMM")?this.colordata.push(this.color[3].name):"May"===_(s[a].mois).format("MMMM")||"Mai"===_(s[a].mois).format("MMMM")?(console.log(_(s[a].mois).format("MMMM")),this.colordata.push(this.color[4].name)):"june"===_(s[a].mois).format("MMMM")||"juin"===_(s[a].mois).format("MMMM")?this.colordata.push(this.color[5].name):"july"===_(s[a].mois).format("MMMM")||"juillet"===_(s[a].mois).format("MMMM")?this.colordata.push(this.color[6].name):"august"===_(s[a].mois).format("MMMM")||"ao\xfbt"===_(s[a].mois).format("MMMM")?this.colordata.push(this.color[7].name):"semptember"===_(s[a].mois).format("MMMM")||"semptembre"===_(s[a].mois).format("MMMM")?this.colordata.push(this.color[8].name):"october"===_(s[a].mois).format("MMMM")||"octobre"===_(s[a].mois).format("MMMM")?this.colordata.push(this.color[9].name):"november"===_(s[a].mois).format("MMMM")||"novembre"===_(s[a].mois).format("MMMM")?this.colordata.push(this.color[10].name):this.colordata.push(this.color[11].name);console.log("colorData",this.colordata),this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.log(t),this.loading=!1}})}RenderChart(t,o,s,a,d){new Y.kL(d,{type:a,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:o,backgroundColor:s,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}generateYearsBetween(t=2e3,o=2100){const s=o||(new Date).getFullYear();let a=[];for(var d=t;d<=s;d++)a.push(t),t++;return console.log("years",a),a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.soG),e.Y36(p.gz),e.Y36(v.T),e.Y36(Z.q),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail-zone"]],decls:37,vars:25,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,""],["id","barchart"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5),e._UZ(10,"h6",6),e.qZA(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,ho,14,5,"tr",10),e.qZA()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",4)(30,"div",13)(31,"h6",6),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",7)(35,"div",14),e._UZ(36,"canvas",15),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,11,"DetailZone")," ",e.lcZ(5,13,"de")," ",o.zone," "),e.xp6(3),e.Q6J("routerLink",e.VKq(23,j,o.paysId)),e.xp6(7),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,15,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(21,17,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(24,19,"Action")),e.xp6(3),e.Q6J("ngForOf",o.allData),e.xp6(6),e.Oqu(e.lcZ(33,21,"CHIFFREDAFFAIREZone")))},dependencies:[l.sg,p.rH,T.G,m.X$]}),n})();function fo(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Zo(n,r){1&n&&e._UZ(0,"span",62)}function bo(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function vo(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,bo,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function Ao(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function So(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,Ao,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function To(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function qo(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,To,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function Co(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function wo(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,Co,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}function xo(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function yo(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,xo,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_naiss.errors.required)}}function Io(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Uo(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,Io,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lieu_naiss.errors.required)}}function Fo(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Oo(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,Fo,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.piece.errors.required)}}function Lo(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Do(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,Lo,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.grade.errors.required)}}function No(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Mo(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,No,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.maladie_exist.errors.required)}}function Jo(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Yo(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,Jo,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nbr_enfant.errors.required)}}const ko=function(){return["/rh/manager"]},y=function(n){return{"is-invalid":n}};let Eo=(()=>{class n{constructor(t,o,s,a,d,u,g,f){this.agenceService=t,this.managerService=o,this.fb=s,this.router=a,this.route=d,this.http=u,this.toastrService=g,this.translateService=f,this.keyLanguage="userLanguage",this.loading=!0,this.buttonloading=!1,this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.managereditForm=this.fb.group({nom:["",i.kI.required],prenom:["",i.kI.required],telephone:["",i.kI.required],date_naiss:["",i.kI.required],lieu_naiss:["",i.kI.required],piece:["",i.kI.required],num_piece:["",i.kI.required],grade:["",i.kI.required],situation_matrimonial:["",i.kI.required],ethnie:["",i.kI.required],religion:["",i.kI.required],maladie_exist:["",i.kI.required],nbr_enfant:["",i.kI.required],genre:["",i.kI.required]})}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.managerService.singleManager(t).subscribe(o=>{console.log(o.nom),this.managereditForm.patchValue({nom:o.nom,prenom:o.prenom,telephone:o.telephone,date_naiss:o.date_naiss,lieu_naiss:o.lieu_naiss,piece:o.piece,num_piece:o.num_piece,grade:o.grade,situation_matrimonial:o.situation_matrimonial,ethnie:o.ethnie,religion:o.religion,maladie_exist:o.maladie_exist,nbr_enfant:o.nbr_enfant,genre:o.genre})})}get f(){return this.managereditForm.controls}onSubmit(){if(this.submitted=!0,console.log(this.managereditForm.value),this.managereditForm?.invalid)return;this.buttonloading=!0;const t={nom:this.managereditForm.value.nom,prenom:this.managereditForm.value.prenom,fullnamemanager:`${this.managereditForm.value.nom}    ${this.managereditForm.value.prenom}`,telephone:this.managereditForm.value.telephone,date_naiss:this.managereditForm.value.date_naiss,lieu_naiss:this.managereditForm.value.lieu_naiss,piece:this.managereditForm.value.piece,num_piece:this.managereditForm.value.num_piece,grade:this.managereditForm.value.grade,genre:this.managereditForm.value.genre,situation_matrimonial:this.managereditForm.value.situation_matrimonial,ethnie:this.managereditForm.value.ethnie,religion:this.managereditForm.value.religion,maladie_exist:this.managereditForm.value.maladie_exist,nbr_enfant:this.managereditForm.value.nbr_enfant},o=this.route.snapshot.paramMap.get("id");this.managerService.updateManager(o,t).subscribe({next:s=>{this.toastrService.success(`Les informations du manager ${s.nom} ont bien \xe9t\xe9 modifi\xe9es!`)&&(this.buttonloading=!1,window.location.reload())},error:s=>{console.log(s),this.toastrService.error(s.error.message),this.buttonloading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(F.b),e.Y36(i.qu),e.Y36(p.F0),e.Y36(p.gz),e.Y36(A.eN),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-manager-form"]],decls:225,vars:94,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Manager"],["value","HCEF"],["value","Assistant Manager"],["value","Gestionnaire"],["value","Manager Superviseur de Zone"],["value","Manager Chef de section"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(12,"button",9),e.YNc(13,fo,3,3,"ng-container",10),e.YNc(14,Zo,1,0,"span",11),e.qZA(),e._uU(15,"\xa0 "),e.TgZ(16,"button",12),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"div",13)(21,"div",6),e._UZ(22,"br")(23,"br"),e.TgZ(24,"div",14)(25,"div",15)(26,"div",16)(27,"div",7)(28,"label",17),e._uU(29),e.ALo(30,"translate"),e.TgZ(31,"span",18),e._uU(32,"*"),e.qZA()()(),e.TgZ(33,"div",7),e._UZ(34,"input",19),e.YNc(35,vo,2,1,"div",20),e.qZA()()()(),e.TgZ(36,"div",14)(37,"div",15)(38,"div",16)(39,"div",21)(40,"label",22),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",18),e._uU(44,"*"),e.qZA()()(),e.TgZ(45,"div",7),e._UZ(46,"input",23),e.YNc(47,So,2,1,"div",20),e.qZA()()()(),e.TgZ(48,"div",14)(49,"div",15)(50,"div",16)(51,"div",21)(52,"label",17),e._uU(53),e.ALo(54,"translate"),e.TgZ(55,"span",18),e._uU(56,"*"),e.qZA()()(),e.TgZ(57,"div",7),e._UZ(58,"input",24),e.YNc(59,qo,2,1,"div",20),e.qZA()()()(),e.TgZ(60,"div",14)(61,"div",15)(62,"div",16)(63,"div",21)(64,"label",25),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"span",18),e._uU(68,"*"),e.qZA()()(),e.TgZ(69,"div",7)(70,"select",26)(71,"option",27),e._uU(72,"Feminin"),e.qZA(),e.TgZ(73,"option",28),e._uU(74,"Masculin"),e.qZA()(),e.YNc(75,wo,2,1,"div",20),e.qZA()()()()(),e.TgZ(76,"div",6),e._UZ(77,"br")(78,"br"),e.TgZ(79,"div",29)(80,"div",15)(81,"div",16)(82,"div",7)(83,"label",30),e._uU(84),e.ALo(85,"translate"),e.TgZ(86,"span",18),e._uU(87,"*"),e.qZA()()(),e.TgZ(88,"div",7),e._UZ(89,"input",31),e.YNc(90,yo,2,1,"div",20),e.qZA()()()(),e.TgZ(91,"div",29)(92,"div",15)(93,"div",16)(94,"div",7)(95,"label",32),e._uU(96),e.ALo(97,"translate"),e.TgZ(98,"span",18),e._uU(99,"*"),e.qZA()()(),e.TgZ(100,"div",7),e._UZ(101,"input",33),e.YNc(102,Uo,2,1,"div",20),e.qZA()()()(),e.TgZ(103,"div",29)(104,"div",15)(105,"div",16)(106,"div",7)(107,"label",34),e._uU(108),e.ALo(109,"translate"),e.TgZ(110,"span",18),e._uU(111,"*"),e.qZA()()(),e.TgZ(112,"div",7)(113,"select",35)(114,"option",36),e._uU(115,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(116,"option",37),e._uU(117,"attestation d'identit\xe9"),e.qZA(),e.TgZ(118,"option",38),e._uU(119,"passeport"),e.qZA()(),e.YNc(120,Oo,2,1,"div",20),e.qZA()()()()(),e.TgZ(121,"div",6),e._UZ(122,"br")(123,"br"),e.TgZ(124,"div",14)(125,"div",15)(126,"div",16)(127,"div",7)(128,"label",39),e._uU(129),e.ALo(130,"translate"),e.TgZ(131,"span",18),e._uU(132,"*"),e.qZA()()(),e.TgZ(133,"div",7),e._UZ(134,"input",40),e.qZA()()()(),e.TgZ(135,"div",29)(136,"div",15)(137,"div",16)(138,"div",7)(139,"label",41),e._uU(140),e.ALo(141,"translate"),e.TgZ(142,"span",18),e._uU(143,"*"),e.qZA()()(),e.TgZ(144,"div",7)(145,"select",42)(146,"option",43),e._uU(147,"mari\xe9"),e.qZA(),e.TgZ(148,"option",44),e._uU(149,"celibataire"),e.qZA(),e.TgZ(150,"option",45),e._uU(151,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(152,"div",29)(153,"div",15)(154,"div",16)(155,"div",7)(156,"label",46),e._uU(157),e.ALo(158,"translate"),e.TgZ(159,"span",18),e._uU(160,"*"),e.qZA()()(),e.TgZ(161,"div",7)(162,"select",47)(163,"option",48),e._uU(164,"Manager"),e.qZA(),e.TgZ(165,"option",49),e._uU(166,"HCEF"),e.qZA(),e.TgZ(167,"option",50),e._uU(168,"Assistant Manager"),e.qZA(),e.TgZ(169,"option",51),e._uU(170,"Gestionnaire"),e.qZA(),e.TgZ(171,"option",52),e._uU(172,"Manager Superviseur de Zone"),e.qZA(),e.TgZ(173,"option",53),e._uU(174,"Manager Chef de section"),e.qZA()(),e.YNc(175,Do,2,1,"div",20),e.qZA()()()()(),e.TgZ(176,"div",6),e._UZ(177,"br")(178,"br"),e.TgZ(179,"div",14)(180,"div",15)(181,"div",16)(182,"div",7)(183,"label",54),e._uU(184),e.ALo(185,"translate"),e.TgZ(186,"span",18),e._uU(187,"*"),e.qZA()()(),e.TgZ(188,"div",7),e._UZ(189,"input",55),e.qZA()()()(),e.TgZ(190,"div",14)(191,"div",15)(192,"div",16)(193,"div",7)(194,"label",56),e._uU(195),e.ALo(196,"translate"),e.TgZ(197,"span",18),e._uU(198,"*"),e.qZA()()(),e.TgZ(199,"div",7),e._UZ(200,"input",57),e.qZA()()()(),e.TgZ(201,"div",14)(202,"div",15)(203,"div",16)(204,"div",7)(205,"label",58),e._uU(206),e.ALo(207,"translate"),e.TgZ(208,"span",18),e._uU(209,"*"),e.qZA()()(),e.TgZ(210,"div",7),e._UZ(211,"input",59),e.YNc(212,Mo,2,1,"div",20),e.qZA()()()(),e.TgZ(213,"div",14)(214,"div",15)(215,"div",16)(216,"div",7)(217,"label",60),e._uU(218),e.ALo(219,"translate"),e.TgZ(220,"span",18),e._uU(221,"*"),e.qZA()()(),e.TgZ(222,"div",7),e._UZ(223,"input",61),e.YNc(224,Yo,2,1,"div",20),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,41,"ModifManager")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(73,ko)),e.xp6(6),e.Q6J("formGroup",o.managereditForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(18,43,"Annuler")),e.xp6(12),e.hij("",e.lcZ(30,45,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(74,y,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(42,47,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(76,y,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(54,49,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(78,y,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(66,51,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(80,y,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(85,53,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(82,y,o.submitted&&o.f.date_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_naiss.errors),e.xp6(6),e.hij("",e.lcZ(97,55,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(84,y,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lieu_naiss.errors),e.xp6(6),e.hij("",e.lcZ(109,57,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(86,y,o.submitted&&o.f.piece.errors)),e.xp6(7),e.Q6J("ngIf",o.submitted&&o.f.piece.errors),e.xp6(9),e.Oqu(e.lcZ(130,59,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(141,61,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(158,63,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(88,y,o.submitted&&o.f.grade.errors)),e.xp6(13),e.Q6J("ngIf",o.submitted&&o.f.grade.errors),e.xp6(9),e.Oqu(e.lcZ(185,65,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(196,67,"Religion")),e.xp6(11),e.Oqu(e.lcZ(207,69,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(90,y,o.submitted&&o.f.maladie_exist.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.maladie_exist.errors),e.xp6(6),e.Oqu(e.lcZ(219,71,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(92,y,o.submitted&&o.f.nbr_enfant.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nbr_enfant.errors))},dependencies:[l.mk,l.O5,p.rH,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u,m.X$]}),n})();var Qo=h(8067);function zo(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",8),e._uU(5),e.qZA(),e.TgZ(6,"td",8),e._uU(7),e.qZA(),e.TgZ(8,"td",8),e._uU(9),e.qZA(),e._UZ(10,"td",8),e.qZA()),2&n){const t=r.$implicit,o=e.oxw();e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(o.bureau),e.xp6(2),e.Oqu(t.salaire_manager),e.xp6(2),e.Oqu(t.garantie_manager)}}function jo(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Ko(n,r){1&n&&e._UZ(0,"span",30)}function Go(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Vo(n,r){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Go,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function Po(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"NomBureauObligatoire")))}function $o(n,r){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Po,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureau_name.errors.required)}}const Ro=function(n){return{"is-invalid":n}};function Ho(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Wo(n,r){1&n&&e._UZ(0,"span",25)}function en(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function tn(n,r){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,en,3,3,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function on(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function nn(n,r){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,on,2,0,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zone_name.errors.required)}}const rn=function(n){return{"is-invalid":n}},an=[{path:"",component:I},{path:"manager",component:re},{path:"edit-manager/:id",component:Eo},{path:"detail-manager/:id",component:(()=>{class n{constructor(t,o,s,a,d){this.route=t,this.agenceservice=o,this.salaireService=s,this.toastrService=a,this.translateService=d,this.managerData=[],this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new c.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getManagerSalaire(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}getManagerSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllsalaireByManager(this.id).subscribe({next:t=>{for(let o=0;o<t.length;o++)this.getbureau(t[o].salaireId.bureauId);this.managerData=t,this.dtTrigger.next(null),console.log(this.managerData)}})}getbureau(t){this.agenceservice.singleBureau(t).subscribe(o=>{this.bureau=o.bureau_name})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(Z.q),e.Y36(Qo.o),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail-manager"]],decls:28,vars:21,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,zo,11,5,"tr",7),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,9,"DetailManager")),e.xp6(6),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(13,11,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(16,13,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(19,15,"Salaire")),e.xp6(3),e.Oqu(e.lcZ(22,17,"Cotisation")),e.xp6(3),e.Oqu(e.lcZ(25,19,"Action")),e.xp6(3),e.Q6J("ngForOf",o.managerData))},dependencies:[l.sg,T.G,m.X$]}),n})()},{path:"affectation",component:ce},{path:"mission",component:Te},{path:"country",component:Fe},{path:"bureau",component:ct},{path:"employers",component:tt},{path:"zone",component:Tt},{path:"section",component:Dt},{path:"conge",component:$t},{path:"superviseur-zone",component:to},{path:"chef-section",component:so},{path:"zone-pays/:id",component:mo},{path:"detail-zone/:id",component:_o},{path:"edit-bureau/:id",component:(()=>{class n{constructor(t,o,s,a,d,u,g,f,S,D){this.agenceService=t,this.zoneService=o,this.sectionService=s,this.countryService=a,this.fb=d,this.router=u,this.route=g,this.http=f,this.toastrService=S,this.translateService=D,this.listCountry=[],this.listBureau=[],this.listZone=[],this.listSection=[],this.selectedcountryItems=[],this.selectedzoneItems=[],this.selectedsectionItems=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dropdownSectionSettings={},this.keyLanguage="userLanguage",this.percentDone=0,this.editbureauForm=new i.cw({bureau_name:new i.NI(""),countryId:new i.NI(""),zoneId:new i.NI(""),sectionId:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editbureauForm=this.fb.group({bureau_name:["",i.kI.required],countryId:["",i.kI.required],zoneId:[""],sectionId:[""]})}ngOnInit(){this.getAllCountry();const t=this.route.snapshot.paramMap.get("id");this.agenceService.singleBureau(t).subscribe(o=>{this.selectedcountryItems=o.findagence.countryId,this.selectedzoneItems=o.zone,this.selectedsectionItems=o.sectionId,this.editbureauForm.patchValue({bureau_name:o.findagence.bureau_name,countryId:[o.findagence.countryId],zoneId:[o.zone],sectionId:[o.section]})}),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSectionSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.editbureauForm.controls}onSubmit(){var t=this;return(0,O.Z)(function*(){if(t.submitted=!0,console.log(t.editbureauForm.value),t.editbureauForm?.invalid)return;const o=t.route.snapshot.paramMap.get("id");t.buttonloading=!0;const s={bureau_name:t.editbureauForm.value.bureau_name,countryId:t.editbureauForm.value.countryId[0]?._id,zoneId:t.editbureauForm.value.zoneId[0]?._id,sectionId:t.editbureauForm.value.sectionId[0]?._id};null==s.zoneId&&(s.zoneId=""),null==s.sectionId&&(s.sectionId=""),console.log("formData",s),t.agenceService.updateBureau(o,s).subscribe({next:a=>{console.log(a),t.toastrService.success(`Le pays ${a.bureau_name} a bien \xe9t\xe9 modifi\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1)},error:a=>{console.log(a),t.toastrService.error(a.error),t.buttonloading=!1}})})()}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,console.log(this.listCountry),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteBureau(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.agenceService.removeBureau(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),this.zoneService.getAllZonesByCountry(t._id).subscribe({next:o=>{this.listZone=o,this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureauForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemZoneSelect(t){console.log("onItemSelect",t),this.sectionService.getAllSectionsByZone(t._id).subscribe({next:o=>{this.listSection=o,console.log("section",this.listSection),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureauForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSectionSelect(t){console.log("onItemSelect",t),console.log("form model",this.editbureauForm.value)}onItemSectionDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureauForm.value)}onDropDownSectionClose(){console.log("dropdown closed")}toogleSectionShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleSectionShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}annuler(){this.router.navigate(["/rh/bureau"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(v.T),e.Y36(v.T),e.Y36(v.T),e.Y36(i.qu),e.Y36(p.F0),e.Y36(p.gz),e.Y36(A.eN),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-bureau"]],decls:66,vars:36,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","aria-label","Close",1,"btn","btn-danger",3,"click"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["formControlName","countryId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","zoneId"],["formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["for","sectionId"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","bureau_name"],[2,"color","hsl(0, 100%, 50%)(0, 100%, 50%)"],["type","text","placeholder","","id","bureau_name","formControlName","bureau_name",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"button",9),e.YNc(12,jo,3,3,"ng-container",10),e.YNc(13,Ko,1,0,"span",11),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",12),e.NdJ("click",function(){return o.annuler()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",13)(20,"div",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",7)(26,"label",18),e._uU(27),e.ALo(28,"translate"),e.TgZ(29,"span",19),e._uU(30,"*"),e.qZA()()(),e.TgZ(31,"div",7)(32,"ng-multiselect-dropdown",20),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(a){return o.onItemSelect(a)})("onDeSelect",function(a){return o.onItemDeSelect(a)}),e.qZA(),e.YNc(33,Vo,2,1,"div",21),e.qZA()()()(),e.TgZ(34,"div",15)(35,"div",16)(36,"div",17)(37,"div",7)(38,"label",22),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",7)(42,"ng-multiselect-dropdown",23),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(a){return o.onItemZoneSelect(a)})("onDeSelect",function(a){return o.onItemZoneDeSelect(a)}),e.qZA()()()()(),e.TgZ(43,"div",15)(44,"div",16)(45,"div",17)(46,"div",7)(47,"label",24),e._uU(48),e.ALo(49,"translate"),e.TgZ(50,"span",19),e._uU(51,"*"),e.qZA()()(),e.TgZ(52,"div",7)(53,"ng-multiselect-dropdown",25),e.NdJ("onDropDownClose",function(){return o.onDropDownSectionClose()})("onSelect",function(a){return o.onItemSectionSelect(a)})("onDeSelect",function(a){return o.onItemSectionDeSelect(a)}),e.qZA()()()()(),e.TgZ(54,"div",26)(55,"div",16)(56,"div",17)(57,"div",7)(58,"label",27),e._uU(59),e.ALo(60,"translate"),e.TgZ(61,"span",28),e._uU(62,"*"),e.qZA()()(),e.TgZ(63,"div",7),e._UZ(64,"input",29),e.YNc(65,$o,2,1,"div",21),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,22,"ModifBureau")),e.xp6(8),e.Q6J("formGroup",o.editbureauForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,24,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(28,26,"SelectPays")),e.xp6(5),e.Q6J("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij(" ",e.lcZ(40,28,"SelectionZone"),""),e.xp6(3),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownZoneSettings),e.xp6(6),e.Oqu(e.lcZ(49,30,"SelectionSection")),e.xp6(5),e.Q6J("data",o.listSection)("disabled",o.disabled)("settings",o.dropdownSectionSettings),e.xp6(6),e.Oqu(e.lcZ(60,32,"NomBureau")),e.xp6(5),e.Q6J("ngClass",e.VKq(34,Ro,o.submitted&&o.f.bureau_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureau_name.errors))},dependencies:[l.mk,l.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,C.OP,m.X$]}),n})()},{path:"edit-zone/:id",component:(()=>{class n{constructor(t,o,s,a,d,u,g,f,S,D){this.agenceService=t,this.zoneService=o,this.sectionService=s,this.countryService=a,this.fb=d,this.router=u,this.route=g,this.http=f,this.toastrService=S,this.translateService=D,this.listCountry=[],this.listZone=[],this.selectedcountryItems=[],this.selectedzoneItems=[],this.selectedsectionItems=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dropdownSectionSettings={},this.keyLanguage="userLanguage",this.percentDone=0,this.editzoneForm=new i.cw({zone_name:new i.NI(""),countryId:new i.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editzoneForm=this.fb.group({zone_name:["",i.kI.required],countryId:["",i.kI.required]})}ngOnInit(){this.getAllCountry();const t=this.route.snapshot.paramMap.get("id");this.zoneService.getsingleZone(t).subscribe(o=>{console.log("resultat:==>",o),this.selectedcountryItems=o.countryId,this.editzoneForm.patchValue({zone_name:o.zone_name,countryId:[o.countryId]})}),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.editzoneForm.controls}onSubmit(){var t=this;return(0,O.Z)(function*(){if(t.submitted=!0,console.log(t.editzoneForm.value),t.editzoneForm?.invalid)return;const o=t.route.snapshot.paramMap.get("id");t.buttonloading=!0;const s={zone_name:t.editzoneForm.value.zone_name,countryId:t.editzoneForm.value.countryId[0]?._id};console.log("formData",s),t.zoneService.updateZone(o,s).subscribe({next:a=>{console.log("data",a),t.toastrService.success(`La zone ${a.zone_name} a bien \xe9t\xe9 modifi\xe9e \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.router.navigate(["/rh/zone"]))},error:a=>{console.log(a),t.toastrService.error(a.error),t.buttonloading=!1}})})()}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,console.log(this.listCountry),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.editzoneForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editzoneForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}annuler(){this.router.navigate(["/rh/zone"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.q),e.Y36(v.T),e.Y36(v.T),e.Y36(v.T),e.Y36(i.qu),e.Y36(p.F0),e.Y36(p.gz),e.Y36(A.eN),e.Y36(b._W),e.Y36(m.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-zone"]],decls:46,vars:25,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["name","countryId","formControlName","countryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","zone_name"],["type","text","placeholder","","id","zone_name","formControlName","zone_name",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"button",9),e.YNc(12,Ho,3,3,"ng-container",10),e.YNc(13,Wo,1,0,"span",11),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",12),e.NdJ("click",function(){return o.annuler()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",13)(20,"div",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",7)(26,"label",18),e._uU(27),e.ALo(28,"translate"),e.TgZ(29,"span",19),e._uU(30,"*"),e.qZA()()(),e.TgZ(31,"div",7)(32,"ng-multiselect-dropdown",20),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(a){return o.onItemSelect(a)})("onDeSelect",function(a){return o.onItemDeSelect(a)}),e.qZA(),e.YNc(33,tn,2,1,"div",21),e.qZA()()()(),e.TgZ(34,"div",22)(35,"div",16)(36,"div",17)(37,"div",7)(38,"label",23),e._uU(39),e.ALo(40,"translate"),e.TgZ(41,"span",19),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",7),e._UZ(44,"input",24),e.YNc(45,nn,2,1,"div",21),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,15,"ModifZone")),e.xp6(8),e.Q6J("formGroup",o.editzoneForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,17,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(28,19,"SelectPays")),e.xp6(5),e.Q6J("placeholder","Select Country")("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij("",e.lcZ(40,21,"NomZone")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(23,rn,o.submitted&&o.f.zone_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zone_name.errors))},dependencies:[l.mk,l.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,C.OP,m.X$]}),n})()}];let sn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(an),p.Bz]}),n})();var ln=h(1744);function K(n){return new ln.w(n,"./assets/i18n/",".json")}let dn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,sn,i.UX,i.u5,C.ZQ,T.T.forRoot(),m.aw.forRoot({defaultLanguage:"en",loader:{provide:m.Zw,useFactory:K,deps:[A.eN]}})]}),n})()},1002:(k,U,h)=>{function l(p){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(p)}h.d(U,{Z:()=>l})}}]);