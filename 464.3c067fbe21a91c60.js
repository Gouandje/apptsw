"use strict";(self.webpackChunktswgestion=self.webpackChunktswgestion||[]).push([[464],{4508:(ar,Je,k)=>{k.d(Je,{q:()=>j});var f=k(2177),V=k(4650),e=k(529);let j=(()=>{class de{constructor(R){this.http=R}registerBureau(R){return this.http.post(f.k.CREATE_BUREAU,R)}updateBureau(R,ce){return this.http.patch(f.k.UPDATE_BUREAU+R,ce)}getAllBureaux(){return this.http.get(f.k.ALL_BUREAU)}getAllBureauxForMvt(){return this.http.get(f.k.ALL_BUREAU_FOR_MVT)}singleBureau(R){return this.http.get(f.k.GET_SINGLE_BUREAU+R)}siegeBureau(R){return this.http.get(f.k.GET_SIEGE_BUREAU+R)}getAllBureauByCountry(R){return this.http.get(f.k.GET_BUREAU_BY_COUNTRY+R)}getAllBureauByZone(R){return this.http.get(f.k.GET_BUREAU_BY_ZONE+R)}removeBureau(R){return this.http.delete(f.k.DELETED_BUREAU+R)}}return de.\u0275fac=function(R){return new(R||de)(V.LFG(e.eN))},de.\u0275prov=V.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},464:(ar,Je,k)=>{k.r(Je),k.d(Je,{KineModule:()=>vd,createTranslateLoader:()=>rr});var f=k(6895),V=k(3053),e=k(4650),j=k(1364);let de=(()=>{class n{constructor(t){this.translateService=t,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-kine"]],decls:28,vars:9,consts:[[1,"container-fluid"],[1,"d-sm-flex","align-items-center","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"row"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","border-left-dark","border-bottom-dark","shadow","h-100","py-2"],["routerLink","/kine/list-patient",1,"btn"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"col-auto"],[1,"fas","fa-calendar","fa-2x","text-gray-300"],["routerLink","/kine/chiffre-affaire",1,"btn"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",11),e._UZ(16,"i",12),e.qZA()()()()()(),e.TgZ(17,"div",4)(18,"div",5)(19,"a",13)(20,"div",7)(21,"div",8)(22,"div",9)(23,"div",10),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",11),e._UZ(27,"i",12),e.qZA()()()()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,3,"AcceuilKine")),e.xp6(10),e.hij(" ",e.lcZ(14,5,"Gestionpatients"),""),e.xp6(11),e.hij(" ",e.lcZ(25,7,"CHIFFREDAFFAIRE"),""))},dependencies:[V.rH,j.X$]}),n})();var I=k(4006),R=k(5006),ce=k(7185);function or(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw();return e.KtG(o.payerSeance(a))}),e._uU(1,"Payer"),e.qZA()}}const sr=function(n,i){return{"badge badge-success":n,"badge badge-danger":i}};function lr(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",20)(6,"span",21),e._uU(7),e.ALo(8,"uppercase"),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td"),e.YNc(13,or,2,0,"button",22),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.seance_title),e.xp6(2),e.Oqu(t.cout_seance),e.xp6(2),e.Q6J("ngClass",e.WLB(11,sr,"pay\xe9"===t.status_paid_seance,"impay\xe9"===t.status_paid_seance)),e.xp6(1),e.hij(" ",e.lcZ(8,6,t.status_paid_seance)," "),e.xp6(3),e.Oqu(e.xi3(11,8,t.date_created_seance,"dd MMMM \xe0 HH:mm")),e.xp6(3),e.Q6J("ngIf","impay\xe9"===t.status_paid_seance)}}let dr=(()=>{class n{constructor(t,r,a,o,s,l){this.fb=t,this.patientService=r,this.router=a,this.route=o,this.toastrService=s,this.translateService=l,this.submitted=!1,this.seancespatient=[],this.nombre_seance=0,this.cout_seance=0,this.montant_reduction=0,this.nbre_seance_paye=0,this.total_a_payer=0,this.montant_total=this.nombre_seance*this.cout_seance,this.isCheckAll=!1,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getsinglepatient(),this.getAllseancepatient()}getsinglepatient(){this.id=this.route.snapshot.paramMap.get("id"),this.patientService.singlePatientkine(this.id).subscribe(t=>{console.log(t),this.nom_prenom=t.nom_prenom,this.genre=t.genre,this.telephone=t.telephone})}getAllseancepatient(){this.id=this.route.snapshot.paramMap.get("id"),this.patientService.AllseancePatientkine(this.id).subscribe(t=>{console.log("s\xe9ances=>",t),this.seancespatient=t})}createseance(t,r,a,o,s,l){if(this.id=this.route.snapshot.paramMap.get("id"),console.log(t,r,a,o,s,l),s>0){for(let u=1;u<=s;u++){const d={patientkineId:this.id,seance_title:`s\xe9ance ${u}`,status_paid_seance:"pay\xe9",date_created_seance:Date(),cout_seance:r};this.patientService.registerseancePatientkine(d).subscribe(m=>{this.toastrService.success("Les s\xe9ances ont \xe9t\xe9 cr\xe9\xe9e dans la base de donn\xe9es !")})}for(let u=s+1;u<=t;u++){const d={patientkineId:this.id,seance_title:`s\xe9ance ${u}`,status_paid_seance:"impay\xe9",date_created_seance:Date(),cout_seance:r};this.patientService.registerseancePatientkine(d).subscribe(m=>{this.toastrService.success("Les s\xe9ances ont \xe9t\xe9 cr\xe9\xe9e dans la base de donn\xe9es !"),window.location.reload()})}}else for(let u=1;u<=t;u++){const d={patientkineId:this.id,seance_title:`s\xe9ance ${u}`,status_paid_seance:"impay\xe9",date_created_seance:Date(),cout_seance:r};this.patientService.registerseancePatientkine(d).subscribe(m=>{this.toastrService.success("Les s\xe9ances ont \xe9t\xe9 cr\xe9\xe9e dans la base de donn\xe9es !"),window.location.reload()}),console.log(d)}}payerSeance(t){this.id=this.route.snapshot.paramMap.get("id");const r={patientkineId:t.patientkineId._id,seance_title:t.seance_title,status_paid_seance:"pay\xe9",date_created_seance:Date(),cout_seance:t.cout_seance};this.patientService.payerseancePatientkine(t._id,r).subscribe(a=>{this.toastrService.success(`${a.seance_title}. pay\xe9e et mise \xe0 jour !`),window.location.reload()}),console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I.qu),e.Y36(R.e),e.Y36(V.F0),e.Y36(V.gz),e.Y36(ce._W),e.Y36(j.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detailt-patient"]],decls:94,vars:11,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","/kine/list-patient",1,"btn","btn-primary"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"table","table-bordered"],["scope","col"],[1,"col-6"],[1,"col-6","text-end"],[1,"container"],[1,"col-lg-12","col-md-12"],[4,"ngFor","ngForOf"],[1,"text-uppercase","table-dark"],["scope","row",1,"align-middle"],["type","number","min","1",1,"form-control",3,"ngModel","ngModelChange"],["type","number","min","1000",1,"form-control",3,"ngModel","ngModelChange"],["type","number","min","0",1,"form-control",3,"ngModel","value","ngModelChange"],["type","number","min","0",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"text-center"],[3,"ngClass"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4," D\xe9tails du patient "),e.qZA(),e._UZ(5,"div"),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"table",6)(10,"thead")(11,"th",7),e._uU(12,"Nom et pr\xe9noms"),e.qZA(),e.TgZ(13,"th",7),e._uU(14,"Num\xe9ro de t\xe9l\xe9phone"),e.qZA(),e.TgZ(15,"th",7),e._uU(16,"Genre"),e.qZA()(),e.TgZ(17,"tbody")(18,"tr")(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA()()()()()()(),e._UZ(25,"br"),e.TgZ(26,"div",3),e._UZ(27,"div",8)(28,"div",9)(29,"br"),e.qZA(),e.TgZ(30,"div",3)(31,"div",4)(32,"div",10)(33,"div",5)(34,"div",3)(35,"div",11)(36,"table",6)(37,"thead")(38,"th",7),e._uU(39,"Titre de la s\xe9ance"),e.qZA(),e.TgZ(40,"th",7),e._uU(41,"Co\xfbt de la s\xe9ance"),e.qZA(),e.TgZ(42,"th",7),e._uU(43,"Status de paiement"),e.qZA(),e.TgZ(44,"th",7),e._uU(45,"Cr\xe9\xe9e le:"),e.qZA(),e.TgZ(46,"th",7),e._uU(47,"Pay\xe9 le:"),e.qZA(),e.TgZ(48,"th",7),e._uU(49,"Action"),e.qZA()(),e.TgZ(50,"tbody"),e.YNc(51,lr,14,14,"tr",12),e.TgZ(52,"tr")(53,"td"),e._uU(54,"Total"),e.qZA()()()()()(),e._UZ(55,"br")(56,"hr"),e.TgZ(57,"div",3)(58,"div",11)(59,"table",6)(60,"thead")(61,"tr",13)(62,"th",7),e._uU(63,"Nombre de s\xe9ance \xe0 faire"),e.qZA(),e.TgZ(64,"th",7),e._uU(65,"Co\xfbt de la s\xe9ance"),e.qZA(),e.TgZ(66,"th",7),e._uU(67,"Co\xfbt Total"),e.qZA(),e.TgZ(68,"th",7),e._uU(69,"Montant de r\xe9duction"),e.qZA(),e.TgZ(70,"th",7),e._uU(71,"Nombre de s\xe9ances pay\xe9"),e.qZA(),e.TgZ(72,"th",7),e._uU(73,"Reste Total \xe0 payer"),e.qZA(),e.TgZ(74,"th",7),e._uU(75,"Action"),e.qZA()()(),e.TgZ(76,"tbody")(77,"tr")(78,"td",14)(79,"input",15),e.NdJ("ngModelChange",function(o){return r.nombre_seance=o}),e.qZA()(),e.TgZ(80,"td")(81,"input",16),e.NdJ("ngModelChange",function(o){return r.cout_seance=o}),e.qZA()(),e.TgZ(82,"td")(83,"input",17),e.NdJ("ngModelChange",function(o){return r.montant_total=o}),e.qZA()(),e.TgZ(84,"td")(85,"input",18),e.NdJ("ngModelChange",function(o){return r.montant_reduction=o}),e.qZA()(),e.TgZ(86,"td")(87,"input",18),e.NdJ("ngModelChange",function(o){return r.nbre_seance_paye=o}),e.qZA()(),e.TgZ(88,"td")(89,"input",18),e.NdJ("ngModelChange",function(o){return r.total_a_payer=o}),e.qZA()(),e.TgZ(90,"td")(91,"button",19),e.NdJ("click",function(){return r.createseance(r.nombre_seance,r.cout_seance,r.montant_total,r.montant_reduction,r.nbre_seance_paye,r.total_a_payer)}),e._uU(92,"Enregistrer"),e.qZA()()()()()()()()()()(),e._UZ(93,"br"),e.qZA()),2&t&&(e.xp6(20),e.Oqu(r.nom_prenom),e.xp6(2),e.Oqu(r.telephone),e.xp6(2),e.Oqu(r.genre),e.xp6(27),e.Q6J("ngForOf",r.seancespatient),e.xp6(28),e.Q6J("ngModel",r.nombre_seance),e.xp6(2),e.Q6J("ngModel",r.cout_seance),e.xp6(2),e.Q6J("ngModel",r.montant_total)("value",r.nombre_seance*r.cout_seance),e.xp6(2),e.Q6J("ngModel",r.montant_reduction),e.xp6(2),e.Q6J("ngModel",r.nbre_seance_paye),e.xp6(2),e.Q6J("ngModel",r.total_a_payer))},dependencies:[f.mk,f.sg,f.O5,V.rH,I.Fj,I.wV,I.JJ,I.qQ,I.On,f.gd,f.uU]}),n})();var N=k(7579),Ie=k(529),ht=k(5415);function cr(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",9)(5,"div"),e._uU(6),e.qZA()()()),2&n){const t=i.$implicit;e.xp6(3),e.AsE("",t.mois," ",t.annee,""),e.xp6(3),e.Oqu(t.chiffreAff)}}let ur=(()=>{class n{constructor(t,r,a,o,s){this.patientService=t,this.router=r,this.http=a,this.toastrService=o,this.translateService=s,this.listChiffreAffaire=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new N.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllCakine(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}getAllCakine(){this.patientService.AllCakine().subscribe(t=>{this.listChiffreAffaire=t,this.dtTrigger.next(null)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R.e),e.Y36(V.F0),e.Y36(Ie.eN),e.Y36(ce._W),e.Y36(j.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chiffre-affaire"]],decls:21,vars:12,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","/kine/list-patient",1,"btn","btn-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"text-center"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3),e._UZ(7,"div",4),e.TgZ(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,cr,7,3,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,6,"CHIFFREDAFFAIRE")," "),e.xp6(6),e.Q6J("dtOptions",r.dtoptions)("dtTrigger",r.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(15,8,"Mois")),e.xp6(3),e.Oqu(e.lcZ(18,10,"CHIFFREDAFFAIRE")),e.xp6(3),e.Q6J("ngForOf",r.listChiffreAffaire))},dependencies:[f.sg,V.rH,ht.G,j.X$]}),n})();const ve=function(n){return["/kine/detail-patient",n]},pr=function(n){return["/kine/edit-patient",n]};function mr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",13)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",14)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",14)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",14)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",14)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",14)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"div")(21,"a",15),e._UZ(22,"i",16),e.qZA(),e._uU(23,"\xa0 "),e.TgZ(24,"a",15),e._UZ(25,"i",17),e.qZA(),e._uU(26,"\xa0 "),e.TgZ(27,"a",18),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeletepatient(o._id))}),e._UZ(28,"i",19),e.qZA()(),e._UZ(29,"div"),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(14,ve,t._id)),e.xp6(2),e.Oqu(t.nom_prenom),e.xp6(1),e.Q6J("routerLink",e.VKq(16,ve,t._id)),e.xp6(2),e.Oqu(t.telephone),e.xp6(1),e.Q6J("routerLink",e.VKq(18,ve,t._id)),e.xp6(2),e.Oqu(t.genre),e.xp6(1),e.Q6J("routerLink",e.VKq(20,ve,t._id)),e.xp6(2),e.Oqu(t.bureauId.bureau_name),e.xp6(1),e.Q6J("routerLink",e.VKq(22,ve,t._id)),e.xp6(2),e.Oqu(t.agent),e.xp6(1),e.Q6J("routerLink",e.VKq(24,ve,t._id)),e.xp6(2),e.Oqu(t.service),e.xp6(3),e.Q6J("routerLink",e.VKq(26,ve,t._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(28,pr,t._id))}}let hr=(()=>{class n{constructor(t,r,a,o,s){this.patientService=t,this.router=r,this.http=a,this.toastrService=o,this.translateService=s,this.listPatient=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new N.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllPatient(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}getAllPatient(){this.patientService.getAllPatientKine("kin\xe9sith\xe9rapie").subscribe({next:r=>{this.listPatient=r,console.log(this.listPatient),this.dtTrigger.next(null),this.loading=!1},error:r=>{console.log(r),this.loading=!1}})}onDeletepatient(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.patientService.removePatient(t).subscribe({next:r=>{this.toastrService.success(r)},error:r=>{console.log(r),this.loading=!1}}),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R.e),e.Y36(V.F0),e.Y36(Ie.eN),e.Y36(ce._W),e.Y36(j.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-patient"]],decls:46,vars:33,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","/kine",1,"btn","btn-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["routerLink","/kine/create-patient",1,"btn","btn-primary"],[1,"fa","fa-plus"],["routerLink","/kine/planning",1,"btn","btn-primary"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"text-center",3,"routerLink"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"fa","fa-pen"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"h6",5)(9,"a",6),e._UZ(10,"i",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._uU(13,"\xa0 "),e.TgZ(14,"a",8),e._UZ(15,"i",7),e._uU(16),e.ALo(17,"translate"),e.qZA()()(),e.TgZ(18,"div",9)(19,"div",10)(20,"table",11)(21,"thead")(22,"tr")(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA()()(),e.TgZ(44,"tbody"),e.YNc(45,mr,30,30,"tr",12),e.qZA()()()()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Gestionpatients")," "),e.xp6(7),e.hij("\xa0",e.lcZ(12,15,"Ajouterpatient")," "),e.xp6(5),e.hij("\xa0",e.lcZ(17,17,"Planning")," "),e.xp6(4),e.Q6J("dtOptions",r.dtoptions)("dtTrigger",r.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(25,19,"NomPrenom")),e.xp6(3),e.Oqu(e.lcZ(28,21,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(31,23,"Genre")),e.xp6(3),e.hij("",e.lcZ(34,25,"Agent")," "),e.xp6(3),e.hij("",e.lcZ(37,27,"NomBureau")," "),e.xp6(3),e.Oqu(e.lcZ(40,29,"Service")),e.xp6(3),e.Oqu(e.lcZ(43,31,"Action")),e.xp6(3),e.Q6J("ngForOf",r.listPatient))},dependencies:[f.sg,V.rH,ht.G,j.X$]}),n})();var gr=k(4508),gt=k(3056);function vr(n,i){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function fr(n,i){1&n&&e._UZ(0,"span",39)}function yr(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function wr(n,i){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,yr,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom_prenom.errors.required)}}function _r(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function Cr(n,i){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,_r,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function Dr(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Tr(n,i){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,Dr,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}function br(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Sr(n,i){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,br,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.agent.errors.required)}}function kr(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Er(n,i){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,kr,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephoneagent.errors.required)}}function Mr(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Or(n,i){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,Mr,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.service.errors.required)}}function xr(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BureauObligatoire")))}function Ar(n,i){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,xr,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}const De=function(n){return{"is-invalid":n}};let Ir=(()=>{class n{constructor(t,r,a,o,s,l,u){this.agenceService=t,this.patientService=r,this.fb=a,this.router=o,this.http=s,this.toastrService=l,this.translateService=u,this.listBureau=[],this.listManager=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new N.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.patientForm=new I.cw({nom_prenom:new I.NI(""),telephone:new I.NI(""),genre:new I.NI(""),bureauId:new I.NI(""),agent:new I.NI(""),telephoneagent:new I.NI(""),service:new I.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.patientForm=this.fb.group({nom_prenom:["",I.kI.required],telephone:["",I.kI.required],genre:["",I.kI.required],bureauId:[""],agent:["",I.kI.required],telephoneagent:["",I.kI.required],service:["",I.kI.required]})}get f(){return this.patientForm.controls}ngOnInit(){this.getAllBureau(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}onSubmit(){if(this.submitted=!0,console.log(this.patientForm.value),this.patientForm?.invalid)return;this.buttonloading=!0;const t={nom_prenom:this.patientForm.value.nom_prenom,telephone:this.patientForm.value.telephone,genre:this.patientForm.value.genre,bureauId:this.patientForm.value.bureauId[0]._id,agent:this.patientForm.value.agent,telephoneagent:this.patientForm.value.telephoneagent,service:this.patientForm.value.service};console.log(t),this.patientService.registerPatient(t).subscribe({next:r=>{console.log(r),this.toastrService.success(`Le patient ${r.nom_prenom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.router.navigate(["/kine/detail-patient/",r._id]),this.buttonloading=!1,this.ngOnInit())},error:r=>{console.log(r),this.toastrService.error(r.error),this.buttonloading=!1}})}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.patientForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.patientForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(gr.q),e.Y36(R.e),e.Y36(I.qu),e.Y36(V.F0),e.Y36(Ie.eN),e.Y36(ce._W),e.Y36(j.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-patient"]],decls:119,vars:59,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","['/kine/list-patient']",1,"btn","btn-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["routerLink","['/kine/list-patient']",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],["for","nom_prenom"],[2,"color","red"],["type","text","placeholder","","id","nom_prenom","formControlName","nom_prenom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","nom"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","agent"],["type","text","placeholder","","id","agent","formControlName","agent",1,"form-control",3,"ngClass"],["for","telephoneagent"],["type","text","placeholder","","id","telephoneagent","formControlName","telephoneagent",1,"form-control",3,"ngClass"],["for","service"],["formControlName","service","id","service",1,"form-control",3,"ngClass"],["value","kin\xe9sith\xe9rapie"],["value","service m\xe9dical"],[1,"col-lg-3","col-md-3"],["for","bureau"],["formControlName","bureauId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"form",7),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(11,"button",8),e.YNc(12,vr,3,3,"ng-container",9),e.YNc(13,fr,1,0,"span",10),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"a",11),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",12)(20,"div",5),e._UZ(21,"br")(22,"br"),e.TgZ(23,"div",13)(24,"div",14)(25,"div",15)(26,"div",6)(27,"label",16),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"span",17),e._uU(31,"*"),e.qZA()()(),e.TgZ(32,"div",6),e._UZ(33,"input",18),e.YNc(34,wr,2,1,"div",19),e.qZA()()()(),e.TgZ(35,"div",13)(36,"div",14)(37,"div",15)(38,"div",20)(39,"label",21),e._uU(40),e.ALo(41,"translate"),e.TgZ(42,"span",17),e._uU(43,"*"),e.qZA()()(),e.TgZ(44,"div",6),e._UZ(45,"input",22),e.YNc(46,Cr,2,1,"div",19),e.qZA()()()(),e.TgZ(47,"div",13)(48,"div",14)(49,"div",15)(50,"div",20)(51,"label",23),e._uU(52),e.ALo(53,"translate"),e.TgZ(54,"span",17),e._uU(55,"*"),e.qZA()()(),e.TgZ(56,"div",6)(57,"select",24)(58,"option",25),e._uU(59,"Feminin"),e.qZA(),e.TgZ(60,"option",26),e._uU(61,"Masculin"),e.qZA()(),e.YNc(62,Tr,2,1,"div",19),e.qZA()()()()(),e.TgZ(63,"div",5),e._UZ(64,"br")(65,"br"),e.TgZ(66,"div",27)(67,"div",14)(68,"div",15)(69,"div",6)(70,"label",28),e._uU(71),e.ALo(72,"translate"),e.TgZ(73,"span",17),e._uU(74,"*"),e.qZA()()(),e.TgZ(75,"div",6),e._UZ(76,"input",29),e.YNc(77,Sr,2,1,"div",19),e.qZA()()()(),e.TgZ(78,"div",27)(79,"div",14)(80,"div",15)(81,"div",6)(82,"label",30),e._uU(83),e.ALo(84,"translate"),e.TgZ(85,"span",17),e._uU(86,"*"),e.qZA()()(),e.TgZ(87,"div",6),e._UZ(88,"input",31),e.YNc(89,Er,2,1,"div",19),e.qZA()()()(),e.TgZ(90,"div",27)(91,"div",14)(92,"div",15)(93,"div",6)(94,"label",32),e._uU(95),e.ALo(96,"translate"),e.TgZ(97,"span",17),e._uU(98,"*"),e.qZA()()(),e.TgZ(99,"div",6)(100,"select",33)(101,"option",34),e._uU(102,"Kin\xe9sith\xe9rapie"),e.qZA(),e.TgZ(103,"option",35),e._uU(104,"service m\xe9dical"),e.qZA()(),e.YNc(105,Or,2,1,"div",19),e.qZA()()()()(),e.TgZ(106,"div",5)(107,"div",36)(108,"div",14)(109,"div",15)(110,"div",6)(111,"label",37),e._uU(112),e.ALo(113,"translate"),e.TgZ(114,"span",17),e._uU(115,"*"),e.qZA()()(),e.TgZ(116,"div",6)(117,"ng-multiselect-dropdown",38),e.NdJ("onDropDownClose",function(){return r.onDropDownClose()})("onSelect",function(o){return r.onItemSelect(o)})("onDeSelect",function(o){return r.onItemDeSelect(o)}),e.qZA(),e.YNc(118,Ar,2,1,"div",19),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,29,"Gestionpatients")," "),e.xp6(6),e.Q6J("formGroup",r.patientForm),e.xp6(1),e.Q6J("disabled",r.buttonloading),e.xp6(1),e.Q6J("ngIf",!r.buttonloading),e.xp6(1),e.Q6J("ngIf",r.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,31,"Annuler")),e.xp6(12),e.hij("",e.lcZ(29,33,"NomPrenom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(47,De,r.submitted&&r.f.nom_prenom.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.nom_prenom.errors),e.xp6(6),e.Oqu(e.lcZ(41,35,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(49,De,r.submitted&&r.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(53,37,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(51,De,r.submitted&&r.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",r.submitted&&r.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(72,39,"Agent")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(53,De,r.submitted&&r.f.agent.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.agent.errors),e.xp6(6),e.hij("",e.lcZ(84,41,"TelephoneAgent")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(55,De,r.submitted&&r.f.telephoneagent.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.telephoneagent.errors),e.xp6(6),e.hij("",e.lcZ(96,43,"Service")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(57,De,r.submitted&&r.f.service.errors)),e.xp6(5),e.Q6J("ngIf",r.submitted&&r.f.service.errors),e.xp6(7),e.Oqu(e.lcZ(113,45,"NomBureau")),e.xp6(5),e.Q6J("data",r.listBureau)("disabled",r.disabled)("settings",r.dropdownSettings),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.f.bureauId.errors))},dependencies:[f.mk,f.O5,V.rH,I._Y,I.YN,I.Kr,I.Fj,I.EJ,I.JJ,I.JL,I.sg,I.u,gt.OP,j.X$]}),n})();var je=function(){return je=Object.assign||function(i){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o]);return i},je.apply(this,arguments)};function p(n,i,t,r){var s,a=arguments.length,o=a<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,i,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(a<3?s(o):a>3?s(i,t,o):s(i,t))||o);return a>3&&o&&Object.defineProperty(i,t,o),o}function Te(n,i){return function(t,r){i(t,r,n)}}function c(n,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,i)}var Zr=function(){function n(){}return n.prototype.getAllStyles=function(i){return window.getComputedStyle(i)},n.prototype.getStyle=function(i,t){return this.getAllStyles(i)[t]},n.prototype.isStaticPositioned=function(i){return"static"===(this.getStyle(i,"position")||"static")},n.prototype.offsetParent=function(i){for(var t=i.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},n.prototype.position=function(i,t){void 0===t&&(t=!0);var r,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(i,"position"))r={top:(r=i.getBoundingClientRect()).top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var o=this.offsetParent(i);r=this.offset(i,!1),o!==document.documentElement&&(a=this.offset(o,!1)),a.top+=o.clientTop,a.left+=o.clientLeft}return r.top-=a.top,r.bottom-=a.top,r.left-=a.left,r.right-=a.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},n.prototype.offset=function(i,t){void 0===t&&(t=!0);var r=i.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft,o={height:r.height||i.offsetHeight,width:r.width||i.offsetWidth,top:r.top+a_top,bottom:r.bottom+a_top,left:r.left+a_left,right:r.right+a_left};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},n.prototype.positionElements=function(i,t,r,a){var o=r.split("-"),s=o[0],l=void 0===s?"top":s,u=o[1],d=void 0===u?"center":u,m=a?this.offset(i,!1):this.position(i,!1),g=this.getAllStyles(t),v=parseFloat(g.marginTop),h=parseFloat(g.marginBottom),y=parseFloat(g.marginLeft),b=parseFloat(g.marginRight),_=0,S=0;switch(l){case"top":_=m.top-(t.offsetHeight+v+h);break;case"bottom":_=m.top+m.height;break;case"left":S=m.left-(t.offsetWidth+y+b);break;case"right":S=m.left+m.width}switch(d){case"top":_=m.top;break;case"bottom":_=m.top+m.height-t.offsetHeight;break;case"left":S=m.left;break;case"right":S=m.left+m.width-t.offsetWidth;break;case"center":"top"===l||"bottom"===l?S=m.left+m.width/2-t.offsetWidth/2:_=m.top+m.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(S)+"px, "+Math.round(_)+"px)";var M=t.getBoundingClientRect(),T=document.documentElement,O=window.innerHeight||T.clientHeight,H=window.innerWidth||T.clientWidth;return M.left>=0&&M.top>=0&&M.right<=H&&M.bottom<=O},n}(),Wr=/\s+/,Qt=new Zr,Fr=k(9646),ft=k(5963),Be=k(9751),Lr=k(1135),Gt=k(4986),ie=k(2722),Qe=k(3900),yt=k(8675),Yr=k(576),q=k(4004),G=function(){return G=Object.assign||function(n){for(var i,t=1,r=arguments.length;t<r;t++)for(var a in i=arguments[t])Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a]);return n},G.apply(this,arguments)},Kt=function(){for(var n=0,i=0,t=arguments.length;i<t;i++)n+=arguments[i].length;var r=Array(n),a=0;for(i=0;i<t;i++)for(var o=arguments[i],s=0,l=o.length;s<l;s++,a++)r[a]=o[s];return r},He=(()=>{return(n=He||(He={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",He;var n})(),Ur=[He.SUNDAY,He.SATURDAY],wt=7,_t=24,Ge=60,ue=86400;function Xt(n,i){var t=i.startDate,a=i.excluded,o=i.precision;if(a.length<1)return 0;for(var l=n.getDay,u=n.addDays,d=(0,n.addSeconds)(t,i.seconds-1),m=l(t),g=l(d),v=0,h=t,y=function(){var b=l(h);a.some(function(_){return _===b})&&(v+=function zr(n,i){var r=i.day,o=i.dayEnd,s=i.startDate,l=i.endDate,u=n.differenceInSeconds,m=n.startOfDay;if("minutes"===i.precision){if(r===i.dayStart)return u((0,n.endOfDay)(s),s)+1;if(r===o)return u(l,m(l))+1}return ue}(n,{dayStart:m,dayEnd:g,day:b,precision:o,startDate:t,endDate:d})),h=u(h,1)};h<d;)y();return v}function Ze(n,i){var r=i.periodStart,a=i.periodEnd;return i.events.filter(function(o){return function Jr(n,i){var t=i.event,r=i.periodStart,a=i.periodEnd,o=n.isSameSecond,s=t.start,l=t.end||t.start;return!!(s>r&&s<a||l>r&&l<a||s<r&&l>a||o(s,r)||o(s,a)||o(l,r)||o(l,a))}(n,{event:o,periodStart:r,periodEnd:a})})}function en(n,i){var t=i.date,r=i.weekendDays,a=void 0===r?Ur:r,s=n.isSameDay,l=n.getDay,u=(0,n.startOfDay)(new Date),d=l(t);return{date:t,day:d,isPast:t<u,isToday:s(t,u),isFuture:t>u,isWeekend:a.indexOf(d)>-1}}function Ct(n,i){for(var a=i.excluded,o=void 0===a?[]:a,s=i.weekendDays,l=i.viewStart,u=void 0===l?n.startOfWeek(i.viewDate,{weekStartsOn:i.weekStartsOn}):l,d=i.viewEnd,m=void 0===d?n.addDays(u,wt):d,g=n.addDays,v=n.getDay,h=[],y=u;y<m;)o.some(function(b){return v(y)===b})||h.push(en(n,{date:y,weekendDays:s})),y=g(y,1);return h}function $r(n,i){var t=i.events,r=void 0===t?[]:t,a=i.excluded,o=void 0===a?[]:a,s=i.precision,l=void 0===s?"days":s,u=i.absolutePositionedEvents,d=void 0!==u&&u,m=i.viewStart,g=i.viewEnd;m=n.startOfDay(m),g=n.endOfDay(g);var v=n.differenceInSeconds,h=n.differenceInDays,y=function jr(n,i){for(var r=i.date2,a=i.excluded,o=i.date1,s=0;o<r;)-1===a.indexOf(n.getDay(o))&&s++,o=n.addDays(o,1);return s}(n,{date1:m,date2:g,excluded:o}),b=h(g,m)+1,_=r.filter(function(T){return T.allDay}).map(function(T){var O=function qr(n,i){var t=i.event,r=i.startOfWeek,a=i.excluded,o=i.precision,s=n.differenceInDays,l=n.startOfDay,u=n.differenceInSeconds;if(t.start<r)return 0;var d=0;switch(o){case"days":d=s(l(t.start),r)*ue;break;case"minutes":d=u(t.start,r)}return d-=Xt(n,{startDate:r,seconds:d,excluded:a,precision:o}),Math.abs(d/ue)}(n,{event:T,startOfWeek:m,excluded:o,precision:l}),H=function Vr(n,i){var t=i.event,r=i.offset,o=i.excluded,s=i.precision,l=i.totalDaysInView,d=n.differenceInSeconds,m=n.addDays,g=n.endOfDay,v=n.differenceInDays,h=ue,y=(0,n.max)([t.start,i.startOfWeekDate]);t.end&&(h="minutes"===s?d(t.end,y):v(m(g(t.end),1),y)*ue);var b=r*ue,S=l*ue;return b+h>S&&(h=S-b),(h-=Xt(n,{startDate:y,seconds:h,excluded:o,precision:s}))/ue}(n,{event:T,offset:O,startOfWeekDate:m,excluded:o,precision:l,totalDaysInView:b});return{event:T,offset:O,span:H}}).filter(function(T){return T.offset<y}).filter(function(T){return T.span>0}).map(function(T){return{event:T.event,offset:T.offset,span:T.span,startsBeforeWeek:T.event.start<m,endsAfterWeek:(T.event.end||T.event.start)>g}}).sort(function(T,O){var H=v(T.event.start,O.event.start);return 0===H?v(O.event.end||O.event.start,T.event.end||T.event.start):H}),S=[],M=[];return _.forEach(function(T,O){if(-1===M.indexOf(T)){M.push(T);var H=T.span+T.offset,P=_.slice(O+1).filter(function(x){if(x.offset>=H&&H+x.span<=b&&-1===M.indexOf(x)){var E=x.offset-H;return d||(x.offset=E),H+=x.span+E,M.push(x),!0}}),L=Kt([T],P),B=L.filter(function(x){return x.event.id}).map(function(x){return x.event.id}).join("-");S.push(G({row:L},B?{id:B}:{}))}}),S}function Qr(n,i){var t=i.events,r=i.viewDate,a=i.hourSegments,o=i.hourDuration,s=i.dayStart,l=i.dayEnd,u=i.weekStartsOn,d=i.excluded,m=i.weekendDays,g=i.segmentHeight,v=i.viewStart,h=i.viewEnd,y=i.minimumEventHeight,b=function ei(n,i){var t=i.viewDate,r=i.hourSegments,a=i.hourDuration,o=i.dayStart,s=i.dayEnd,l=n.setMinutes,u=n.setHours,d=n.startOfDay,m=n.startOfMinute,g=n.endOfDay,v=n.addMinutes,y=n.addDays,b=[],_=l(u(d(t),Xe(o.hour)),et(o.minute)),S=l(u(m(g(t)),Xe(s.hour)),et(s.minute)),M=(a||Ge)/r,T=d(t),O=g(t),H=function(C){return C};T.getTimezoneOffset()!==O.getTimezoneOffset()&&(T=y(T,1),_=y(_,1),S=y(S,1),H=function(C){return y(C,-1)});for(var P=a?60*_t/a:Ge,L=0;L<P;L++){for(var B=[],x=0;x<r;x++){var E=v(v(_,L*(a||Ge)),x*M);E>=_&&E<S&&B.push({date:H(E),displayDate:E,isStart:0===x})}B.length>0&&b.push({segments:B})}return b}(n,{viewDate:r,hourSegments:a,hourDuration:o,dayStart:s,dayEnd:l}),_=Ct(n,{viewDate:r,weekStartsOn:u,excluded:d,weekendDays:m,viewStart:v,viewEnd:h}),S=n.setHours,M=n.setMinutes,T=n.getHours,O=n.getMinutes;return _.map(function(H){var P=function Xr(n,i){var t=i.events,r=i.viewDate,a=i.hourSegments,o=i.dayStart,s=i.dayEnd,l=i.eventWidth,u=i.segmentHeight,d=i.hourDuration,m=i.minimumEventHeight,g=n.setMinutes,v=n.setHours,h=n.startOfDay,y=n.startOfMinute,b=n.endOfDay,_=n.differenceInMinutes,S=g(v(h(r),Xe(o.hour)),et(o.minute)),M=g(v(y(b(r)),Xe(s.hour)),et(s.minute));M.setSeconds(59,999);var T=[],O=Ze(n,{events:t.filter(function(B){return!B.allDay}),periodStart:S,periodEnd:M}),H=O.sort(function(B,x){return B.start.valueOf()-x.start.valueOf()}).map(function(B){var x=B.start,E=B.end||x,C=x<S,w=E>M,F=a*u/(d||Ge),Z=0;if(x>S){var U=x.getTimezoneOffset(),ge=S.getTimezoneOffset()-U;Z+=_(x,S)+ge}Z*=F,Z=Math.floor(Z);var qe=C?S:x,qt=w?M:E,J=qe.getTimezoneOffset()-qt.getTimezoneOffset(),$=_(qt,qe)+J;B.end?$*=F:$=u,m&&$<m&&($=m),$=Math.floor($);for(var Jt=Ke(T,Z,Z+$),jt=0;Jt.some(function(fd){return fd.left===jt});)jt+=l;var ir={event:B,height:$,width:l,top:Z,left:jt,startsBeforeDay:C,endsAfterDay:w};return T.push(ir),ir}),P=Math.max.apply(Math,H.map(function(B){return B.left+B.width})),L=Ze(n,{events:t.filter(function(B){return B.allDay}),periodStart:h(S),periodEnd:b(M)});return{events:H,width:P,allDayEvents:L,period:{events:O,start:S,end:M}}}(n,{events:t,viewDate:H.date,hourSegments:a,dayStart:s,dayEnd:l,segmentHeight:g,eventWidth:1,hourDuration:o,minimumEventHeight:y}),L=b.map(function(E){var C=E.segments.map(function(w){var F=M(S(H.date,T(w.date)),O(w.date));return G(G({},w),{date:F})});return G(G({},E),{segments:C})});function B(E,C){var w=Math.max.apply(Math,C.map(function(Z){return Z.left+1})),F=E.filter(function(Z){return Z.left>=w}).filter(function(Z){return Ke(C,Z.top,Z.top+Z.height).length>0});return F.length>0?B(E,F):w}var x=P.events.map(function(E){var w=100/B(P.events,Ke(P.events,E.top,E.top+E.height));return G(G({},E),{left:E.left*w,width:w})});return{hours:L,date:H.date,events:x.map(function(E){var C=Ke(x.filter(function(w){return w.left>E.left}),E.top,E.top+E.height);return C.length>0?G(G({},E),{width:Math.min.apply(Math,C.map(function(w){return w.left}))-E.left}):E})}})}function Ke(n,i,t){return n.filter(function(r){var a=r.top,o=r.top+r.height;return i<o&&o<t||i<a&&a<t||a<=i&&t<=o})}function Xe(n){return Math.max(Math.min(23,n),0)}function et(n){return Math.max(Math.min(59,n),0)}var pe=(()=>{return(n=pe||(pe={})).NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",pe;var n})(),ni=k(4707),ae=k(6451),ri=k(9841),Dt=k(4968);function Tt(n,i){return n=function ii(n,i){return typeof n>"u"?typeof i>"u"?n:i:n}(n,i),"function"==typeof n?function(){for(var r=arguments,a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=r[s];return!!n.apply(this,o)}:n?function(){return!0}:function(){return!1}}var bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},tn=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":bt(n))&&1===n.nodeType&&"object"===bt(n.style)&&"object"===bt(n.ownerDocument)};function nn(n,i){if(i=kt(i,!0),!tn(i))return-1;for(var t=0;t<n.length;t++)if(n[t]===i)return t;return-1}function St(n,i){return-1!==nn(n,i)}function oi(n){for(var i=arguments,t=[],r=arguments.length-1;r-- >0;)t[r]=i[r+1];return function ai(n,i){for(var t=0;t<i.length;t++)St(n,i[t])||n.push(i[t]);return i}(n,t=t.map(kt))}function si(n){for(var i=arguments,t=[],r=arguments.length-1;r-- >0;)t[r]=i[r+1];return t.map(kt).reduce(function(a,o){var s=nn(n,o);return-1!==s?a.concat(n.splice(s,1)):a},[])}function kt(n,i){if("string"==typeof n)try{return document.querySelector(n)}catch(t){throw t}if(!tn(n)&&!i)throw new TypeError(n+" is not a DOM element.");return n}function rn(n){if(n===window)return function di(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var i={};return Object.defineProperties(i,n),i}();try{var i=n.getBoundingClientRect();return void 0===i.x&&(i.x=i.left,i.y=i.top),i}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var i,Et=void 0;"function"!=typeof Object.create?(i=function(){},Et=function(t,r){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");i.prototype=t||{};var a=new i;return i.prototype=null,void 0!==r&&Object.defineProperties(a,r),null===t&&(a.__proto__=null),a}):Et=Object.create;var ui=Et,fe=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Mt(n,i){i=i||{};for(var t=ui(n),r=0;r<fe.length;r++)void 0!==i[fe[r]]&&(t[fe[r]]=i[fe[r]]);return t}function Ot(n,i){console.log("data ",i),n.data=i||{},n.dispatched="mousemove"}var We=["webkit","moz","ms","o"],Pe=function(){if(typeof window>"u")return function(){};for(var n=0,i=We.length;n<i&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[We[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var t=0;window.requestAnimationFrame=function(r){var a=(new Date).getTime(),o=Math.max(0,16-a-t),s=window.setTimeout(function(){return r(a+o)},o);return t=a+o,s}}return window.requestAnimationFrame.bind(window)}(),be=function(){if(typeof window>"u")return function(){};for(var n=0,i=We.length;n<i&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[We[n]+"CancelAnimationFrame"]||window[We[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)}),window.cancelAnimationFrame.bind(window)}();function mi(n,i){void 0===i&&(i={});var t=this,r=4,a=!1;if("object"!=typeof i.margin){var o=i.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=i.margin;this.scrollWhenOutside=i.scrollWhenOutside||!1;var s={},l=function li(n,i){var t=Tt((i=i||{}).allowUpdate,!0);return function(a){if(a=a||window.event,n.target=a.target||a.srcElement||a.originalTarget,n.element=this,n.type=a.type,t(a)){if(a.targetTouches)n.x=a.targetTouches[0].clientX,n.y=a.targetTouches[0].clientY,n.pageX=a.targetTouches[0].pageX,n.pageY=a.targetTouches[0].pageY,n.screenX=a.targetTouches[0].screenX,n.screenY=a.targetTouches[0].screenY;else{if(null===a.pageX&&null!==a.clientX){var o=a.target&&a.target.ownerDocument||document,s=o.documentElement,l=o.body;n.pageX=a.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),n.pageY=a.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}else n.pageX=a.pageX,n.pageY=a.pageY;n.x=a.clientX,n.y=a.clientY,n.screenX=a.screenX,n.screenY=a.screenY}n.clientX=n.x,n.clientY=n.y}}}(s),u=function pi(n){var i={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function t(o){for(var s=0;s<fe.length;s++)i[fe[s]]=o[fe[s]]}return void 0!==n&&n.addEventListener("mousemove",t),{destroy:function a(){n&&n.removeEventListener("mousemove",t,!1),i=null},dispatch:MouseEvent?function(s,l,u){var d=new MouseEvent("mousemove",Mt(i,l));return Ot(d,u),s.dispatchEvent(d)}:"function"==typeof document.createEvent?function(s,l,u){var d=Mt(i,l),m=document.createEvent("MouseEvents");return m.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),Ot(m,u),s.dispatchEvent(m)}:"function"==typeof document.createEventObject?function(s,l,u){var d=document.createEventObject(),m=Mt(i,l);for(var g in m)d[g]=m[g];return Ot(d,u),s.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(i.maxSpeed)||(r=i.maxSpeed),"object"!=typeof r&&(r={left:r,right:r,top:r,bottom:r}),this.autoScroll=Tt(i.autoScroll),this.syncMove=Tt(i.syncMove,!1),this.destroy=function(C){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",b,!1),window.removeEventListener("touchstart",b,!1),window.removeEventListener("mouseup",_,!1),window.removeEventListener("touchend",_,!1),window.removeEventListener("pointerup",_,!1),window.removeEventListener("mouseleave",M,!1),window.removeEventListener("mousemove",H,!1),window.removeEventListener("touchmove",H,!1),window.removeEventListener("scroll",y,!0),n=[],C&&S()},this.add=function(){for(var C=[],w=arguments.length;w--;)C[w]=arguments[w];return oi.apply(void 0,[n].concat(C)),this},this.remove=function(){for(var C=[],w=arguments.length;w--;)C[w]=arguments[w];return si.apply(void 0,[n].concat(C))};var g,C,m=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),C=n,n=[],C.forEach(function(w){w===window?m=window:t.add(w)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return r}},point:{get:function(){return s}},scrolling:{get:function(){return a}}});var h,v=null;function y(C){for(var w=0;w<n.length;w++)if(n[w]===C.target){a=!0;break}a&&Pe(function(){return a=!1})}function b(){d=!0}function _(){d=!1,S()}function S(){be(h),be(g)}function M(){d=!1}function O(){for(var C=null,w=0;w<n.length;w++)an(s,n[w])&&(C=n[w]);return C}function H(C){if(t.autoScroll()&&!C.dispatched){var w=C.target,F=document.body;v&&!an(s,v)&&(t.scrollWhenOutside||(v=null)),w&&w.parentNode===F?w=O():(w=function T(C){if(!C)return null;if(v===C||St(n,C))return C;for(;C=C.parentNode;)if(St(n,C))return C;return null}(w),w||(w=O())),w&&w!==v&&(v=w),m&&(be(g),g=Pe(P)),v&&(be(h),h=Pe(L))}}function P(){B(m),be(g),g=Pe(P)}function L(){v&&(B(v),be(h),h=Pe(L))}function B(C){var F,Z,w=rn(C);F=s.x<w.left+t.margin.left?Math.floor(Math.max(-1,(s.x-w.left)/t.margin.left-1)*t.maxSpeed.left):s.x>w.right-t.margin.right?Math.ceil(Math.min(1,(s.x-w.right)/t.margin.right+1)*t.maxSpeed.right):0,Z=s.y<w.top+t.margin.top?Math.floor(Math.max(-1,(s.y-w.top)/t.margin.top-1)*t.maxSpeed.top):s.y>w.bottom-t.margin.bottom?Math.ceil(Math.min(1,(s.y-w.bottom)/t.margin.bottom+1)*t.maxSpeed.bottom):0,t.syncMove()&&u.dispatch(C,{pageX:s.pageX+F,pageY:s.pageY+Z,clientX:s.x+F,clientY:s.y+Z}),setTimeout(function(){Z&&function x(C,w){C===window?window.scrollTo(C.pageXOffset,C.pageYOffset+w):C.scrollTop+=w}(C,Z),F&&function E(C,w){C===window?window.scrollTo(C.pageXOffset+w,C.pageYOffset):C.scrollLeft+=w}(C,F)})}window.addEventListener("mousedown",b,!1),window.addEventListener("touchstart",b,!1),window.addEventListener("mouseup",_,!1),window.addEventListener("touchend",_,!1),window.addEventListener("pointerup",_,!1),window.addEventListener("mousemove",H,!1),window.addEventListener("touchmove",H,!1),window.addEventListener("mouseleave",M,!1),window.addEventListener("scroll",y,!0)}function an(n,i,t){return t?n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right:function ci(n,i){var t=rn(i);return n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right}(n,i)}var K=k(9300),xt=k(5577),oe=k(3099),Fe=k(5698),vi=k(2035),fi=k(7359),At=k(4482);var It=k(5403);function Bt(){return(0,At.e)((n,i)=>{let t,r=!1;n.subscribe((0,It.x)(i,a=>{const o=t;t=a,r&&i.next([o,a]),r=!0}))})}var _i=k(1884);class ee{constructor(){this.currentDrag=new N.x}}ee.\u0275fac=function(i){return new(i||ee)},ee.\u0275prov=e.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee.ngInjectableDef=(0,e.Ez6)({factory:function(){return new ee},token:ee,providedIn:"root"});let on=(()=>{class n{constructor(t){this.elementRef=t,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),n})();function Ht(n,i,t){t&&t.split(" ").forEach(r=>n.addClass(i.nativeElement,r))}function tt(n,i,t){t&&t.split(" ").forEach(r=>n.removeClass(i.nativeElement,r))}let Zt=(()=>{class n{constructor(t,r,a,o,s,l,u){this.element=t,this.renderer=r,this.draggableHelper=a,this.zone=o,this.vcr=s,this.scrollContainer=l,this.document=u,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new e.vpe,this.dragStart=new e.vpe,this.ghostElementCreated=new e.vpe,this.dragging=new e.vpe,this.dragEnd=new e.vpe,this.pointerDown$=new N.x,this.pointerMove$=new N.x,this.pointerUp$=new N.x,this.eventListenerSubscriptions={},this.destroy$=new N.x,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const t=this.pointerDown$.pipe((0,K.h)(()=>this.canDrag()),(0,xt.z)(r=>{r.event.stopPropagation&&!this.scrollContainer&&r.event.stopPropagation();const a=this.renderer.createElement("style");this.renderer.setAttribute(a,"type","text/css"),this.renderer.appendChild(a,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(a)});const o=this.getScrollPosition(),s=new Be.y(h=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",b=>h.next(b))).pipe((0,yt.O)(o),(0,q.U)(()=>this.getScrollPosition())),l=new N.x,u=new ni.t;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=(0,ae.T)(this.pointerUp$,this.pointerDown$,u,this.destroy$).pipe((0,oe.B)()),m=(0,ri.a)([this.pointerMove$,s]).pipe((0,q.U)(([h,y])=>({currentDrag$:l,transformX:h.clientX-r.clientX,transformY:h.clientY-r.clientY,clientX:h.clientX,clientY:h.clientY,scrollLeft:y.left,scrollTop:y.top,target:h.event.target})),(0,q.U)(h=>(this.dragSnapGrid.x&&(h.transformX=Math.round(h.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(h.transformY=Math.round(h.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),h)),(0,q.U)(h=>(this.dragAxis.x||(h.transformX=0),this.dragAxis.y||(h.transformY=0),h)),(0,q.U)(h=>Object.assign({},h,{x:h.transformX+(h.scrollLeft-o.left),y:h.transformY+(h.scrollTop-o.top)})),(0,K.h)(({x:h,y,transformX:b,transformY:_})=>!this.validateDrag||this.validateDrag({x:h,y,transform:{x:b,y:_}})),(0,ie.R)(d),(0,oe.B)()),g=m.pipe((0,Fe.q)(1),(0,oe.B)()),v=m.pipe((0,vi.h)(1),(0,oe.B)());return g.subscribe(({clientX:h,clientY:y,x:b,y:_})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:u})}),this.scroller=function hi(n,i){return new mi(n,i)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign({},this.autoScroll,{autoScroll:()=>!0})),Ht(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const S=this.element.nativeElement.getBoundingClientRect(),M=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(M):this.element.nativeElement.parentNode.insertBefore(M,this.element.nativeElement.nextSibling),this.ghostElement=M,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(M,{position:"fixed",top:`${S.top}px`,left:`${S.left}px`,width:`${S.width}px`,height:`${S.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const T=this.vcr.createEmbeddedView(this.ghostElementTemplate);M.innerHTML="",T.rootNodes.filter(O=>O instanceof Node).forEach(O=>{M.appendChild(O)}),v.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(T))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:h-b,clientY:y-_,element:M})}),v.subscribe(()=>{M.parentElement.removeChild(M),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),v.pipe((0,xt.z)(h=>{const y=u.pipe(function wi(n){return function yi(n,i){return(0,At.e)((0,fi.U)(n,i,arguments.length>=2,!1,!0))}((i,t,r)=>!n||n(t,r)?i+1:i,0)}(),(0,Fe.q)(1),(0,q.U)(b=>Object.assign({},h,{dragCancelled:b>0})));return u.complete(),y})).subscribe(({x:h,y,dragCancelled:b})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:h,y,dragCancelled:b})}),tt(this.renderer,this.element,this.dragActiveClass),l.complete()}),(0,ae.T)(d,v).pipe((0,Fe.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(a)})}),m}),(0,oe.B)());(0,ae.T)(t.pipe((0,Fe.q)(1),(0,q.U)(r=>[,r])),t.pipe(Bt())).pipe((0,K.h)(([r,a])=>!r||r.x!==a.x||r.y!==a.y),(0,q.U)(([r,a])=>a)).subscribe(({x:r,y:a,currentDrag$:o,clientX:s,clientY:l,transformX:u,transformY:d,target:m})=>{this.zone.run(()=>{this.dragging.next({x:r,y:a})}),requestAnimationFrame(()=>{if(this.ghostElement){const g=`translate3d(${u}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:g,"-webkit-transform":g,"-ms-transform":g,"-moz-transform":g,"-o-transform":g})}}),o.next({clientX:s,clientY:l,dropData:this.dropData,target:m})})}ngOnChanges(t){t.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const t=this.canDrag(),r=Object.keys(this.eventListenerSubscriptions).length>0;t&&!r?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",a=>{this.onMouseDown(a)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",a=>{this.onMouseUp(a)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",a=>{this.onTouchStart(a)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!t&&r&&this.unsubscribeEventListeners()}onMouseDown(t){0===t.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",r=>{this.pointerMove$.next({event:r,clientX:r.clientX,clientY:r.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onMouseUp(t){0===t.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onTouchStart(t){let r,a,o;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),a=!1,o=this.hasScrollbar(),r=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const s=(0,Dt.R)(this.document,"contextmenu").subscribe(u=>{u.preventDefault()}),l=(0,Dt.R)(this.document,"touchmove",{passive:!1}).subscribe(u=>{(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&!a&&o&&(a=this.shouldBeginDrag(t,u,r)),((!this.scrollContainer||!this.scrollContainer.activeLongPressDrag)&&!this.touchStartLongPress||!o||a)&&(u.preventDefault(),this.pointerMove$.next({event:u,clientX:u.targetTouches[0].clientX,clientY:u.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),l.unsubscribe()}}this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}onTouchEnd(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(t){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",t)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(t=>{this.eventListenerSubscriptions[t](),delete this.eventListenerSubscriptions[t]})}setElementStyles(t,r){Object.keys(r).forEach(a=>{this.renderer.setStyle(t,a,r[a])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(t,r,a){const o=this.getScrollPosition(),s_top=Math.abs(o.top-a.top),s_left=Math.abs(o.left-a.left),l=Math.abs(r.targetTouches[0].clientX-t.touches[0].clientX)-s_left,u=Math.abs(r.targetTouches[0].clientY-t.touches[0].clientY)-s_top,m=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(l+u>m.delta||s_top>0||s_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=m.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const t=this.getScrollElement();return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ee),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(on,8),e.Y36(f.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[e.TTD]}),n})();function sn(n,i,t){return n>=t.left&&n<=t.right&&i>=t.top&&i<=t.bottom}let Wt=(()=>{class n{constructor(t,r,a,o,s){this.element=t,this.draggableHelper=r,this.zone=a,this.renderer=o,this.scrollContainer=s,this.dragEnter=new e.vpe,this.dragLeave=new e.vpe,this.dragOver=new e.vpe,this.drop=new e.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(t=>{Ht(this.renderer,this.element,this.dragActiveClass);const r={updateCache:!0},a=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{r.updateCache=!0});let o;const s=t.pipe((0,q.U)(({clientX:d,clientY:m,dropData:g,target:v})=>{o=g,r.updateCache&&(r.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(r.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),r.updateCache=!1);const h=sn(d,m,r.rect),y=!this.validateDrop||this.validateDrop({clientX:d,clientY:m,target:v});return r.scrollContainerRect?h&&y&&sn(d,m,r.scrollContainerRect):h&&y})),l=s.pipe((0,_i.x)());let u;l.pipe((0,K.h)(d=>d)).subscribe(()=>{u=!0,Ht(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:o})})}),s.pipe((0,K.h)(d=>d)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:o})})}),l.pipe(Bt(),(0,K.h)(([d,m])=>d&&!m)).subscribe(()=>{u=!1,tt(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:o})})}),t.subscribe({complete:()=>{a(),tt(this.renderer,this.element,this.dragActiveClass),u&&(tt(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:o})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(ee),e.Y36(e.R0b),e.Y36(e.Qsj),e.Y36(on,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),nt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var Ci=k(515),Di=k(8505),Ti=k(8421);const ye=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function rt(n,i,t=3){return Math.abs(n-i)<t}function ln(n,i,t,r){const a={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return i.top&&(a.top+=r),i.bottom&&(a.bottom+=r),i.left&&(a.left+=t),i.right&&(a.right+=t),a.height=a.bottom-a.top,a.width=a.right-a.left,a}function dn({clientY:n,rect:i}){return n>=i.top&&n<=i.bottom}function cn({clientX:n,rect:i}){return n>=i.left&&n<=i.right}function un({clientX:n,clientY:i,elm:t,allowedEdges:r,cursorPrecision:a}){const o=t.nativeElement.getBoundingClientRect(),s={};return r.left&&rt(n,o.left,a)&&dn({clientY:i,rect:o})&&(s.left=!0),r.right&&rt(n,o.right,a)&&dn({clientY:i,rect:o})&&(s.right=!0),r.top&&rt(i,o.top,a)&&cn({clientX:n,rect:o})&&(s.top=!0),r.bottom&&rt(i,o.bottom,a)&&cn({clientX:n,rect:o})&&(s.bottom=!0),s}const pn=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Pt(n,i){return n.left&&n.top?i.topLeft:n.right&&n.top?i.topRight:n.left&&n.bottom?i.bottomLeft:n.right&&n.bottom?i.bottomRight:n.left||n.right?i.leftOrRight:n.top||n.bottom?i.topOrBottom:""}function it({edges:n,initialRectangle:i,newRectangle:t}){const r={};return Object.keys(n).forEach(a=>{r[a]=(t[a]||0)-(i[a]||0)}),r}const mn="resize-active";let hn=(()=>{class n{constructor(t,r,a,o){this.platformId=t,this.renderer=r,this.elm=a,this.zone=o,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=pn,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new e.vpe,this.resizing=new e.vpe,this.resizeEnd=new e.vpe,this.mouseup=new N.x,this.mousedown=new N.x,this.mousemove=new N.x,this.destroy$=new N.x,this.resizeEdges$=new N.x,this.pointerEventListeners=Se.getInstance(r,o)}ngOnInit(){const t=(0,ae.T)(this.pointerEventListeners.pointerDown,this.mousedown),r=(0,ae.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,Di.b)(({event:d})=>{if(o)try{d.preventDefault()}catch{}}),(0,oe.B)()),a=(0,ae.T)(this.pointerEventListeners.pointerUp,this.mouseup);let o;const s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>Object.assign({},pn,this.resizeCursors);this.resizeEdges$.pipe((0,yt.O)(this.resizeEdges),(0,q.U)(()=>this.resizeEdges&&Object.keys(this.resizeEdges).some(d=>!!this.resizeEdges[d])),(0,Qe.w)(d=>d?r:Ci.E),function Si(n,i=Gt.z){return function bi(n){return(0,At.e)((i,t)=>{let r=!1,a=null,o=null,s=!1;const l=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const d=a;a=null,t.next(d)}s&&t.complete()},u=()=>{o=null,s&&t.complete()};i.subscribe((0,It.x)(t,d=>{r=!0,a=d,o||(0,Ti.Xf)(n(d)).subscribe(o=(0,It.x)(t,l,u))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>(0,ft.H)(n,i))}(this.mouseMoveThrottleMS),(0,ie.R)(this.destroy$)).subscribe(({clientX:d,clientY:m})=>{const g=un({clientX:d,clientY:m,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}),v=l();if(!o){const h=Pt(g,v);this.renderer.setStyle(this.elm.nativeElement,"cursor",h)}this.setElementClass(this.elm,"resize-left-hover",!0===g.left),this.setElementClass(this.elm,"resize-right-hover",!0===g.right),this.setElementClass(this.elm,"resize-top-hover",!0===g.top),this.setElementClass(this.elm,"resize-bottom-hover",!0===g.bottom)}),t.pipe((0,xt.z)(d=>{function m(h){return{clientX:h.clientX-d.clientX,clientY:h.clientY-d.clientY}}const g=()=>{const h={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?h.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(h.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?h.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(h.y=+this.resizeSnapGrid.bottom)),h};function v(h,y){return{x:Math.ceil(h.clientX/y.x),y:Math.ceil(h.clientY/y.y)}}return(0,ae.T)(r.pipe((0,Fe.q)(1)).pipe((0,q.U)(h=>[,h])),r.pipe(Bt())).pipe((0,q.U)(([h,y])=>[h&&m(h),m(y)])).pipe((0,K.h)(([h,y])=>{if(!h)return!0;const b=g(),_=v(h,b),S=v(y,b);return _.x!==S.x||_.y!==S.y})).pipe((0,q.U)(([,h])=>{const y=g();return{clientX:Math.round(h.clientX/y.x)*y.x,clientY:Math.round(h.clientY/y.y)*y.y}})).pipe((0,ie.R)((0,ae.T)(a,t)))})).pipe((0,K.h)(()=>!!o)).pipe((0,q.U)(({clientX:d,clientY:m})=>ln(o.startingRect,o.edges,d,m))).pipe((0,K.h)(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe((0,K.h)(d=>!this.validateResize||this.validateResize({rectangle:d,edges:it({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d})})),(0,ie.R)(this.destroy$)).subscribe(d=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:it({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d}),rectangle:d})}),o.currentRect=d}),t.pipe((0,q.U)(({clientX:d,clientY:m,edges:g})=>g||un({clientX:d,clientY:m,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}))).pipe((0,K.h)(d=>Object.keys(d).length>0),(0,ie.R)(this.destroy$)).subscribe(d=>{o&&s();const m=function ki(n,i){let t=0,r=0;const a=n.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>a[l]).find(l=>!!l);if(s&&s.includes("translate")&&(t=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===i)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-r,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-r,left:n.nativeElement.offsetLeft-t,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-t};{const l=n.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-r,bottom:l.bottom-r,left:l.left-t,right:l.right-t,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:d,startingRect:m,currentRect:m};const g=l(),v=Pt(o.edges,g);this.renderer.setStyle(document.body,"cursor",v),this.setElementClass(this.elm,mn,!0),this.enableGhostResize&&(o.clonedNode=this.elm.nativeElement.cloneNode(!0),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",Pt(o.edges,g)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:it({edges:d,initialRectangle:m,newRectangle:m}),rectangle:ln(m,{},0,0)})})}),a.pipe((0,ie.R)(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,mn),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:it({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnChanges(t){t.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}ngOnDestroy(){(0,f.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}setElementClass(t,r,a){a?this.renderer.addClass(t.nativeElement,r):this.renderer.removeClass(t.nativeElement,r)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"],features:[e.TTD]}),n})();class Se{static getInstance(i,t){return Se.instance||(Se.instance=new Se(i,t)),Se.instance}constructor(i,t){this.pointerDown=new Be.y(r=>{let a,o;return t.runOutsideAngular(()=>{a=i.listen("document","mousedown",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),ye&&(o=i.listen("document","touchstart",s=>{r.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{a(),ye&&o()}}).pipe((0,oe.B)()),this.pointerMove=new Be.y(r=>{let a,o;return t.runOutsideAngular(()=>{a=i.listen("document","mousemove",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),ye&&(o=i.listen("document","touchmove",s=>{r.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{a(),ye&&o()}}).pipe((0,oe.B)()),this.pointerUp=new Be.y(r=>{let a,o,s;return t.runOutsideAngular(()=>{a=i.listen("document","mouseup",l=>{r.next({clientX:l.clientX,clientY:l.clientY,event:l})}),ye&&(o=i.listen("document","touchend",l=>{r.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),s=i.listen("document","touchcancel",l=>{r.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{a(),ye&&(o(),s())}}).pipe((0,oe.B)())}}let Bi=(()=>{class n{constructor(t,r,a,o){this.renderer=t,this.element=r,this.zone=a,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new N.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(t=>{this.onMousedown(t,t.clientX,t.clientY)}),this.listenOnTheHost("mouseup").subscribe(t=>{this.onMouseup(t.clientX,t.clientY)}),ye&&(this.listenOnTheHost("touchstart").subscribe(t=>{this.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}),(0,ae.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(t=>{this.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(t,r,a){t.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:r,clientY:a,edges:this.resizeEdges})}onMouseup(t,r){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:r,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(t,r,a){this.resizable.mousemove.next({clientX:r,clientY:a,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}listenOnTheHost(t){return(0,Dt.R)(this.element.nativeElement,t).pipe((0,ie.R)(this.destroy$))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(hn,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),gn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var se=k(7340);const Hi=function(n){return{action:n}};function Zi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",5),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).event;return e.KtG(s.onClick({event:l,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).event;return e.KtG(s.onClick({event:l,sourceEvent:a}))}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=i.$implicit;e.Q6J("ngClass",t.cssClass)("innerHtml",t.label,e.oJD),e.uIk("aria-label",e.xi3(1,3,e.VKq(6,Hi,t),"actionButtonLabel"))}}function Wi(n,i){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,Zi,2,8,"a",4),e.qZA()),2&n){const t=e.oxw(),r=t.event,a=t.trackByActionId;e.xp6(1),e.Q6J("ngForOf",r.actions)("ngForTrackBy",a)}}function Pi(n,i){1&n&&e.YNc(0,Wi,2,2,"span",2),2&n&&e.Q6J("ngIf",i.event.actions)}function Fi(n,i){}const Li=function(n,i){return{event:n,trackByActionId:i}},ke=function(){return{}};function Ri(n,i){if(1&n&&(e._UZ(0,"span",2),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y")),2&n){const t=i.event;e.Q6J("innerHTML",e.Dn7(1,2,t.title,i.view,t),e.oJD),e.uIk("aria-hidden",e.xi3(2,6,e.DdM(9,ke),"hideEventTitle"))}}function Yi(n,i){}const Ni=function(n,i){return{event:n,view:i}};function Ui(n,i){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"div",3)(2,"div",4),e.qZA()),2&n){const t=i.contents;e.Q6J("ngClass","cal-tooltip-"+i.placement),e.xp6(2),e.Q6J("innerHtml",t,e.oJD)}}function zi(n,i){}const Vi=function(n,i,t){return{contents:n,placement:i,event:t}},Ft=function(n){return{backgroundColor:n}};function qi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-cell",7),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dayClicked.emit({day:s,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dayClicked.emit({day:s,sourceEvent:a}))})("highlightDay",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleDayHighlight(a.event,!0))})("unhighlightDay",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleDayHighlight(a.event,!1))})("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.eventDropped(s,a.dropData.event,a.dropData.draggedFrom))})("eventClicked",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent}))}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(2);e.Q6J("ngClass",null==t?null:t.cssClass)("day",t)("openDay",r.openDay)("locale",r.locale)("tooltipPlacement",r.tooltipPlacement)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipTemplate",r.tooltipTemplate)("tooltipDelay",r.tooltipDelay)("customTemplate",r.cellTemplate)("ngStyle",e.VKq(15,Ft,t.backgroundColor))("clickListenerDisabled",0===r.dayClicked.observers.length),e.uIk("tabindex",e.xi3(1,12,e.DdM(17,ke),"monthCellTabIndex"))}}function Ji(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4),e.YNc(2,qi,2,18,"mwl-calendar-month-cell",5),e.ALo(3,"slice"),e.qZA(),e.TgZ(4,"mwl-calendar-open-day-events",6),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent}))})("drop",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventDropped(o.openDay,a.dropData.event,a.dropData.draggedFrom))}),e.qZA()()}if(2&n){const t=i.$implicit,r=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,9,r.view.days,t,t+r.view.totalDaysVisibleInWeek))("ngForTrackBy",r.trackByDate),e.xp6(2),e.Q6J("locale",r.locale)("isOpen",r.openRowIndex===t)("events",null==r.openDay?null:r.openDay.events)("date",null==r.openDay?null:r.openDay.date)("customTemplate",r.openDayEventsTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)}}function ji(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.columnHeaderClicked.emit({isoDayNumber:s.day,sourceEvent:a}))}),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(1),e.hij(" ",e.Dn7(2,10,t.date,"monthViewColumnHeader",r)," ")}}function $i(n,i){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,ji,3,14,"div",3),e.qZA()),2&n){const t=i.days,r=i.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",r)}}function Qi(n,i){}const Gi=function(n,i,t){return{days:n,locale:i,trackByWeekDayHeaderDate:t}};function Ki(n,i){if(1&n&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&n){const t=e.oxw().day;e.xp6(1),e.Oqu(t.badgeTotal)}}const Xi=function(n,i){return{event:n,draggedFrom:i}},Le=function(n,i){return{x:n,y:i}},at=function(){return{delay:300,delta:30}};function ea(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(){const o=e.CHM(t).$implicit,s=e.oxw(2).highlightDay;return e.KtG(s.emit({event:o}))})("mouseleave",function(){const o=e.CHM(t).$implicit,s=e.oxw(2).unhighlightDay;return e.KtG(s.emit({event:o}))})("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:a}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(2),a=r.tooltipPlacement,o=r.tooltipTemplate,s=r.tooltipAppendToBody,l=r.tooltipDelay,u=r.day,d=r.validateDrag;e.ekj("cal-draggable",t.draggable),e.Q6J("ngStyle",e.VKq(22,Ft,null==t.color?null:t.color.primary))("ngClass",null==t?null:t.cssClass)("mwlCalendarTooltip",e.Dn7(1,15,t.title,"monthTooltip",t))("tooltipPlacement",a)("tooltipEvent",t)("tooltipTemplate",o)("tooltipAppendToBody",s)("tooltipDelay",l)("dropData",e.WLB(24,Xi,t,u))("dragAxis",e.WLB(27,Le,t.draggable,t.draggable))("validateDrag",d)("touchStartLongPress",e.DdM(30,at)),e.uIk("aria-hidden",e.xi3(2,19,e.DdM(31,ke),"hideMonthCellEvents"))}}function ta(n,i){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,ea,3,32,"div",9),e.qZA()),2&n){const t=e.oxw(),r=t.day,a=t.trackByEventId;e.xp6(1),e.Q6J("ngForOf",r.events)("ngForTrackBy",a)}}const na=function(n,i){return{day:n,locale:i}};function ra(n,i){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.TgZ(2,"span",3),e.YNc(3,Ki,2,1,"span",4),e.TgZ(4,"span",5),e._uU(5),e.ALo(6,"calendarDate"),e.qZA()()(),e.YNc(7,ta,2,2,"div",6)),2&n){const t=i.day,r=i.locale;e.uIk("aria-label",e.xi3(1,4,e.WLB(11,na,t,r),"monthCell")),e.xp6(3),e.Q6J("ngIf",t.badgeTotal>0),e.xp6(2),e.Oqu(e.Dn7(6,7,t.date,"monthViewDayNumber",r)),e.xp6(2),e.Q6J("ngIf",t.events.length>0)}}function ia(n,i){}const aa=function(n,i,t,r,a,o,s,l,u,d,m,g){return{day:n,openDay:i,locale:t,tooltipPlacement:r,highlightDay:a,unhighlightDay:o,eventClicked:s,tooltipTemplate:l,tooltipAppendToBody:u,tooltipDelay:d,trackByEventId:m,validateDrag:g}},oa=function(n){return{event:n}},vn=function(n,i){return{event:n,locale:i}};function sa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e._UZ(1,"span",8),e._uU(2," "),e.TgZ(3,"mwl-calendar-event-title",9),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:a}))}),e.ALo(4,"calendarA11y"),e.qZA(),e._uU(5," "),e._UZ(6,"mwl-calendar-event-actions",10),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(2).validateDrag,a=e.oxw();e.ekj("cal-draggable",t.draggable),e.Q6J("ngClass",null==t?null:t.cssClass)("dropData",e.VKq(16,oa,t))("dragAxis",e.WLB(18,Le,t.draggable,t.draggable))("validateDrag",r)("touchStartLongPress",e.DdM(21,at)),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,Ft,null==t.color?null:t.color.primary)),e.xp6(2),e.Q6J("event",t)("customTemplate",a.eventTitleTemplate),e.uIk("aria-label",e.xi3(4,13,e.WLB(24,vn,t,a.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t)("customTemplate",a.eventActionsTemplate)}}const fn=function(n,i){return{date:n,locale:i}};function la(n,i){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"span",4),e.ALo(2,"calendarA11y"),e._UZ(3,"span",5),e.ALo(4,"calendarA11y"),e.YNc(5,sa,7,27,"div",6),e.qZA()),2&n){const t=e.oxw(),r=t.events,a=t.trackByEventId,o=e.oxw();e.Q6J("@collapse",void 0),e.xp6(1),e.uIk("aria-label",e.xi3(2,5,e.WLB(11,fn,o.date,o.locale),"openDayEventsAlert")),e.xp6(2),e.uIk("aria-label",e.xi3(4,8,e.WLB(14,fn,o.date,o.locale),"openDayEventsLandmark")),e.xp6(2),e.Q6J("ngForOf",r)("ngForTrackBy",a)}}function da(n,i){1&n&&e.YNc(0,la,6,17,"div",2),2&n&&e.Q6J("ngIf",i.isOpen)}function ca(n,i){}const ua=function(n,i,t,r,a){return{events:n,eventClicked:i,isOpen:t,trackByEventId:r,validateDrag:a}};function pa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.eventDropped(a,s.date,!0))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.dateDragEnter(o.date))}),e.qZA()}}const ma=function(){return{left:!0}};function ha(n,i){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,ma))}const ga=function(){return{right:!0}};function va(n,i){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,ga))}const fa=function(n,i){return{left:n,right:i}},yn=function(n,i){return{event:n,calendarId:i}},ya=function(n){return{x:n}};function wa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",17,18),e.NdJ("resizeStart",function(a){const s=e.CHM(t).$implicit;e.oxw();const l=e.MAs(1),u=e.oxw(2);return e.KtG(u.allDayEventResizeStarted(l,s,a))})("resizing",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.allDayEventResizing(s,a,l.dayColumnWidth))})("resizeEnd",function(){const o=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.allDayEventResizeEnded(o))})("dragStart",function(){e.CHM(t);const a=e.MAs(1);e.oxw();const o=e.MAs(1),s=e.oxw(2);return e.KtG(s.dragStarted(o,a))})("dragging",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.allDayEventDragMove())})("dragEnd",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.dragEnded(s,a,l.dayColumnWidth))}),e.YNc(2,ha,1,2,"div",19),e.TgZ(3,"mwl-calendar-week-view-event",20),e.NdJ("eventClicked",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.eventClicked.emit({event:s.event,sourceEvent:a.sourceEvent}))}),e.qZA(),e.YNc(4,va,1,2,"div",21),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(3);e.Udp("width",100/r.days.length*t.span,"%")("margin-left",100/r.days.length*t.offset,"%"),e.ekj("cal-draggable",t.event.draggable&&0===r.allDayEventResizes.size)("cal-starts-within-week",!t.startsBeforeWeek)("cal-ends-within-week",!t.endsAfterWeek),e.Q6J("ngClass",null==t.event?null:t.event.cssClass)("resizeSnapGrid",e.WLB(30,fa,r.dayColumnWidth,r.dayColumnWidth))("validateResize",r.validateResize)("dropData",e.WLB(33,yn,t.event,r.calendarId))("dragAxis",e.WLB(36,Le,t.event.draggable&&0===r.allDayEventResizes.size,!r.snapDraggedEvents&&t.event.draggable&&0===r.allDayEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?e.VKq(39,ya,r.dayColumnWidth):e.DdM(41,ke))("validateDrag",r.validateDrag)("touchStartLongPress",e.DdM(42,at)),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeWeek),e.xp6(1),e.Q6J("locale",r.locale)("weekEvent",t)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("daysInWeek",r.daysInWeek),e.xp6(1),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterWeek)}}function _a(n,i){if(1&n&&(e.TgZ(0,"div",14,15),e.YNc(2,wa,5,43,"div",16),e.qZA()),2&n){const t=i.$implicit,r=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.row)("ngForTrackBy",r.trackByWeekAllDayEvent)}}function Ca(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8,9),e.NdJ("dragEnter",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.dragEnter("allDay"))})("dragLeave",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.dragLeave("allDay"))}),e.TgZ(2,"div",5),e._UZ(3,"div",10),e.YNc(4,pa,1,0,"div",11),e.qZA(),e.YNc(5,_a,3,2,"div",12),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",t.allDayEventsLabelTemplate),e.xp6(1),e.Q6J("ngForOf",t.days)("ngForTrackBy",t.trackByWeekDayHeaderDate),e.xp6(1),e.Q6J("ngForOf",t.view.allDayEventRows)("ngForTrackBy",t.trackById)}}function Da(n,i){if(1&n&&e._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&n){const t=i.$implicit,r=e.oxw(3);e.Udp("height",r.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",r.daysInWeek)}}function Ta(n,i){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,Da,1,8,"mwl-calendar-week-view-hour-segment",27),e.qZA()),2&n){const t=i.$implicit,r=i.odd,a=e.oxw(2);e.ekj("cal-hour-odd",r),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",a.trackByHourSegment)}}function ba(n,i){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,Ta,2,4,"div",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.view.hourColumns[0].hours)("ngForTrackBy",t.trackByHour)}}const Sa=function(){return{left:!0,top:!0}};function ka(n,i){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,Sa))}function Ea(n,i){}function Ma(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-event",36),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.eventClicked.emit({event:o.event,sourceEvent:a.sourceEvent}))}),e.qZA()}if(2&n){const t=e.oxw().$implicit,r=e.oxw().$implicit,a=e.oxw();e.Q6J("locale",a.locale)("weekEvent",t)("tooltipPlacement",a.tooltipPlacement)("tooltipTemplate",a.tooltipTemplate)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipDisabled",a.dragActive||a.timeEventResizes.size>0)("tooltipDelay",a.tooltipDelay)("customTemplate",a.eventTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)("column",r)("daysInWeek",a.daysInWeek)}}const Oa=function(){return{right:!0,bottom:!0}};function xa(n,i){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,Oa))}const Aa=function(n,i,t,r){return{left:n,right:i,top:t,bottom:r}};function Ia(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",33,18),e.NdJ("resizeStart",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2),u=e.MAs(6);return e.KtG(l.timeEventResizeStarted(u,s,a))})("resizing",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.timeEventResizing(s,a))})("resizeEnd",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.timeEventResizeEnded(o))})("dragStart",function(){const o=e.CHM(t).$implicit,s=e.MAs(1),l=e.oxw(2),u=e.MAs(6);return e.KtG(l.dragStarted(u,s,o))})("dragging",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dragMove(s,a))})("dragEnd",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dragEnded(s,a,l.dayColumnWidth,!0))}),e.YNc(2,ka,1,2,"div",19),e.YNc(3,Ea,0,0,"ng-template",34),e.YNc(4,Ma,1,12,"ng-template",null,35,e.W1O),e.YNc(6,xa,1,2,"div",21),e.qZA()}if(2&n){const t=i.$implicit,r=e.MAs(5),a=e.oxw(2);e.Udp("top",t.top,"px")("height",t.height,"px")("left",t.left,"%")("width",t.width,"%"),e.ekj("cal-draggable",t.event.draggable&&0===a.timeEventResizes.size)("cal-starts-within-day",!t.startsBeforeDay)("cal-ends-within-day",!t.endsAfterDay),e.Q6J("ngClass",t.event.cssClass)("hidden",0===t.height&&0===t.width)("resizeSnapGrid",e.l5B(29,Aa,a.dayColumnWidth,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight,a.eventSnapSize||a.hourSegmentHeight))("validateResize",a.validateResize)("allowNegativeResizes",!0)("dropData",e.WLB(34,yn,t.event,a.calendarId))("dragAxis",e.WLB(37,Le,t.event.draggable&&0===a.timeEventResizes.size,t.event.draggable&&0===a.timeEventResizes.size))("dragSnapGrid",a.snapDraggedEvents?e.WLB(40,Le,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight):e.DdM(43,ke))("touchStartLongPress",e.DdM(44,at))("ghostDragEnabled",!a.snapDraggedEvents)("ghostElementTemplate",r)("validateDrag",a.validateDrag),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeDay),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(3),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterDay)}}function Ba(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-hour-segment",38),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.hourSegmentClicked.emit({date:s.date,sourceEvent:a}))})("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.eventDropped(a,s.date,!1))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.dateDragEnter(o.date))}),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(3);e.Udp("height",r.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("daysInWeek",r.daysInWeek)("clickListenerDisabled",0===r.hourSegmentClicked.observers.length)("dragOverClass",r.dragActive&&r.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===r.daysInWeek)}}function Ha(n,i){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,Ba,1,10,"mwl-calendar-week-view-hour-segment",37),e.qZA()),2&n){const t=i.$implicit,r=i.odd,a=e.oxw(2);e.ekj("cal-hour-odd",r),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",a.trackByHourSegment)}}function Za(n,i){if(1&n&&(e.TgZ(0,"div",29),e._UZ(1,"mwl-calendar-week-view-current-time-marker",30),e.TgZ(2,"div",31),e.YNc(3,Ia,7,45,"div",32),e.qZA(),e.YNc(4,Ha,2,4,"div",25),e.qZA()),2&n){const t=i.$implicit,r=e.oxw();e.xp6(1),e.Q6J("columnDate",t.date)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("hourSegments",r.hourSegments)("hourSegmentHeight",r.hourSegmentHeight)("customTemplate",r.currentTimeMarkerTemplate),e.xp6(2),e.Q6J("ngForOf",t.events)("ngForTrackBy",r.trackByWeekTimeEvent),e.xp6(1),e.Q6J("ngForOf",t.hours)("ngForTrackBy",r.trackByHour)}}function Wa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw().dayHeaderClicked;return e.KtG(l.emit({day:s,sourceEvent:a}))})("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw().eventDropped;return e.KtG(l.emit({event:a.dropData.event,newStart:s.date}))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw().dragEnter;return e.KtG(s.emit({date:o.date}))}),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"calendarDate"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"calendarDate"),e.qZA()()}if(2&n){const t=i.$implicit,r=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(2),e.Oqu(e.Dn7(3,11,t.date,"weekViewColumnHeader",r)),e.xp6(4),e.Oqu(e.Dn7(7,15,t.date,"weekViewColumnSubHeader",r))}}function Pa(n,i){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,Wa,8,19,"div",3),e.qZA()),2&n){const t=i.days,r=i.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",r)}}function Fa(n,i){}const La=function(n,i,t,r,a,o){return{days:n,locale:i,dayHeaderClicked:t,eventDropped:r,dragEnter:a,trackByWeekDayHeaderDate:o}},Ra=function(n,i){return{backgroundColor:n,borderColor:i}};function Ya(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("mwlClick",function(a){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:a}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e._UZ(3,"mwl-calendar-event-actions",3),e._uU(4," "),e._UZ(5,"mwl-calendar-event-title",4),e.qZA()}if(2&n){const t=i.weekEvent,r=i.tooltipPlacement,a=i.tooltipTemplate,o=i.tooltipAppendToBody,s=i.tooltipDisabled,l=i.tooltipDelay,u=i.daysInWeek,d=e.oxw();e.Q6J("ngStyle",e.WLB(20,Ra,null==t.event.color?null:t.event.color.secondary,null==t.event.color?null:t.event.color.primary))("mwlCalendarTooltip",s?"":e.Dn7(1,13,t.event.title,1===u?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",r)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",a)("tooltipAppendToBody",o)("tooltipDelay",l),e.uIk("aria-label",e.xi3(2,17,e.WLB(23,vn,t.tempEvent||t.event,d.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t.tempEvent||t.event)("customTemplate",d.eventActionsTemplate),e.xp6(2),e.Q6J("event",t.tempEvent||t.event)("customTemplate",d.eventTitleTemplate)("view",1===u?"day":"week")}}function Na(n,i){}const Ua=function(n,i,t,r,a,o,s,l,u){return{weekEvent:n,tooltipPlacement:i,eventClicked:t,tooltipTemplate:r,tooltipAppendToBody:a,tooltipDisabled:o,tooltipDelay:s,column:l,daysInWeek:u}};function za(n,i){if(1&n&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()),2&n){const t=e.oxw(),r=t.segment,a=t.daysInWeek,o=t.locale;e.xp6(1),e.hij(" ",e.Dn7(2,1,r.displayDate,1===a?"dayViewHour":"weekViewHour",o)," ")}}function Va(n,i){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.YNc(2,za,3,5,"div",3),e.qZA()),2&n){const t=i.segment,a=i.isTimeLabel,o=i.daysInWeek;e.Udp("height",i.segmentHeight,"px"),e.ekj("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart),e.Q6J("ngClass",t.cssClass),e.uIk("aria-hidden",e.xi3(1,9,e.DdM(12,ke),1===o?"hideDayHourSegment":"hideWeekHourSegment")),e.xp6(2),e.Q6J("ngIf",a)}}function qa(n,i){}const Ja=function(n,i,t,r,a){return{segment:n,locale:i,segmentHeight:t,isTimeLabel:r,daysInWeek:a}};function ja(n,i){if(1&n&&e._UZ(0,"div",3),2&n){const t=e.oxw().topPx;e.Udp("top",t,"px")}}function $a(n,i){1&n&&e.YNc(0,ja,1,2,"div",2),2&n&&e.Q6J("ngIf",i.isVisible)}function Qa(n,i){}const Ga=function(n,i,t,r,a,o,s){return{columnDate:n,dayStartHour:i,dayStartMinute:t,dayEndHour:r,dayEndMinute:a,isVisible:o,topPx:s}};let wn=(()=>{let n=class{constructor(){this.trackByActionId=(t,r)=>r.id?r.id:r}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(t,r){if(1&t&&(e.YNc(0,Pi,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Fi,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.WLB(2,Li,r.event,r.trackByActionId))}},dependencies:function(){return[f.mk,f.sg,f.O5,f.tP,we,lt,_e]},encapsulation:2}),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"event",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),n})(),_n=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(t,r){if(1&t&&(e.YNc(0,Ri,3,10,"ng-template",null,0,e.W1O),e.YNc(2,Yi,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.WLB(2,Ni,r.event,r.view))}},dependencies:function(){return[f.tP,Nt,_e]},encapsulation:2}),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"event",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"view",void 0),n})(),Ka=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(t,r){if(1&t&&(e.YNc(0,Ui,3,2,"ng-template",null,0,e.W1O),e.YNc(2,zi,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.kEZ(2,Vi,r.contents,r.placement,r.event))}},dependencies:[f.mk,f.tP],encapsulation:2}),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"contents",void 0),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"placement",void 0),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"event",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),n})(),Cn=(()=>{let n=class{constructor(t,r,a,o,s,l){this.elementRef=t,this.injector=r,this.renderer=a,this.viewContainerRef=s,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new N.x,this.tooltipFactory=o.resolveComponentFactory(Ka)}ngOnChanges(t){this.tooltipRef&&(t.contents||t.customTemplate||t.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,Fr.of)("now"):(0,ft.H)(this.delay)).pipe((0,ie.R)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(t=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function Pr(n,i,t,r,a){var o=Array.isArray(t)?t:t.split(Wr),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=i.classList,u=function(_){var S=_.split("-"),M=S[0],T=S[1],O=[];return a&&(O.push(a+"-"+M),T&&O.push(a+"-"+M+"-"+T),O.forEach(function(H){l.add(H)})),O};a&&s.forEach(function(_){l.remove(a+"-"+_)});var d=o.findIndex(function(_){return"auto"===_});d>=0&&s.forEach(function(_){null==o.find(function(S){return-1!==S.search("^"+_)})&&o.splice(d++,1,_)});var m=i.style;m.position="absolute",m.top="0",m.left="0",m["will-change"]="transform";for(var g,v=!1,h=0,y=o;h<y.length;h++){var b=u(g=y[h]);if(Qt.positionElements(n,i,g,r)){v=!0;break}a&&b.forEach(function(_){l.remove(_)})}return v||(u(g=o[0]),Qt.positionElements(n,i,g,r)),g}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===t.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...t,this.tooltipRef.instance.placement]))}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.zs3),e.Y36(e.Qsj),e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(f.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(t,r){1&t&&e.NdJ("mouseenter",function(){return r.onMouseOver()})("mouseleave",function(){return r.onMouseOut()})},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[e.TTD]}),p([(0,e.IIB)("mwlCalendarTooltip"),c("design:type",String)],n.prototype,"contents",void 0),p([(0,e.IIB)("tooltipPlacement"),c("design:type",Object)],n.prototype,"placement",void 0),p([(0,e.IIB)("tooltipTemplate"),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),p([(0,e.IIB)("tooltipEvent"),c("design:type",Object)],n.prototype,"event",void 0),p([(0,e.IIB)("tooltipAppendToBody"),c("design:type",Boolean)],n.prototype,"appendToBody",void 0),p([(0,e.IIB)("tooltipDelay"),c("design:type",Number)],n.prototype,"delay",void 0),p([(0,e.L6J)("mouseenter"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],n.prototype,"onMouseOver",null),p([(0,e.L6J)("mouseleave"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],n.prototype,"onMouseOut",null),n=p([Te(5,(0,e.tBr)(f.K0)),c("design:paramtypes",[e.SBq,e.zs3,e.Qsj,e._Vd,e.s_b,Object])],n),n})();class z{}var le=(()=>{return(n=le||(le={})).Month="month",n.Week="week",n.Day="day",le;var n})();const Dn=n=>function ti(n,i){var t=!0;function r(a,o){i(a,o),t=!1}return Array.isArray(n)?(n.forEach(function(a){a.start?a.start instanceof Date||r(pe.StartPropertyNotDate,a):r(pe.StartPropertyMissing,a),a.end&&(a.end instanceof Date||r(pe.EndPropertyNotDate,a),a.start>a.end&&r(pe.EndsBeforeStart,a))}),t):(i(pe.NotArray,n),!1)}(n,(...t)=>console.warn("angular-calendar",...t));function Tn(n,i){return Math.floor(n.left)<=Math.ceil(i.left)&&Math.floor(i.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(i.right)&&Math.floor(i.right)<=Math.ceil(n.right)&&Math.floor(n.top)<=Math.ceil(i.top)&&Math.floor(i.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(i.bottom)&&Math.floor(i.bottom)<=Math.ceil(n.bottom)}function bn(n,i){return Math.round(n/i)*i}const Sn=(n,i)=>i.id?i.id:i,Lt=(n,i)=>i.date.toISOString(),Xa=(n,i)=>i.date.toISOString(),eo=(n,i)=>i.segments[0].date.toISOString(),to=(n,i)=>i.event.id?i.event.id:i.event,no=(n,i)=>i.event.id?i.event.id:i.event,ro=60;function kn(n,i){return ro/(n*i)}function Rt(n,i,t,r){return bn(n,r||t)*kn(i,t)}function En(n,i,t){return i.end?i.end:n.addMinutes(i.start,t)}function X(n,i,t,r){let a=0,o=0;const s=t<0?n.subDays:n.addDays;let l=i;for(;o<=Math.abs(t);){l=s(i,a);const u=n.getDay(l);-1===r.indexOf(u)&&o++,a++}return l}function Yt(n,i,t,r=[],a){let o=a?n.startOfDay(i):n.startOfWeek(i,{weekStartsOn:t});const s=n.endOfWeek(i,{weekStartsOn:t});for(;r.indexOf(n.getDay(o))>-1&&o<s;)o=n.addDays(o,1);if(a)return{viewStart:o,viewEnd:n.endOfDay(X(n,o,a-1,r))};{let l=s;for(;r.indexOf(n.getDay(l))>-1&&l>o;)l=n.subDays(l,1);return{viewStart:o,viewEnd:l}}}function ot({x:n,y:i}){return Math.abs(n)>1||Math.abs(i)>1}let so=(()=>{let n=class{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===le.Day?X(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===le.Week&&this.daysInWeek?X(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):t(this.viewDate,1))}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(z))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(t,r){1&t&&e.NdJ("click",function(){return r.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"view",void 0),p([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"excludeDays",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"daysInWeek",void 0),p([(0,e.r_U)(),c("design:type",e.vpe)],n.prototype,"viewDateChange",void 0),p([(0,e.L6J)("click"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],n.prototype,"onClick",null),n=p([c("design:paramtypes",[z])],n),n})(),lo=(()=>{let n=class{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===le.Day?X(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===le.Week&&this.daysInWeek?X(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):t(this.viewDate,1))}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(z))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(t,r){1&t&&e.NdJ("click",function(){return r.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"view",void 0),p([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"excludeDays",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"daysInWeek",void 0),p([(0,e.r_U)(),c("design:type",e.vpe)],n.prototype,"viewDateChange",void 0),p([(0,e.L6J)("click"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],n.prototype,"onClick",null),n=p([c("design:paramtypes",[z])],n),n})(),co=(()=>{let n=class{constructor(t){this.dateAdapter=t,this.viewDateChange=new e.vpe}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(z))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(t,r){1&t&&e.NdJ("click",function(){return r.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),p([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),p([(0,e.r_U)(),c("design:type",e.vpe)],n.prototype,"viewDateChange",void 0),p([(0,e.L6J)("click"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],n.prototype,"onClick",null),n=p([c("design:paramtypes",[z])],n),n})(),uo=(()=>{let n=class{constructor(t){this.dateAdapter=t}monthViewColumnHeader({date:t,locale:r}){return(0,f.p6)(t,"EEEE",r)}monthViewDayNumber({date:t,locale:r}){return(0,f.p6)(t,"d",r)}monthViewTitle({date:t,locale:r}){return(0,f.p6)(t,"LLLL y",r)}weekViewColumnHeader({date:t,locale:r}){return(0,f.p6)(t,"EEEE",r)}weekViewColumnSubHeader({date:t,locale:r}){return(0,f.p6)(t,"MMM d",r)}weekViewTitle({date:t,locale:r,weekStartsOn:a,excludeDays:o,daysInWeek:s}){const{viewStart:l,viewEnd:u}=Yt(this.dateAdapter,t,a,o,s),d=(m,g)=>(0,f.p6)(m,"MMM d"+(g?", yyyy":""),r);return`${d(l,l.getUTCFullYear()!==u.getUTCFullYear())} - ${d(u,!0)}`}weekViewHour({date:t,locale:r}){return(0,f.p6)(t,"h a",r)}dayViewHour({date:t,locale:r}){return(0,f.p6)(t,"h a",r)}dayViewTitle({date:t,locale:r}){return(0,f.p6)(t,"EEEE, MMMM d, y",r)}};return n.\u0275fac=function(t){return new(t||n)(e.LFG(z))},n.\u0275prov=e.Yz7({token:n,factory:function(i){return n.\u0275fac(i)}}),n=p([c("design:paramtypes",[z])],n),n})(),Re=(()=>{let n=class extends uo{};return n.\u0275fac=function(){let i;return function(r){return(i||(i=e.n5z(n)))(r||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:function(i){return n.\u0275fac(i)}}),n})(),Ye=(()=>{let n=class{constructor(t,r){this.dateFormatter=t,this.locale=r}transform(t,r,a=this.locale,o=0,s=[],l){if(typeof this.dateFormatter[r]>"u"){const u=Object.getOwnPropertyNames(Object.getPrototypeOf(Re.prototype)).filter(d=>"constructor"!==d);throw new Error(`${r} is not a valid date formatter. Can only be one of ${u.join(", ")}`)}return this.dateFormatter[r]({date:t,locale:a,weekStartsOn:o,excludeDays:s,daysInWeek:l})}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(Re,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarDate",type:n,pure:!0}),n=p([Te(1,(0,e.tBr)(e.soG)),c("design:paramtypes",[Re,String])],n),n})();class st{month(i,t){return i.title}monthTooltip(i,t){return i.title}week(i,t){return i.title}weekTooltip(i,t){return i.title}day(i,t){return i.title}dayTooltip(i,t){return i.title}}let Nt=(()=>{let n=class{constructor(t){this.calendarEventTitle=t}transform(t,r,a){return this.calendarEventTitle[r](a,t)}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(st,16))},n.\u0275pipe=e.Yjl({name:"calendarEventTitle",type:n,pure:!0}),n=p([c("design:paramtypes",[st])],n),n})(),we=(()=>{let n=class{constructor(t,r,a){this.renderer=t,this.elm=r,this.document=a,this.clickListenerDisabled=!1,this.click=new e.vpe,this.destroy$=new N.x}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,ie.R)(this.destroy$)).subscribe(t=>{t.stopPropagation(),this.click.emit(t)})}ngOnDestroy(){this.destroy$.next()}listen(){return new Be.y(t=>this.renderer.listen(this.elm.nativeElement,"click",r=>{t.next(r)}))}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(f.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"clickListenerDisabled",void 0),p([(0,e.r_U)("mwlClick"),c("design:type",Object)],n.prototype,"click",void 0),n=p([Te(2,(0,e.tBr)(f.K0)),c("design:paramtypes",[e.Qsj,e.SBq,Object])],n),n})(),lt=(()=>{let n=class{constructor(t,r,a){this.host=t,this.ngZone=r,this.renderer=a,this.keydown=new e.vpe,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",t=>{(13===t.keyCode||13===t.which||"Enter"===t.key)&&(t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(t)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),p([(0,e.r_U)("mwlKeydownEnter"),c("design:type",Object)],n.prototype,"keydown",void 0),n=p([c("design:paramtypes",[e.SBq,e.R0b,e.Qsj])],n),n})(),Ee=(()=>{let n=class{constructor(t){this.dateAdapter=t}getMonthView(t){return function Kr(n,i){var t=i.events,r=void 0===t?[]:t,a=i.viewDate,o=i.weekStartsOn,s=i.excluded,l=void 0===s?[]:s,u=i.viewStart,d=void 0===u?n.startOfMonth(a):u,m=i.viewEnd,g=void 0===m?n.endOfMonth(a):m,v=i.weekendDays;r||(r=[]);for(var E,y=n.endOfWeek,b=n.differenceInDays,_=n.startOfDay,S=n.addHours,M=n.endOfDay,T=n.isSameMonth,O=n.getDay,P=(0,n.startOfWeek)(d,{weekStartsOn:o}),L=y(g,{weekStartsOn:o}),B=Ze(n,{events:r,periodStart:P,periodEnd:L}),x=[],C=function(qt){var J;if(E?(J=_(S(E,_t)),E.getTime()===J.getTime()&&(J=_(S(E,_t+1))),E=J):J=E=P,!l.some(function(Jt){return O(J)===Jt})){var $=en(n,{date:J,weekendDays:v}),mt=Ze(n,{events:B,periodStart:_(J),periodEnd:M(J)});$.inMonth=T(J,a),$.events=mt,$.badgeTotal=mt.length,x.push($)}},w=0;w<b(L,P)+1;w++)C();var F=[],Z=wt-l.length;if(Z<wt)for(w=0;w<x.length;w+=Z){var U=x.slice(w,w+Z);U.some(function(J){return d<=J.date&&J.date<g})&&(F=Kt(F,U))}else F=x;var ge=Math.floor(F.length/Z),qe=[];for(w=0;w<ge;w++)qe.push(w*Z);return{rowOffsets:qe,totalDaysVisibleInWeek:Z,days:F,period:{start:F[0].date,end:M(F[F.length-1].date),events:B}}}(this.dateAdapter,t)}getWeekViewHeader(t){return Ct(this.dateAdapter,t)}getWeekView(t){return function Gr(n,i){var t=i.events,r=void 0===t?[]:t,a=i.viewDate,o=i.weekStartsOn,s=i.excluded,l=void 0===s?[]:s,u=i.precision,d=void 0===u?"days":u,m=i.absolutePositionedEvents,g=void 0!==m&&m,v=i.hourSegments,h=i.hourDuration,y=i.dayStart,b=i.dayEnd,_=i.weekendDays,S=i.segmentHeight,M=i.minimumEventHeight,T=i.viewStart,O=void 0===T?n.startOfWeek(a,{weekStartsOn:o}):T,H=i.viewEnd,P=void 0===H?n.endOfWeek(a,{weekStartsOn:o}):H;r||(r=[]);var B=n.endOfDay,x=Ze(n,{events:r,periodStart:O=(0,n.startOfDay)(O),periodEnd:P=B(P)}),E=Ct(n,{viewDate:a,weekStartsOn:o,excluded:l,weekendDays:_,viewStart:O,viewEnd:P});return{allDayEventRows:$r(n,{events:x,excluded:l,precision:d,absolutePositionedEvents:g,viewStart:O,viewEnd:P}),period:{events:x,start:E[0].date,end:B(E[E.length-1].date)},hourColumns:Qr(n,{events:r,viewDate:a,hourSegments:v,hourDuration:h,dayStart:y,dayEnd:b,weekStartsOn:o,excluded:l,weekendDays:_,segmentHeight:S,viewStart:O,viewEnd:P,minimumEventHeight:M})}}(this.dateAdapter,t)}};return n.\u0275fac=function(t){return new(t||n)(e.LFG(z))},n.\u0275prov=e.Yz7({token:n,factory:function(i){return n.\u0275fac(i)}}),n=p([c("design:paramtypes",[z])],n),n})(),Ne=(()=>{let n=class{constructor(t){this.i18nPlural=t}monthCell({day:t,locale:r}){return t.badgeTotal>0?`\n        ${(0,f.p6)(t.date,"EEEE MMMM d",r)},\n        ${this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,f.p6)(t.date,"EEEE MMMM d",r)}`}openDayEventsLandmark({date:t,locale:r}){return`\n      Beginning of expanded view for ${(0,f.p6)(t,"EEEE MMMM dd",r)}\n    `}openDayEventsAlert({date:t,locale:r}){return`${(0,f.p6)(t,"EEEE MMMM dd",r)} expanded`}eventDescription({event:t,locale:r}){if(!0===t.allDay)return this.allDayEventDescription({event:t,locale:r});const a=`\n      ${(0,f.p6)(t.start,"EEEE MMMM dd",r)},\n      ${t.title}, from ${(0,f.p6)(t.start,"hh:mm a",r)}\n    `;return t.end?a+` to ${(0,f.p6)(t.end,"hh:mm a",r)}`:a}allDayEventDescription({event:t,locale:r}){const a=`\n      ${t.title}, event spans multiple days:\n      start time ${(0,f.p6)(t.start,"MMMM dd hh:mm a",r)}\n    `;return t.end?a+`, stop time ${(0,f.p6)(t.end,"MMMM d hh:mm a",r)}`:a+", no stop time"}actionButtonLabel({action:t}){return t.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}};return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.Gx))},n.\u0275prov=e.Yz7({token:n,factory:function(i){return n.\u0275fac(i)}}),n=p([c("design:paramtypes",[f.Gx])],n),n})(),_e=(()=>{let n=class{constructor(t,r){this.calendarA11y=t,this.locale=r}transform(t,r){if(t.locale=t.locale||this.locale,typeof this.calendarA11y[r]>"u"){const a=Object.getOwnPropertyNames(Object.getPrototypeOf(Ne.prototype)).filter(o=>"constructor"!==o);throw new Error(`${r} is not a valid a11y method. Can only be one of ${a.join(", ")}`)}return this.calendarA11y[r](t)}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ne,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarA11y",type:n,pure:!0}),n=p([Te(1,(0,e.tBr)(e.soG)),c("design:paramtypes",[Ne,String])],n),n})();new e.OlP("Moment");var Mn,me=(()=>{return(n=me||(me={})).Drag="drag",n.Drop="drop",n.Resize="resize",me;var n})();let te=Mn=class{static forRoot(i,t={}){return{ngModule:Mn,providers:[i,t.eventTitleFormatter||st,t.dateFormatter||Re,t.utils||Ee,t.a11y||Ne]}}};te.\u0275fac=function(i){return new(i||te)},te.\u0275mod=e.oAB({type:te}),te.\u0275inj=e.cJS({providers:[f.Gx],imports:[f.ez]});let po=(()=>{let n=class{constructor(t,r,a,o){this.cdr=t,this.utils=r,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new e.vpe,this.dayClicked=new e.vpe,this.eventClicked=new e.vpe,this.columnHeaderClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.trackByRowOffset=(s,l)=>this.view.days.slice(l,this.view.totalDaysVisibleInWeek).map(u=>u.date.toISOString()).join("-"),this.trackByDate=(s,l)=>l.date.toISOString(),this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const r=t.viewDate||t.excludeDays||t.weekendDays,a=t.viewDate||t.events||t.excludeDays||t.weekendDays;r&&this.refreshHeader(),t.events&&Dn(this.events),a&&this.refreshBody(),(r||a)&&this.emitBeforeViewRender(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays||t.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(t,r){this.view.days.forEach(a=>{r&&a.events.indexOf(t)>-1?a.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete a.backgroundColor})}eventDropped(t,r,a){if(t!==a){const o=this.dateAdapter.getYear(t.date),s=this.dateAdapter.getMonth(t.date),l=this.dateAdapter.getDate(t.date),u=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(r.start,o),s),l);let d;if(r.end){const m=this.dateAdapter.differenceInSeconds(u,r.start);d=this.dateAdapter.addSeconds(r.end,m)}this.eventTimesChanged.emit({event:r,newStart:u,newEnd:d,day:t,type:me.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const t=this.activeDay||this.viewDate;this.openDay=this.view.days.find(a=>this.dateAdapter.isSameDay(a.date,t));const r=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(r/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(Ee),e.Y36(e.soG),e.Y36(z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",locale:"locale",viewDate:"viewDate",activeDay:"activeDay",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[e.TTD],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-month-view-header",1),e.NdJ("columnHeaderClicked",function(o){return r.columnHeaderClicked.emit(o)}),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,Ji,5,13,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("days",r.columnHeaders)("locale",r.locale)("customTemplate",r.headerTemplate),e.xp6(2),e.Q6J("ngForOf",r.view.rowOffsets)("ngForTrackBy",r.trackByRowOffset))},dependencies:function(){return[f.mk,f.sg,f.PC,Wt,we,lt,ho,vo,mo,f.OU,_e]},encapsulation:2}),p([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"events",void 0),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"excludeDays",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"activeDayIsOpen",void 0),p([(0,e.IIB)(),c("design:type",Date)],n.prototype,"activeDay",void 0),p([(0,e.IIB)(),c("design:type",N.x)],n.prototype,"refresh",void 0),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"tooltipPlacement",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"tooltipTemplate",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipAppendToBody",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"tooltipDelay",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"weekStartsOn",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"headerTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"cellTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"openDayEventsTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTitleTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventActionsTemplate",void 0),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"weekendDays",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"beforeViewRender",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"dayClicked",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"columnHeaderClicked",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventTimesChanged",void 0),n=p([Te(2,(0,e.tBr)(e.soG)),c("design:paramtypes",[e.sBO,Ee,String,z])],n),n})(),mo=(()=>{let n=class{constructor(){this.columnHeaderClicked=new e.vpe,this.trackByWeekDayHeaderDate=Lt}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(t,r){if(1&t&&(e.YNc(0,$i,2,2,"ng-template",null,0,e.W1O),e.YNc(2,Qi,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.kEZ(2,Gi,r.days,r.locale,r.trackByWeekDayHeaderDate))}},dependencies:[f.mk,f.sg,f.tP,Ye],encapsulation:2}),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"days",void 0),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"columnHeaderClicked",void 0),n})(),ho=(()=>{let n=class{constructor(){this.highlightDay=new e.vpe,this.unhighlightDay=new e.vpe,this.eventClicked=new e.vpe,this.trackByEventId=Sn,this.validateDrag=ot}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(t,r){2&t&&e.ekj("cal-past",r.day.isPast)("cal-today",r.day.isToday)("cal-future",r.day.isFuture)("cal-weekend",r.day.isWeekend)("cal-in-month",r.day.inMonth)("cal-out-month",!r.day.inMonth)("cal-has-events",r.day.events.length>0)("cal-open",r.day===r.openDay)("cal-event-highlight",!!r.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(t,r){if(1&t&&(e.YNc(0,ra,8,14,"ng-template",null,0,e.W1O),e.YNc(2,ia,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.rFY(2,aa,[r.day,r.openDay,r.locale,r.tooltipPlacement,r.highlightDay,r.unhighlightDay,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDelay,r.trackByEventId,r.validateDrag]))}},dependencies:[f.mk,f.sg,f.O5,f.tP,f.PC,Zt,Cn,we,Ye,Nt,_e],encapsulation:2}),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"day",void 0),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"openDay",void 0),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"tooltipPlacement",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipAppendToBody",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"tooltipTemplate",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"tooltipDelay",void 0),p([(0,e.r_U)(),c("design:type",e.vpe)],n.prototype,"highlightDay",void 0),p([(0,e.r_U)(),c("design:type",e.vpe)],n.prototype,"unhighlightDay",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),n})();const go=(0,se.X$)("collapse",[(0,se.SB)("void",(0,se.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,se.SB)("*",(0,se.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,se.eR)("* => void",(0,se.jt)("150ms ease-out")),(0,se.eR)("void => *",(0,se.jt)("150ms ease-in"))]);let vo=(()=>{let n=class{constructor(){this.isOpen=!1,this.eventClicked=new e.vpe,this.trackByEventId=Sn,this.validateDrag=ot}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{isOpen:"isOpen",locale:"locale",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(t,r){if(1&t&&(e.YNc(0,da,1,1,"ng-template",null,0,e.W1O),e.YNc(2,ca,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.qbA(2,ua,r.events,r.eventClicked,r.isOpen,r.trackByEventId,r.validateDrag))}},dependencies:[f.mk,f.sg,f.O5,f.tP,f.PC,Zt,wn,_n,we,lt,_e],encapsulation:2,data:{animation:[go]}}),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"isOpen",void 0),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"events",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTitleTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventActionsTemplate",void 0),p([(0,e.IIB)(),c("design:type",Date)],n.prototype,"date",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),n})(),On=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.ez,nt,te,nt]}),n})();class fo{constructor(i,t){this.dragContainerElement=i,this.startPosition=t.getBoundingClientRect()}validateDrag({x:i,y:t,snapDraggedEvents:r,dragAlreadyMoved:a,transform:o}){if(r){const s=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});return(ot({x:i,y:t})||a)&&Tn(this.dragContainerElement.getBoundingClientRect(),s)}return ot({x:i,y:t})||a}}class yo{constructor(i,t){this.resizeContainerElement=i,this.minWidth=t}validateResize({rectangle:i}){return!(this.minWidth&&Math.ceil(i.width)<Math.ceil(this.minWidth))&&Tn(this.resizeContainerElement.getBoundingClientRect(),i)}}let xn=(()=>{let n=class{constructor(t,r,a,o){this.cdr=t,this.utils=r,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new e.vpe,this.eventClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe,this.hourSegmentClicked=new e.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.trackByWeekDayHeaderDate=Lt,this.trackByHourSegment=Xa,this.trackByHour=eo,this.trackByWeekAllDayEvent=to,this.trackByWeekTimeEvent=no,this.trackByHourColumn=(s,l)=>l.hours[0]?l.hours[0].segments[0].date.toISOString():l,this.trackById=(s,l)=>l.id,this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const r=t.viewDate||t.excludeDays||t.weekendDays||t.daysInWeek||t.weekStartsOn,a=t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments||t.weekStartsOn||t.weekendDays||t.excludeDays||t.hourSegmentHeight||t.events||t.daysInWeek;r&&this.refreshHeader(),t.events&&Dn(this.events),a&&this.refreshBody(),(r||a)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}timeEventResizeStarted(t,r,a){this.timeEventResizes.set(r.event,a),this.resizeStarted(t)}timeEventResizing(t,r){this.timeEventResizes.set(t.event,r);const a=new Map,o=[...this.events];this.timeEventResizes.forEach((s,l)=>{const u=this.getTimeEventResizedDates(l,s),d=Object.assign(Object.assign({},l),u);a.set(d,l);const m=o.indexOf(l);o[m]=d}),this.restoreOriginalEvents(o,a,!0)}timeEventResizeEnded(t){this.view=this.getWeekView(this.events);const r=this.timeEventResizes.get(t.event);if(r){this.timeEventResizes.delete(t.event);const a=this.getTimeEventResizedDates(t.event,r);this.eventTimesChanged.emit({newStart:a.start,newEnd:a.end,event:t.event,type:me.Resize})}}allDayEventResizeStarted(t,r,a){this.allDayEventResizes.set(r,{originalOffset:r.offset,originalSpan:r.span,edge:typeof a.edges.left<"u"?"left":"right"}),this.resizeStarted(t,this.getDayColumnWidth(t))}allDayEventResizing(t,r,a){const o=this.allDayEventResizes.get(t);if(typeof r.edges.left<"u"){const s=Math.round(+r.edges.left/a);t.offset=o.originalOffset+s,t.span=o.originalSpan-s}else if(typeof r.edges.right<"u"){const s=Math.round(+r.edges.right/a);t.span=o.originalSpan+s}}allDayEventResizeEnded(t){const r=this.allDayEventResizes.get(t);if(r){const a="left"===r.edge;let o;o=a?t.offset-r.originalOffset:t.span-r.originalSpan,t.offset=r.originalOffset,t.span=r.originalSpan;let s=t.event.start,l=t.event.end||t.event.start;a?s=X(this.dateAdapter,s,o,this.excludeDays):l=X(this.dateAdapter,l,o,this.excludeDays),this.eventTimesChanged.emit({newStart:s,newEnd:l,event:t.event,type:me.Resize}),this.allDayEventResizes.delete(t)}}getDayColumnWidth(t){return Math.floor(t.offsetWidth/this.days.length)}dateDragEnter(t){this.lastDragEnterDate=t}eventDropped(t,r,a){(function oo(n,i,t,r){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==r||n.dropData.event.allDay&&!t||!n.dropData.event.allDay&&t)})(t,0,a,this.calendarId)&&this.lastDragEnterDate.getTime()===r.getTime()&&(!this.snapDraggedEvents||t.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:me.Drop,event:t.dropData.event,newStart:r,allDay:a}),this.lastDraggedEvent=null}dragEnter(t){this.eventDragEnterByType[t]++}dragLeave(t){this.eventDragEnterByType[t]--}dragStarted(t,r,a){this.dayColumnWidth=this.getDayColumnWidth(t);const o=new fo(t,r);this.validateDrag=({x:s,y:l,transform:u})=>0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&o.validateDrag({x:s,y:l,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:u}),this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&a&&this.view.hourColumns.forEach(s=>{const l=s.events.find(u=>u.event===a.event&&u!==a);l&&(l.width=0,l.height=0)}),this.cdr.markForCheck()}dragMove(t,r){const a=this.getDragMovedEventTimes(t,r,this.dayColumnWidth,!0),o=t.event,s=Object.assign(Object.assign({},o),a),l=this.events.map(u=>u===o?s:u);this.restoreOriginalEvents(l,new Map([[s,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(t,r,a,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:s,end:l}=this.getDragMovedEventTimes(t,r,a,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&function ao(n,i,t){const r=i||n;return t.start<=n&&n<=t.end||t.start<=r&&r<=t.end}(s,l,this.view.period)&&(this.lastDraggedEvent=t.event,this.eventTimesChanged.emit({newStart:s,newEnd:l,event:t.event,type:me.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},Yt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(t){return this.utils.getWeekView(Object.assign({events:t,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},Yt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(t,r,a,o){const s=bn(r.x,a)/a,l=o?Rt(r.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize):0,u=this.dateAdapter.addMinutes(X(this.dateAdapter,t.event.start,s,this.excludeDays),l);let d;return t.event.end&&(d=this.dateAdapter.addMinutes(X(this.dateAdapter,t.event.end,s,this.excludeDays),l)),{start:u,end:d}}restoreOriginalEvents(t,r,a=!0){const o=this.view;a&&(this.view=this.getWeekView(t));const s=t.filter(l=>r.has(l));this.view.hourColumns.forEach((l,u)=>{o.hourColumns[u].hours.forEach((d,m)=>{d.segments.forEach((g,v)=>{l.hours[m].segments[v].cssClass=g.cssClass})}),s.forEach(d=>{const m=r.get(d),g=l.events.find(v=>v.event===(a?d:m));g?(g.event=m,g.tempEvent=d,a||(g.height=0,g.width=0)):l.events.push({event:m,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),r.clear()}getTimeEventResizedDates(t,r){const a=function io(n,i){return kn(n,i)*i}(this.hourSegments,this.hourSegmentHeight),o={start:t.start,end:En(this.dateAdapter,t,a)},l=function Br(n,i){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&i.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)i.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]])}return t}(t,["end"]),u={start:this.dateAdapter.addMinutes(o.end,-1*a),end:En(this.dateAdapter,l,a)};if(typeof r.edges.left<"u"){const d=Math.round(+r.edges.left/this.dayColumnWidth),m=X(this.dateAdapter,o.start,d,this.excludeDays);o.start=m<u.start?m:u.start}else if(typeof r.edges.right<"u"){const d=Math.round(+r.edges.right/this.dayColumnWidth),m=X(this.dateAdapter,o.end,d,this.excludeDays);o.end=m>u.end?m:u.end}if(typeof r.edges.top<"u"){const d=Rt(r.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),m=this.dateAdapter.addMinutes(o.start,d);o.start=m<u.start?m:u.start}else if(typeof r.edges.bottom<"u"){const d=Rt(r.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),m=this.dateAdapter.addMinutes(o.end,d);o.end=m>u.end?m:u.end}return o}resizeStarted(t,r){this.dayColumnWidth=this.getDayColumnWidth(t);const a=new yo(t,r);this.validateResize=({rectangle:o})=>a.validateResize({rectangle:o}),this.cdr.markForCheck()}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(Ee),e.Y36(e.soG),e.Y36(z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{events:"events",excludeDays:"excludeDays",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",precision:"precision",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",locale:"locale",viewDate:"viewDate",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[e.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-week-view-header",1),e.NdJ("dayHeaderClicked",function(o){return r.dayHeaderClicked.emit(o)})("eventDropped",function(o){return r.eventDropped({dropData:o},o.newStart,!0)})("dragEnter",function(o){return r.dateDragEnter(o.date)}),e.qZA(),e.YNc(2,Ca,6,5,"div",2),e.TgZ(3,"div",3),e.NdJ("dragEnter",function(){return r.dragEnter("time")})("dragLeave",function(){return r.dragLeave("time")}),e.YNc(4,ba,2,2,"div",4),e.TgZ(5,"div",5,6),e.YNc(7,Za,5,12,"div",7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("days",r.days)("locale",r.locale)("customTemplate",r.headerTemplate),e.xp6(1),e.Q6J("ngIf",r.view.allDayEventRows.length>0),e.xp6(2),e.Q6J("ngIf",r.view.hourColumns.length>0&&1!==r.daysInWeek),e.xp6(1),e.ekj("cal-resize-active",r.timeEventResizes.size>0),e.xp6(2),e.Q6J("ngForOf",r.view.hourColumns)("ngForTrackBy",r.trackByHourColumn))},dependencies:function(){return[f.mk,f.sg,f.O5,f.tP,hn,Bi,Zt,Wt,we,wo,_o,Co,Do]},encapsulation:2}),p([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"events",void 0),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"excludeDays",void 0),p([(0,e.IIB)(),c("design:type",N.x)],n.prototype,"refresh",void 0),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"tooltipPlacement",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"tooltipTemplate",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipAppendToBody",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"tooltipDelay",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"weekStartsOn",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"headerTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTitleTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventActionsTemplate",void 0),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"precision",void 0),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"weekendDays",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"snapDraggedEvents",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegments",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegmentHeight",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartHour",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartMinute",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndHour",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndMinute",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"hourSegmentTemplate",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"eventSnapSize",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"allDayEventsLabelTemplate",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"daysInWeek",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"currentTimeMarkerTemplate",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"dayHeaderClicked",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventTimesChanged",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"beforeViewRender",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"hourSegmentClicked",void 0),n=p([Te(2,(0,e.tBr)(e.soG)),c("design:paramtypes",[e.sBO,Ee,String,z])],n),n})(),wo=(()=>{let n=class{constructor(){this.dayHeaderClicked=new e.vpe,this.eventDropped=new e.vpe,this.dragEnter=new e.vpe,this.trackByWeekDayHeaderDate=Lt}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(t,r){if(1&t&&(e.YNc(0,Pa,2,2,"ng-template",null,0,e.W1O),e.YNc(2,Fa,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.HTZ(2,La,r.days,r.locale,r.dayHeaderClicked,r.eventDropped,r.dragEnter,r.trackByWeekDayHeaderDate))}},dependencies:[f.mk,f.sg,f.tP,Wt,we,Ye],encapsulation:2}),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"days",void 0),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"dayHeaderClicked",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventDropped",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"dragEnter",void 0),n})(),_o=(()=>{let n=class{constructor(){this.eventClicked=new e.vpe}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(t,r){if(1&t&&(e.YNc(0,Ya,6,26,"ng-template",null,0,e.W1O),e.YNc(2,Na,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.rFY(2,Ua,[r.weekEvent,r.tooltipPlacement,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDisabled,r.tooltipDelay,r.column,r.daysInWeek]))}},dependencies:[f.tP,f.PC,wn,_n,Cn,we,lt,Nt,_e],encapsulation:2}),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"weekEvent",void 0),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"tooltipPlacement",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipAppendToBody",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipDisabled",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"tooltipDelay",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTitleTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventActionsTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"tooltipTemplate",void 0),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"column",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"daysInWeek",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),n})(),Co=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(t,r){if(1&t&&(e.YNc(0,Va,3,13,"ng-template",null,0,e.W1O),e.YNc(2,qa,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.qbA(2,Ja,r.segment,r.locale,r.segmentHeight,r.isTimeLabel,r.daysInWeek))}},dependencies:[f.mk,f.O5,f.tP,Ye,_e],encapsulation:2}),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"segment",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"segmentHeight",void 0),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"isTimeLabel",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"daysInWeek",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),n})(),Do=(()=>{let n=class{constructor(t,r){this.dateAdapter=t,this.zone=r,this.columnDate$=new Lr.X(this.columnDate),this.marker$=this.zone.onStable.pipe((0,Qe.w)(()=>function Rr(n=0,i=Gt.z){return n<0&&(n=0),(0,ft.H)(n,n,i)}(6e4)),(0,yt.O)(0),function Nr(n,i){return(0,Yr.m)(i)?(0,Qe.w)(()=>n,i):(0,Qe.w)(()=>n)}(this.columnDate$),(0,q.U)(a=>{const o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/60,u=new Date;return{isVisible:this.dateAdapter.isSameDay(a,u)&&u>=o&&u<=s,top:this.dateAdapter.differenceInMinutes(u,o)*l}}))}ngOnChanges(t){t.columnDate&&this.columnDate$.next(t.columnDate.currentValue)}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(z),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[e.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(t,r){if(1&t&&(e.YNc(0,$a,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Qa,0,0,"ng-template",1),e.ALo(3,"async"),e.ALo(4,"async")),2&t){const a=e.MAs(1);let o;e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.Hh0(6,Ga,r.columnDate,r.dayStartHour,r.dayStartMinute,r.dayEndHour,r.dayEndMinute,null==(o=e.lcZ(3,2,r.marker$))?null:o.isVisible,null==(o=e.lcZ(4,4,r.marker$))?null:o.top))}},dependencies:[f.O5,f.tP,f.Ov],encapsulation:2}),p([(0,e.IIB)(),c("design:type",Date)],n.prototype,"columnDate",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartHour",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartMinute",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndHour",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndMinute",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegments",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegmentHeight",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"customTemplate",void 0),n=p([c("design:paramtypes",[z,e.R0b])],n),n})(),Ut=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.ez,gn,nt,te,gn,nt]}),n})(),To=(()=>{let n=class{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new e.vpe,this.hourSegmentClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",snapDraggedEvents:"snapDraggedEvents",viewDate:"viewDate",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipTemplate:"tooltipTemplate",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:23,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourSegmentHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(t,r){1&t&&(e.TgZ(0,"mwl-calendar-week-view",0),e.NdJ("eventClicked",function(o){return r.eventClicked.emit(o)})("hourSegmentClicked",function(o){return r.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return r.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return r.beforeViewRender.emit(o)}),e.qZA()),2&t&&e.Q6J("daysInWeek",1)("viewDate",r.viewDate)("events",r.events)("hourSegments",r.hourSegments)("hourSegmentHeight",r.hourSegmentHeight)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("refresh",r.refresh)("locale",r.locale)("eventSnapSize",r.eventSnapSize)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("hourSegmentTemplate",r.hourSegmentTemplate)("eventTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("snapDraggedEvents",r.snapDraggedEvents)("allDayEventsLabelTemplate",r.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",r.currentTimeMarkerTemplate)},dependencies:[xn],encapsulation:2}),p([(0,e.IIB)(),c("design:type",Date)],n.prototype,"viewDate",void 0),p([(0,e.IIB)(),c("design:type",Array)],n.prototype,"events",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegments",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"hourSegmentHeight",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartHour",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayStartMinute",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndHour",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"dayEndMinute",void 0),p([(0,e.IIB)(),c("design:type",N.x)],n.prototype,"refresh",void 0),p([(0,e.IIB)(),c("design:type",String)],n.prototype,"locale",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"eventSnapSize",void 0),p([(0,e.IIB)(),c("design:type",Object)],n.prototype,"tooltipPlacement",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"tooltipTemplate",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"tooltipAppendToBody",void 0),p([(0,e.IIB)(),c("design:type",Number)],n.prototype,"tooltipDelay",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"hourSegmentTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventTitleTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"eventActionsTemplate",void 0),p([(0,e.IIB)(),c("design:type",Boolean)],n.prototype,"snapDraggedEvents",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"allDayEventsLabelTemplate",void 0),p([(0,e.IIB)(),c("design:type",e.Rgc)],n.prototype,"currentTimeMarkerTemplate",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventClicked",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"hourSegmentClicked",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"eventTimesChanged",void 0),p([(0,e.r_U)(),c("design:type",Object)],n.prototype,"beforeViewRender",void 0),n})(),An=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.ez,te,Ut]}),n})();var In;let Me=In=class{static forRoot(i,t={}){return{ngModule:In,providers:[i,t.eventTitleFormatter||st,t.dateFormatter||Re,t.utils||Ee,t.a11y||Ne]}}};function Ue(n){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ue(n)}function D(n,i){if(i.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+i.length+" present")}function A(n){D(1,arguments);var i=Object.prototype.toString.call(n);return n instanceof Date||"object"===Ue(n)&&"[object Date]"===i?new Date(n.getTime()):"number"==typeof n||"[object Number]"===i?new Date(n):(("string"==typeof n||"[object String]"===i)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Bn(n,i){D(2,arguments);var t=A(n),r=A(i);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function ze(n){D(1,arguments);var i=A(n);return i.setHours(0,0,0,0),i}function Hn(n,i){D(2,arguments);var t=ze(n),r=ze(i);return t.getTime()===r.getTime()}function Y(n){if(null===n||!0===n||!1===n)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}function dt(n,i){D(2,arguments);var t=A(n).getTime(),r=Y(i);return new Date(t+r)}Me.\u0275fac=function(i){return new(i||Me)},Me.\u0275mod=e.oAB({type:Me}),Me.\u0275inj=e.cJS({imports:[te,On,Ut,An,te,On,Ut,An]});var Eo=864e5;function ct(n){D(1,arguments);var t=A(n),r=t.getUTCDay(),a=(r<1?7:0)+r-1;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function Zn(n){D(1,arguments);var i=A(n),t=i.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var a=ct(r),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var s=ct(o);return i.getTime()>=a.getTime()?t+1:i.getTime()>=s.getTime()?t:t-1}var xo=6048e5;var Wn={};function Oe(){return Wn}function ut(n,i){var t,r,a,o,s,l,u,d;D(1,arguments);var m=Oe(),g=Y(null!==(t=null!==(r=null!==(a=null!==(o=i?.weekStartsOn)&&void 0!==o?o:null==i||null===(s=i.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:m.weekStartsOn)&&void 0!==r?r:null===(u=m.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=A(n),h=v.getUTCDay(),y=(h<g?7:0)+h-g;return v.setUTCDate(v.getUTCDate()-y),v.setUTCHours(0,0,0,0),v}function Pn(n,i){var t,r,a,o,s,l,u,d;D(1,arguments);var m=A(n),g=m.getUTCFullYear(),v=Oe(),h=Y(null!==(t=null!==(r=null!==(a=null!==(o=i?.firstWeekContainsDate)&&void 0!==o?o:null==i||null===(s=i.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:v.firstWeekContainsDate)&&void 0!==r?r:null===(u=v.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==t?t:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(g+1,0,h),y.setUTCHours(0,0,0,0);var b=ut(y,i),_=new Date(0);_.setUTCFullYear(g,0,h),_.setUTCHours(0,0,0,0);var S=ut(_,i);return m.getTime()>=b.getTime()?g+1:m.getTime()>=S.getTime()?g:g-1}var Bo=6048e5;function W(n,i){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<i;)r="0"+r;return t+r}var Zo={y:function(i,t){var r=i.getUTCFullYear(),a=r>0?r:1-r;return W("yy"===t?a%100:a,t.length)},M:function(i,t){var r=i.getUTCMonth();return"M"===t?String(r+1):W(r+1,2)},d:function(i,t){return W(i.getUTCDate(),t.length)},a:function(i,t){var r=i.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(i,t){return W(i.getUTCHours()%12||12,t.length)},H:function(i,t){return W(i.getUTCHours(),t.length)},m:function(i,t){return W(i.getUTCMinutes(),t.length)},s:function(i,t){return W(i.getUTCSeconds(),t.length)},S:function(i,t){var r=t.length,a=i.getUTCMilliseconds();return W(Math.floor(a*Math.pow(10,r-3)),t.length)}};const he=Zo;var Wo={G:function(i,t,r){var a=i.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(i,t,r){if("yo"===t){var a=i.getUTCFullYear();return r.ordinalNumber(a>0?a:1-a,{unit:"year"})}return he.y(i,t)},Y:function(i,t,r,a){var o=Pn(i,a),s=o>0?o:1-o;return"YY"===t?W(s%100,2):"Yo"===t?r.ordinalNumber(s,{unit:"year"}):W(s,t.length)},R:function(i,t){return W(Zn(i),t.length)},u:function(i,t){return W(i.getUTCFullYear(),t.length)},Q:function(i,t,r){var a=Math.ceil((i.getUTCMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return W(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(i,t,r){var a=Math.ceil((i.getUTCMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return W(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(i,t,r){var a=i.getUTCMonth();switch(t){case"M":case"MM":return he.M(i,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(i,t,r){var a=i.getUTCMonth();switch(t){case"L":return String(a+1);case"LL":return W(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(i,t,r,a){var o=function Ho(n,i){D(1,arguments);var t=A(n),r=ut(t,i).getTime()-function Io(n,i){var t,r,a,o,s,l,u,d;D(1,arguments);var m=Oe(),g=Y(null!==(t=null!==(r=null!==(a=null!==(o=i?.firstWeekContainsDate)&&void 0!==o?o:null==i||null===(s=i.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:m.firstWeekContainsDate)&&void 0!==r?r:null===(u=m.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==t?t:1),v=Pn(n,i),h=new Date(0);return h.setUTCFullYear(v,0,g),h.setUTCHours(0,0,0,0),ut(h,i)}(t,i).getTime();return Math.round(r/Bo)+1}(i,a);return"wo"===t?r.ordinalNumber(o,{unit:"week"}):W(o,t.length)},I:function(i,t,r){var a=function Ao(n){D(1,arguments);var i=A(n),t=ct(i).getTime()-function Oo(n){D(1,arguments);var i=Zn(n),t=new Date(0);return t.setUTCFullYear(i,0,4),t.setUTCHours(0,0,0,0),ct(t)}(i).getTime();return Math.round(t/xo)+1}(i);return"Io"===t?r.ordinalNumber(a,{unit:"week"}):W(a,t.length)},d:function(i,t,r){return"do"===t?r.ordinalNumber(i.getUTCDate(),{unit:"date"}):he.d(i,t)},D:function(i,t,r){var a=function Mo(n){D(1,arguments);var i=A(n),t=i.getTime();i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0);var r=i.getTime();return Math.floor((t-r)/Eo)+1}(i);return"Do"===t?r.ordinalNumber(a,{unit:"dayOfYear"}):W(a,t.length)},E:function(i,t,r){var a=i.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(i,t,r,a){var o=i.getUTCDay(),s=(o-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return W(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(i,t,r,a){var o=i.getUTCDay(),s=(o-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return W(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(i,t,r){var a=i.getUTCDay(),o=0===a?7:a;switch(t){case"i":return String(o);case"ii":return W(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(i,t,r){var o=i.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,t,r){var o,a=i.getUTCHours();switch(o=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,t,r){var o,a=i.getUTCHours();switch(o=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,t,r){if("ho"===t){var a=i.getUTCHours()%12;return 0===a&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return he.h(i,t)},H:function(i,t,r){return"Ho"===t?r.ordinalNumber(i.getUTCHours(),{unit:"hour"}):he.H(i,t)},K:function(i,t,r){var a=i.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(a,{unit:"hour"}):W(a,t.length)},k:function(i,t,r){var a=i.getUTCHours();return 0===a&&(a=24),"ko"===t?r.ordinalNumber(a,{unit:"hour"}):W(a,t.length)},m:function(i,t,r){return"mo"===t?r.ordinalNumber(i.getUTCMinutes(),{unit:"minute"}):he.m(i,t)},s:function(i,t,r){return"so"===t?r.ordinalNumber(i.getUTCSeconds(),{unit:"second"}):he.s(i,t)},S:function(i,t){return he.S(i,t)},X:function(i,t,r,a){var s=(a._originalDate||i).getTimezoneOffset();if(0===s)return"Z";switch(t){case"X":return Ln(s);case"XXXX":case"XX":return Ce(s);default:return Ce(s,":")}},x:function(i,t,r,a){var s=(a._originalDate||i).getTimezoneOffset();switch(t){case"x":return Ln(s);case"xxxx":case"xx":return Ce(s);default:return Ce(s,":")}},O:function(i,t,r,a){var s=(a._originalDate||i).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Fn(s,":");default:return"GMT"+Ce(s,":")}},z:function(i,t,r,a){var s=(a._originalDate||i).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Fn(s,":");default:return"GMT"+Ce(s,":")}},t:function(i,t,r,a){return W(Math.floor((a._originalDate||i).getTime()/1e3),t.length)},T:function(i,t,r,a){return W((a._originalDate||i).getTime(),t.length)}};function Fn(n,i){var t=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),o=r%60;if(0===o)return t+String(a);var s=i||"";return t+String(a)+s+W(o,2)}function Ln(n,i){return n%60==0?(n>0?"-":"+")+W(Math.abs(n)/60,2):Ce(n,i)}function Ce(n,i){var t=i||"",r=n>0?"-":"+",a=Math.abs(n);return r+W(Math.floor(a/60),2)+t+W(a%60,2)}const Po=Wo;var Rn=function(i,t){switch(i){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Yn=function(i,t){switch(i){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Lo={p:Yn,P:function(i,t){var s,r=i.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return Rn(i,t);switch(a){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",Rn(a,t)).replace("{{time}}",Yn(o,t))}};const Ro=Lo;function zt(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}var Yo=["D","DD"],No=["YY","YYYY"];function Nn(n,i,t){if("YYYY"===n)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(i,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===n)throw new RangeError("Use `yy` instead of `YY` (in `".concat(i,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===n)throw new RangeError("Use `d` instead of `D` (in `".concat(i,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===n)throw new RangeError("Use `dd` instead of `DD` (in `".concat(i,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Vo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ae(n){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.width?String(i.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Ko={date:Ae({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ae({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ae({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Xo={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ne(n){return function(i,t){var a;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,s=null!=t&&t.width?String(t.width):o;a=n.formattingValues[s]||n.formattingValues[o]}else{var l=n.defaultWidth,u=null!=t&&t.width?String(t.width):n.defaultWidth;a=n.values[u]||n.values[l]}return a[n.argumentCallback?n.argumentCallback(i):i]}}var ds={ordinalNumber:function(i,t){var r=Number(i),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:ne({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ne({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(i){return i-1}}),month:ne({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ne({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ne({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};const cs=ds;function re(n){return function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.width,o=i.match(r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth]);if(!o)return null;var d,s=o[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(l)?function ps(n,i){for(var t=0;t<n.length;t++)if(i(n[t]))return t}(l,function(g){return g.test(s)}):function us(n,i){for(var t in n)if(n.hasOwnProperty(t)&&i(n[t]))return t}(l,function(g){return g.test(s)});return d=n.valueCallback?n.valueCallback(u):u,{value:d=t.valueCallback?t.valueCallback(d):d,rest:i.slice(s.length)}}}function Un(n){return function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.match(n.matchPattern);if(!r)return null;var a=r[0],o=i.match(n.parsePattern);if(!o)return null;var s=n.valueCallback?n.valueCallback(o[0]):o[0];return{value:s=t.valueCallback?t.valueCallback(s):s,rest:i.slice(a.length)}}}var Ss={ordinalNumber:Un({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(i){return parseInt(i,10)}}),era:re({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:re({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(i){return i+1}}),month:re({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:re({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:re({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const Es={code:"en-US",formatDistance:function(i,t,r){var a,o=Vo[i];return a="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a},formatLong:Ko,formatRelative:function(i,t,r,a){return Xo[i]},localize:cs,match:Ss,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Ms=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Os=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xs=/^'([^]*?)'?$/,As=/''/g,Is=/[a-zA-Z]/;function Bs(n,i,t){var r,a,o,s,l,u,d,m,g,v,h,y,b,_,S,M,T,O;D(2,arguments);var H=String(i),P=Oe(),L=null!==(r=null!==(a=t?.locale)&&void 0!==a?a:P.locale)&&void 0!==r?r:Es,B=Y(null!==(o=null!==(s=null!==(l=null!==(u=t?.firstWeekContainsDate)&&void 0!==u?u:null==t||null===(d=t.locale)||void 0===d||null===(m=d.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==l?l:P.firstWeekContainsDate)&&void 0!==s?s:null===(g=P.locale)||void 0===g||null===(v=g.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==o?o:1);if(!(B>=1&&B<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=Y(null!==(h=null!==(y=null!==(b=null!==(_=t?.weekStartsOn)&&void 0!==_?_:null==t||null===(S=t.locale)||void 0===S||null===(M=S.options)||void 0===M?void 0:M.weekStartsOn)&&void 0!==b?b:P.weekStartsOn)&&void 0!==y?y:null===(T=P.locale)||void 0===T||null===(O=T.options)||void 0===O?void 0:O.weekStartsOn)&&void 0!==h?h:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var E=A(n);if(!function So(n){if(D(1,arguments),!function bo(n){return D(1,arguments),n instanceof Date||"object"===Ue(n)&&"[object Date]"===Object.prototype.toString.call(n)}(n)&&"number"!=typeof n)return!1;var i=A(n);return!isNaN(Number(i))}(E))throw new RangeError("Invalid time value");var w=function ko(n,i){return D(2,arguments),dt(n,-Y(i))}(E,zt(E)),F={firstWeekContainsDate:B,weekStartsOn:x,locale:L,_originalDate:E},Z=H.match(Os).map(function(U){var Q=U[0];return"p"===Q||"P"===Q?(0,Ro[Q])(U,L.formatLong):U}).join("").match(Ms).map(function(U){if("''"===U)return"'";var Q=U[0];if("'"===Q)return function Hs(n){var i=n.match(xs);return i?i[1].replace(As,"'"):n}(U);var ge=Po[Q];if(ge)return!(null!=t&&t.useAdditionalWeekYearTokens)&&function zo(n){return-1!==No.indexOf(n)}(U)&&Nn(U,i,String(n)),!(null!=t&&t.useAdditionalDayOfYearTokens)&&function Uo(n){return-1!==Yo.indexOf(n)}(U)&&Nn(U,i,String(n)),ge(w,U,L.localize,F);if(Q.match(Is))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return U}).join("");return Z}var zn=k(9061),Ve=k(2177);let Vn=(()=>{class n{constructor(t){this.http=t}getEvents(){return this.http.get(Ve.k.GET_ALL_EVENT)}addEvent(t){return this.http.post(Ve.k.CREATE_EVENT,t)}updateEvent(t){return this.http.patch(Ve.k.UPDATE_EVENT,t)}deleteEvent(t){return this.http.delete(Ve.k.DELETE_EVENT+t)}cahngeStatusEvent(t,r){return this.http.patch(Ve.k.GET_CHANGE_STATUTS_EVENT+t,r)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ie.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zs_green={primary:"#067837B9",secondary:"#FAE3E3"};let Ws=(()=>{class n{constructor(t,r,a){this.activeModal=t,this.eventService=r,this.toastrService=a}updateStatus(t){const r={status:"fait",color:{...Zs_green},draggable:!1,actions:[]};console.log(t),this.eventService.cahngeStatusEvent(t.id,r).subscribe(a=>{console.log(a),this.toastrService.success("s\xe9ance mise \xe0 jour")}),console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zn.Kz),e.Y36(Vn),e.Y36(ce._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-appointment"]],inputs:{event:"event"},decls:24,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Event Details"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return r.activeModal.dismiss()}),e.qZA()(),e.TgZ(4,"div",3)(5,"p")(6,"strong"),e._uU(7,"Titre:"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"p")(10,"strong"),e._uU(11,"D\xe9but de la s\xe9ance:"),e.qZA(),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"p")(15,"strong"),e._uU(16,"Fin de la s\xe9ance:"),e.qZA(),e._uU(17),e.ALo(18,"date"),e.qZA()(),e.TgZ(19,"div",4)(20,"button",5),e.NdJ("click",function(){return r.updateStatus(r.event)}),e._uU(21,"Marquer comme \xe9ffectu\xe9"),e.qZA(),e.TgZ(22,"button",6),e.NdJ("click",function(){return r.activeModal.dismiss()}),e._uU(23,"Fermer"),e.qZA()()),2&t&&(e.xp6(8),e.hij(" ",r.event.title,""),e.xp6(4),e.hij(" ",e.xi3(13,3,r.event.start,"short"),""),e.xp6(5),e.hij(" ",e.xi3(18,6,r.event.end,"short"),""))},dependencies:[f.uU]}),n})();var Ps={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}};const zs={date:Ae({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Ae({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Ae({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Vs={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"};var el={ordinalNumber:function(i,t){var r=Number(i),a=t?.unit;return 0===r?"0":r+(1===r?a&&["year","week","hour","minute","second"].includes(a)?"\xe8re":"er":"\xe8me")},era:ne({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:ne({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:function(i){return i-1}}),month:ne({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:ne({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:ne({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})};const tl=el;var hl={ordinalNumber:Un({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:function(i){return parseInt(i)}}),era:re({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:re({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(i){return i+1}}),month:re({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:re({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:re({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})};const qn={code:"fr",formatDistance:function(i,t,r){var a,o=Ps[i];return a="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",String(t)),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+a:"il y a "+a:a},formatLong:zs,formatRelative:function(i,t,r,a){return Vs[i]},localize:tl,match:hl,options:{weekStartsOn:1,firstWeekContainsDate:4}};function vl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"h5",30),e._uU(2,"D\xe9tails de l'\xe9v\xe9nement"),e.qZA(),e.TgZ(3,"button",31),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeModal())}),e.TgZ(4,"span",32),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",33)(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()()}if(2&n){const t=i.event;e.xp6(8),e.Oqu(t.title),e.xp6(2),e.hij("D\xe9but : ",t.start,""),e.xp6(2),e.hij("Fin : ",t.end,"")}}function fl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-view",34),e.NdJ("dayClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.dayClicked(a.day))})("eventClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.handleEvent("Clicked",a.event))})("eventTimesChanged",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventTimesChanged(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("activeDayIsOpen",t.activeDayIsOpen)}}function yl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view",35),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.handleEvent("Clicked",a.event))})("eventTimesChanged",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventTimesChanged(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("hourSegments",2)}}function wl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-day-view",35),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.handleEvent("Clicked",a.event))})("eventTimesChanged",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventTimesChanged(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("hourSegments",2)}}const Jn=function(){return{standalone:!0}},_l_blue={primary:"#1e90ff",secondary:"#D1E8FF"},Cl=[{path:"",component:de},{path:"detail-patient/:id",component:dr},{path:"chiffre-affaire",component:ur},{path:"create-patient",component:Ir},{path:"list-patient",component:hr},{path:"planning",component:(()=>{class n{constructor(t,r,a,o,s,l){this.modalService=t,this.eventService=r,this.patientService=a,this.toastrService=o,this.translateService=s,this.cdr=l,this.listSeance=[],this.listPatients=[],this.view=le.Month,this.viewDate=new Date,this.refresh=new N.x,this.events=[],this.events2=[],this.activeDayIsOpen=!0,this.newEventTitle="",this.patient="",this.newEventStartDate="",this.newEventEndDate="",this.dropdownSettings={},this.dropdownSeanceSettings={},this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.actions=[{label:'<i class="fas fa-fw fa-pencil-alt"></i>',a11yLabel:"Edit",onClick:({event:u})=>{this.handleEvent("Edited",u)}},{label:'<i class="fas fa-fw fa-trash-alt"></i>',a11yLabel:"Delete",onClick:({event:u})=>{this.events=this.events.filter(d=>d!==u),this.handleEvent("Deleted",u)}}],this.CalendarView=le}ngOnInit(){this.getAllPatientkine(),this.loadEvents(),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"id",textField:"nom",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSeanceSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"seance_title",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}loadEvents(){this.eventService.getEvents().subscribe(t=>{console.log(t),this.events=t.map(r=>({id:r.id,start:new Date(r.start),end:new Date(r.end),title:r.title,color:r.color,actions:r.actions,resizable:r.resizable,draggable:r.draggable})),this.cdr.detectChanges()})}dayClicked({date:t,events:r}){Bn(t,this.viewDate)&&(this.activeDayIsOpen=!(Hn(this.viewDate,t)&&!0===this.activeDayIsOpen||0===r.length),this.viewDate=t)}addEvent(t,r,a,o){console.log("patient:",t,"title:",r,"debut:",a,"fin:",o);const s=a?new Date(a):new Date,l=o?new Date(o):new Date;console.log("debut:",s,"fin:",l),this.events=[...this.events,{title:r[0].seance_title+"-"+t[0].nom,start:s,end:l,allDay:!0,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0},actions:this.actions}];const u={patientkineId:t[0].id,seanceId:r[0]._id,title:r[0].seance_title+"-"+t[0].nom,color:{..._l_blue},actions:this.actions,allDay:!1,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0},start:s,end:l,status:"\xe0 faire"};console.log("eventData:",u),console.log("new event",{title:r,start:s,end:l,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0},actions:this.actions}),this.eventService.addEvent(u).subscribe(d=>{this.events.push(d),window.location.reload()}),this.events.sort((d,m)=>d.start.getTime()-m.start.getTime())}eventTimesChanged({event:t,newStart:r,newEnd:a}){this.events=this.events.map(o=>o===t?{...t,start:r,end:a}:o),this.handleEvent("Dropped or resized",t),console.log("Dropped or resized",t)}handleEvent(t,r){this.modalRef=this.modalService.open(Ws),this.modalRef.componentInstance.event=r}deleteEvent(t){this.events=this.events.filter(r=>r!==t)}setView(t){this.view=t}closeModal(){this.modalRef&&this.modalRef.dismiss()}formatHour(t){return Bs(t,"HH:mm",{locale:qn})}updateEvent(t){this.eventService.updateEvent(t).subscribe(r=>{const a=this.events.findIndex(o=>o.id===r.id);-1!==a&&(this.events[a]=r)})}getAllPatientkine(){this.patientService.getAllPatientKineEvent("kin\xe9sith\xe9rapie").subscribe({next:r=>{this.listPatients=r,console.log("patients:",this.listPatients)},error:r=>{console.log(r)}})}onItemSelect(t){this.patientId=t.id,console.log("patient id",this.patientId),this.patientService.AllseancePatientkine(t.id).subscribe({next:r=>{this.listSeance=r,console.log("seances:",this.listSeance)},error:r=>{console.log(r),this.toastrService.error(r.statusText)}})}onItemDeSelect(t){console.log("onItem DeSelect",t)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSelectSeance(t){this.seanceId=t._id,console.log("seance id",this.seanceId)}onItemDeSelectSeance(t){console.log("onItem DeSelect",t)}onDropDownCloseSeance(){console.log("dropdown closed")}toogleShowAllSeance(){this.showAll=!this.showAll,this.dropdownSeanceSettings=Object.assign({},this.dropdownSeanceSettings,{enableCheckAll:this.showAll})}toogleShowFilterSeance(){this.ShowFilter=!this.ShowFilter,this.dropdownSeanceSettings=Object.assign({},this.dropdownSeanceSettings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zn.FF),e.Y36(Vn),e.Y36(R.e),e.Y36(ce._W),e.Y36(j.sK),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-calendar-kine"]],decls:60,vars:34,consts:[[1,"h3","mb-2","text-gray-800"],["routerLink","/kine/list-patient",1,"btn","btn-primary"],[1,"container","mt-4"],[1,"row","mb-3"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"btn","btn-primary",3,"click"],[1,"row"],[1,"col-md-12"],[1,"card","border-secondary"],[1,"card-body"],[1,"col-md-2"],[1,"form-group"],["for","patient"],["id","patient",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],["for","seance"],["id","seance",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],["for","start"],["id","start","type","datetime-local","dateFormat","Y-m-dTH:i","altFormat","F j, Y H:i","placeholder","Not set",1,"form-control",3,"ngModel","ngModelChange"],["for","end"],["id","end","type","datetime-local","dateFormat","Y-m-dTH:i","altFormat","F j, Y H:i","placeholder","Not set",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["modalContent",""],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","hourSegments","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged"],[3,"viewDate","events","refresh","hourSegments","eventClicked","eventTimesChanged"]],template:function(t,r){1&t&&(e.TgZ(0,"h1",0)(1,"a",1),e._uU(2,"Retour"),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"button",6),e.NdJ("viewDateChange",function(o){return r.viewDate=o}),e._uU(8," Pr\xe9c\xe9dent "),e.qZA(),e.TgZ(9,"button",7),e.NdJ("viewDateChange",function(o){return r.viewDate=o}),e._uU(10," Aujourd'hui "),e.qZA(),e.TgZ(11,"button",8),e.NdJ("viewDateChange",function(o){return r.viewDate=o}),e._uU(12," Suivant "),e.qZA()()(),e.TgZ(13,"div",4)(14,"h3"),e._uU(15),e.ALo(16,"calendarDate"),e.qZA()(),e.TgZ(17,"div",4)(18,"div",5)(19,"div",9),e.NdJ("click",function(){return r.setView(r.CalendarView.Month)}),e._uU(20," Mois "),e.qZA(),e.TgZ(21,"div",9),e.NdJ("click",function(){return r.setView(r.CalendarView.Week)}),e._uU(22," Semaine "),e.qZA(),e.TgZ(23,"div",9),e.NdJ("click",function(){return r.setView(r.CalendarView.Day)}),e._uU(24," Jour "),e.qZA()()()(),e.TgZ(25,"div",10)(26,"div",11)(27,"div",12)(28,"div",13)(29,"div",10)(30,"div",14)(31,"div",15)(32,"label",16),e._uU(33,"Selectionner le patient"),e.qZA(),e.TgZ(34,"ng-multiselect-dropdown",17),e.NdJ("ngModelChange",function(o){return r.patient=o})("onDropDownClose",function(){return r.onDropDownClose()})("onSelect",function(o){return r.onItemSelect(o)})("onDeSelect",function(o){return r.onItemDeSelect(o)}),e.qZA()()(),e.TgZ(35,"div",14)(36,"div",15)(37,"label",18),e._uU(38,"Selectionner la s\xe9ance"),e.qZA(),e.TgZ(39,"ng-multiselect-dropdown",19),e.NdJ("ngModelChange",function(o){return r.newEventTitle=o})("onDropDownClose",function(){return r.onDropDownCloseSeance()})("onSelect",function(o){return r.onItemSelectSeance(o)})("onDeSelect",function(o){return r.onItemDeSelectSeance(o)}),e.qZA()()(),e.TgZ(40,"div",14)(41,"div",15)(42,"label",20),e._uU(43,"Date et heure de d\xe9but de la s\xe9ance"),e.qZA(),e.TgZ(44,"input",21),e.NdJ("ngModelChange",function(o){return r.newEventStartDate=o})("ngModelChange",function(){return r.refresh.next()}),e.qZA()()(),e.TgZ(45,"div",14)(46,"div",15)(47,"label",22),e._uU(48,"Date et heure la fin de s\xe9ance"),e.qZA(),e.TgZ(49,"input",23),e.NdJ("ngModelChange",function(o){return r.newEventEndDate=o})("ngModelChange",function(){return r.refresh.next()}),e.qZA()()(),e.TgZ(50,"div",14)(51,"button",24),e.NdJ("click",function(){return r.addEvent(r.patient,r.newEventTitle,r.newEventStartDate,r.newEventEndDate)}),e._uU(52,"Ajouter un \xe9v\xe9nement"),e.qZA()()()()()()(),e.YNc(53,vl,13,3,"ng-template",null,25,e.W1O),e._UZ(55,"br"),e.TgZ(56,"div",26),e.YNc(57,fl,1,4,"mwl-calendar-month-view",27),e.YNc(58,yl,1,4,"mwl-calendar-week-view",28),e.YNc(59,wl,1,4,"mwl-calendar-day-view",28),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("view",r.view)("viewDate",r.viewDate),e.xp6(2),e.Q6J("viewDate",r.viewDate),e.xp6(2),e.Q6J("view",r.view)("viewDate",r.viewDate),e.xp6(4),e.Oqu(e.Dn7(16,28,r.viewDate,r.view+"ViewTitle","fr")),e.xp6(4),e.ekj("active",r.view===r.CalendarView.Month),e.xp6(2),e.ekj("active",r.view===r.CalendarView.Week),e.xp6(2),e.ekj("active",r.view===r.CalendarView.Day),e.xp6(11),e.Q6J("data",r.listPatients)("ngModel",r.patient)("disabled",r.disabled)("settings",r.dropdownSettings)("ngModelOptions",e.DdM(32,Jn)),e.xp6(5),e.Q6J("data",r.listSeance)("ngModel",r.newEventTitle)("disabled",r.disabled)("settings",r.dropdownSeanceSettings)("ngModelOptions",e.DdM(33,Jn)),e.xp6(5),e.Q6J("ngModel",r.newEventStartDate),e.xp6(5),e.Q6J("ngModel",r.newEventEndDate),e.xp6(7),e.Q6J("ngSwitch",r.view),e.xp6(1),e.Q6J("ngSwitchCase",r.CalendarView.Month),e.xp6(1),e.Q6J("ngSwitchCase",r.CalendarView.Week),e.xp6(1),e.Q6J("ngSwitchCase",r.CalendarView.Day))},dependencies:[f.RF,f.n9,V.rH,I.Fj,I.JJ,so,lo,co,po,xn,To,I.On,gt.OP,Ye],styles:[".cal-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.cal-header[_ngcontent-%COMP%]{margin-bottom:20px}.cal-header[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),n})()}];let Dl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[V.Bz.forChild(Cl),V.Bz]}),n})();var Tl=k(1744);function Vt(n,i){D(2,arguments);var t=A(n),r=Y(i);return isNaN(r)?new Date(NaN):(r&&t.setDate(t.getDate()+r),t)}var bl=36e5;function Sl(n,i){return D(2,arguments),dt(n,Y(i)*bl)}var kl=6e4;function El(n,i){return D(2,arguments),dt(n,Y(i)*kl)}function Ml(n,i){return D(2,arguments),dt(n,1e3*Y(i))}var Ol=864e5;function jn(n,i){var t=n.getFullYear()-i.getFullYear()||n.getMonth()-i.getMonth()||n.getDate()-i.getDate()||n.getHours()-i.getHours()||n.getMinutes()-i.getMinutes()||n.getSeconds()-i.getSeconds()||n.getMilliseconds()-i.getMilliseconds();return t<0?-1:t>0?1:t}function Al(n,i){D(2,arguments);var t=A(n),r=A(i),a=jn(t,r),o=Math.abs(function xl(n,i){D(2,arguments);var t=ze(n),r=ze(i),a=t.getTime()-zt(t),o=r.getTime()-zt(r);return Math.round((a-o)/Ol)}(t,r));t.setDate(t.getDate()-a*o);var l=a*(o-Number(jn(t,r)===-a));return 0===l?0:l}Math.pow(10,8);var Hl=6e4;function Qn(n,i){return D(2,arguments),A(n).getTime()-A(i).getTime()}var Gn={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(i){return i<0?Math.ceil(i):Math.floor(i)}},Fl="trunc";function Kn(n){return n?Gn[n]:Gn[Fl]}function Ll(n,i,t){D(2,arguments);var r=Qn(n,i)/Hl;return Kn(t?.roundingMethod)(r)}function Rl(n,i,t){D(2,arguments);var r=Qn(n,i)/1e3;return Kn(t?.roundingMethod)(r)}function Yl(n){D(1,arguments);var i=A(n);return i.setHours(23,59,59,999),i}function Nl(n){D(1,arguments);var i=A(n),t=i.getMonth();return i.setFullYear(i.getFullYear(),t+1,0),i.setHours(23,59,59,999),i}function Ul(n,i){var t,r,a,o,s,l,u,d;D(1,arguments);var m=Oe(),g=Y(null!==(t=null!==(r=null!==(a=null!==(o=i?.weekStartsOn)&&void 0!==o?o:null==i||null===(s=i.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:m.weekStartsOn)&&void 0!==r?r:null===(u=m.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=A(n),h=v.getDay(),y=6+(h<g?-7:0)-(h-g);return v.setDate(v.getDate()+y),v.setHours(23,59,59,999),v}function zl(n){return D(1,arguments),A(n).getDay()}function Vl(n){return D(1,arguments),A(n).getMonth()}function Xn(n){D(1,arguments);var i=A(n);return i.setMilliseconds(0),i}function ql(n,i){D(2,arguments);var t=Xn(n),r=Xn(i);return t.getTime()===r.getTime()}function Jl(n){var i,t;if(D(1,arguments),n&&"function"==typeof n.forEach)i=n;else{if("object"!==Ue(n)||null===n)return new Date(NaN);i=Array.prototype.slice.call(n)}return i.forEach(function(r){var a=A(r);(void 0===t||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function jl(n,i){D(2,arguments);var t=A(n),r=Y(i);return t.setHours(r),t}function $l(n,i){D(2,arguments);var t=A(n),r=Y(i);return t.setMinutes(r),t}function Ql(n){D(1,arguments);var i=A(n);return i.setSeconds(0,0),i}function Gl(n){D(1,arguments);var i=A(n);return i.setDate(1),i.setHours(0,0,0,0),i}function er(n,i){var t,r,a,o,s,l,u,d;D(1,arguments);var m=Oe(),g=Y(null!==(t=null!==(r=null!==(a=null!==(o=i?.weekStartsOn)&&void 0!==o?o:null==i||null===(s=i.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:m.weekStartsOn)&&void 0!==r?r:null===(u=m.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=A(n),h=v.getDay(),y=(h<g?7:0)+h-g;return v.setDate(v.getDate()-y),v.setHours(0,0,0,0),v}function Kl(n){return D(1,arguments),A(n).getHours()}function Xl(n){return D(1,arguments),A(n).getMinutes()}function tr(n,i){return D(2,arguments),Vt(n,7*Y(i))}function nr(n,i){D(2,arguments);var t=A(n),r=Y(i);if(isNaN(r))return new Date(NaN);if(!r)return t;var a=t.getDate(),o=new Date(t.getTime());return o.setMonth(t.getMonth()+r+1,0),a>=o.getDate()?o:(t.setFullYear(o.getFullYear(),o.getMonth(),a),t)}function td(n,i){return D(2,arguments),Vt(n,-Y(i))}function nd(n,i){return D(2,arguments),tr(n,-Y(i))}function rd(n,i){return D(2,arguments),nr(n,-Y(i))}function pt(n){return D(1,arguments),er(n,{weekStartsOn:1})}var od=6048e5;function sd(n){D(1,arguments);var i=A(n),t=pt(i).getTime()-function ad(n){D(1,arguments);var i=function id(n){D(1,arguments);var i=A(n),t=i.getFullYear(),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var a=pt(r),o=new Date(0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);var s=pt(o);return i.getTime()>=a.getTime()?t+1:i.getTime()>=s.getTime()?t:t-1}(n),t=new Date(0);return t.setFullYear(i,0,4),t.setHours(0,0,0,0),pt(t)}(i).getTime();return Math.round(t/od)+1}function ld(n,i){D(2,arguments);var t=A(n),r=Y(i);return t.setDate(r),t}function cd(n,i){D(2,arguments);var t=A(n),r=Y(i),a=t.getFullYear(),o=t.getDate(),s=new Date(0);s.setFullYear(a,r,15),s.setHours(0,0,0,0);var l=function dd(n){D(1,arguments);var i=A(n),t=i.getFullYear(),r=i.getMonth(),a=new Date(0);return a.setFullYear(t,r+1,0),a.setHours(0,0,0,0),a.getDate()}(s);return t.setMonth(r,Math.min(o,l)),t}function ud(n,i){D(2,arguments);var t=A(n),r=Y(i);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(r),t)}function pd(n){return D(1,arguments),A(n).getDate()}function md(n){return D(1,arguments),A(n).getFullYear()}function hd(){return je(je({},function ed(){return{addDays:Vt,addHours:Sl,addMinutes:El,addSeconds:Ml,differenceInDays:Al,differenceInMinutes:Ll,differenceInSeconds:Rl,endOfDay:Yl,endOfMonth:Nl,endOfWeek:Ul,getDay:zl,getMonth:Vl,isSameDay:Hn,isSameMonth:Bn,isSameSecond:ql,max:Jl,setHours:jl,setMinutes:$l,startOfDay:ze,startOfMinute:Ql,startOfMonth:Gl,startOfWeek:er,getHours:Kl,getMinutes:Xl}}()),{addWeeks:tr,addMonths:nr,subDays:td,subWeeks:nd,subMonths:rd,getISOWeek:sd,setDate:ld,setMonth:cd,setYear:ud,getDate:pd,getYear:md})}var gd=k(388);function rr(n){return new Tl.w(n,"./assets/i18n/",".json")}let vd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:"locale",useValue:qn}],imports:[f.ez,Dl,I.UX,Me.forRoot({provide:z,useFactory:hd}),gd.zk.forRoot(),I.u5,gt.ZQ,ht.T.forRoot(),j.aw.forRoot({defaultLanguage:"en",loader:{provide:j.Zw,useFactory:rr,deps:[Ie.eN]}})]}),n})()}}]);