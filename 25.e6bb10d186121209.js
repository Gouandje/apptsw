"use strict";(self.webpackChunktswgestion=self.webpackChunktswgestion||[]).push([[25],{2025:(tn,V,m)=>{m.r(V),m.d(V,{AccountingModule:()=>Ho,createTranslateLoader:()=>ie});var g=m(6895),c=m(3053),e=m(4650),u=m(1364);let ae=(()=>{class n{constructor(t){this.translateService=t,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-accounting"]],decls:118,vars:33,consts:[[1,"container-fluid"],[1,"d-sm-flex","align-items-center","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"row"],[1,"col-xl-3","col-md-3","mb-4"],[1,"card","border-left-primary","border-bottom-primary","shadow","h-100","py-2"],["routerLink","/accounting/weekendy",1,"btn"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"col-auto"],[1,"fas","fa-capsules","fa-2x","text-gray-300"],[1,"card","border-left-success","shadow","h-100","py-2"],["routerLink","/accounting/salaire-bureau",1,"btn"],[1,"text-xs","font-weight-bold","text-success","text-uppercase","mb-1"],[1,"fas","fa-money-check-alt","fa-2x","text-gray-300"],[1,"card","border-left-info","shadow","h-100","py-2"],["routerLink","/accounting/expend",1,"btn"],[1,"text-xs","font-weight-bold","text-info","text-uppercase","mb-1"],[1,"fas","fa-hand-holding-usd","fa-2x","text-gray-300"],[1,"card","border-left-warning","shadow","h-100","py-2"],["routerLink","/accounting/settings",1,"btn"],[1,"text-xs","font-weight-bold","text-warning","text-uppercase","mb-1"],[1,"fas","fa-percent","fa-2x","text-gray-300"],["routerLink","/accounting/paie-prime-sz",1,"btn"],[1,"fas","fa-money-check","fa-2x","text-gray-300"],[1,"card","border-left-warning","border-bottom-warning","shadow","h-100","py-2"],["routerLink","/accounting/paie-prime-sc",1,"btn"],[1,"fas","fa-file-invoice-dollar","fa-2x","text-gray-300"],[1,"card","border-left-danger","border-bottom-danger","shadow","h-100","py-2"],["routerLink","/accounting/garantie-manager",1,"btn"],[1,"text-xs","font-weight-bold","text-danger","text-uppercase","mb-1"],[1,"col-xl-4","col-md-3","mb-4"],["routerLink","/accounting/vente-docteur",1,"btn"],[1,"fas","fa-dollar-sign","fa-2x","text-gray-300"],["routerLink","/accounting/taux-zone",1,"btn"],["routerLink","/accounting/taux-section",1,"btn"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",11),e._UZ(16,"i",12),e.qZA()()()()()(),e.TgZ(17,"div",4)(18,"div",13)(19,"a",14)(20,"div",7)(21,"div",8)(22,"div",9)(23,"div",15),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",11),e._UZ(27,"i",16),e.qZA()()()()()(),e.TgZ(28,"div",4)(29,"div",17)(30,"a",18)(31,"div",7)(32,"div",8)(33,"div",9)(34,"div",19),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",11),e._UZ(38,"i",20),e.qZA()()()()()(),e.TgZ(39,"div",4)(40,"div",21)(41,"a",22)(42,"div",7)(43,"div",8)(44,"div",9)(45,"div",23),e._uU(46),e.ALo(47,"translate"),e.qZA()(),e.TgZ(48,"div",11),e._UZ(49,"i",24),e.qZA()()()()()()(),e.TgZ(50,"div",3)(51,"div",4)(52,"div",5)(53,"a",25)(54,"div",7)(55,"div",8)(56,"div",9)(57,"div",10),e._uU(58),e.ALo(59,"translate"),e.qZA()(),e.TgZ(60,"div",11),e._UZ(61,"i",26),e.qZA()()()()()(),e.TgZ(62,"div",4)(63,"div",27)(64,"a",28)(65,"div",7)(66,"div",8)(67,"div",9)(68,"div",23),e._uU(69),e.ALo(70,"translate"),e.qZA()(),e.TgZ(71,"div",11),e._UZ(72,"i",29),e.qZA()()()()()(),e.TgZ(73,"div",4)(74,"div",30)(75,"a",31)(76,"div",7)(77,"div",8)(78,"div",9)(79,"div",32),e._uU(80),e.ALo(81,"translate"),e.qZA()(),e.TgZ(82,"div",11),e._UZ(83,"i",29),e.qZA()()()()()()(),e.TgZ(84,"div",3)(85,"div",33)(86,"div",13)(87,"a",34)(88,"div",7)(89,"div",8)(90,"div",9)(91,"div",15),e._uU(92),e.ALo(93,"translate"),e.qZA()(),e.TgZ(94,"div",11),e._UZ(95,"i",35),e.qZA()()()()()(),e.TgZ(96,"div",4)(97,"div",30)(98,"a",36)(99,"div",7)(100,"div",8)(101,"div",9)(102,"div",32),e._uU(103),e.ALo(104,"translate"),e.qZA()(),e.TgZ(105,"div",11),e._UZ(106,"i",24),e.qZA()()()()()(),e.TgZ(107,"div",4)(108,"div",30)(109,"a",37)(110,"div",7)(111,"div",8)(112,"div",9)(113,"div",32),e._uU(114),e.ALo(115,"translate"),e.qZA()(),e.TgZ(116,"div",11),e._UZ(117,"i",24),e.qZA()()()()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,11,"AccountingManagement")),e.xp6(10),e.hij(" ",e.lcZ(14,13,"GestionWeekendy"),""),e.xp6(11),e.hij(" ",e.lcZ(25,15,"GestionDesSalaires"),""),e.xp6(11),e.hij("",e.lcZ(36,17,"GestionDesDepenses")," "),e.xp6(11),e.hij(" ",e.lcZ(47,19,"GestionDesTaux"),""),e.xp6(12),e.hij(" ",e.lcZ(59,21,"GestionPrime"),""),e.xp6(11),e.hij(" ",e.lcZ(70,23,"ChefsectionPrime"),""),e.xp6(11),e.hij(" ",e.lcZ(81,25,"GestionGarantie"),""),e.xp6(12),e.hij(" ",e.lcZ(93,27,"ListeVente"),""),e.xp6(11),e.hij(" ",e.lcZ(104,29,"gestionTauxZone"),""),e.xp6(11),e.hij(" ",e.lcZ(115,31,"gestionTauxSection"),""))},dependencies:[c.rH,u.X$]}),n})();var b=m(7579),D=m(6158),l=m(4006),J=m(9061),S=m(4508),L=m(3862),f=m(7185),v=m(5415);const re=function(n){return["/accounting/weekendys-list",n]},se=function(n){return["/accounting/list-salaire-du-bureau",n]};function le(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",7),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div",8)(5,"button",9),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"ul",10)(9,"li")(10,"a",11),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"li")(14,"a",11),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.bureau_name),e.xp6(4),e.hij(" ",e.lcZ(7,6,"choisaction")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(12,re,t._id)),e.xp6(1),e.Oqu(e.lcZ(12,8,"GestionWeekendy")),e.xp6(3),e.Q6J("routerLink",e.VKq(14,se,t._id)),e.xp6(1),e.Oqu(e.lcZ(16,10,"GestionDesSalaires"))}}let de=(()=>{class n{constructor(t,o,i,r,s,d){this.fb=t,this.agenceService=i,this.productService=r,this.toastrService=s,this.translateService=d,this.submitted=!1,this.myDate=Date.now(),this.dropdownSettings={},this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.listProducts=[],this.listBureau=[],this.loading=!0,this.liveDemoVisible=!1,this.subscribers=new Array,this.chiffreAf=0,this.hoveredDate=null,this.toDate=null,this.weekend=new D.O,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}},this.getAllBureau()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,console.log(this.listBureau),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(J.vL),e.Y36(S.q),e.Y36(L.M),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-weekendy"]],decls:17,vars:9,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"btn-group","dropend"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead")(9,"tr")(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Action"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,le,17,16,"tr",6),e.qZA()()()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,5,"GestionWeekendy")," "),e.xp6(5),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(12,7,"NomBureau")),e.xp6(5),e.Q6J("ngForOf",o.listBureau))},dependencies:[c.rH,g.sg,v.G,u.X$]}),n})();var U=m(6166),ue=m(2983),p=m.n(ue),_=m(2177),C=m(529);let F=(()=>{class n{constructor(t){this.http=t}registerTaux(t){return this.http.post(_.k.CREATE_TAUX,t)}updateTaux(t,o){return this.http.patch(_.k.UPDATE_TAUX+t,o)}getAllTaux(){return this.http.get(_.k.ALL_TAUX)}singleTaux(t){return this.http.get(_.k.GET_SINGLE_TAUX+t)}removeTaux(t){return this.http.delete(_.k.DELETED_TAUX+t)}registerTauxZone(t){return this.http.post(_.k.CREATE_TAUX_ZONE,t)}updateTauxZone(t,o){return this.http.patch(_.k.UPDATE_TAUX_ZONE+t,o)}getAllTauxZone(){return this.http.get(_.k.ALL_TAUX_ZONE)}singleTauxZone(t){return this.http.get(_.k.GET_SINGLE_TAUX_ZONE+t)}singleTauxBYZone(t){return this.http.get(_.k.GET_SINGLE_TAUX_BY_ZONE+t)}removeTauxZone(t){return this.http.delete(_.k.DELETED_TAUX_ZONE+t)}registerTauxSection(t){return this.http.post(_.k.CREATE_TAUX_SECTION,t)}updateTauxSection(t,o){return this.http.patch(_.k.UPDATE_TAUX_SECTION+t,o)}getAllTauxSection(){return this.http.get(_.k.ALL_TAUX_SECTION)}singleTauxSection(t){return this.http.get(_.k.GET_SINGLE_TAUX_SECTION+t)}singleTauxBYSection(t){return this.http.get(_.k.GET_SINGLE_TAUX_BY_SECTION+t)}removeTauxSection(t){return this.http.delete(_.k.DELETED_TAUX_SECTION+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(C.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var y=m(8067);function ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"input",23),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.dette_manager=i)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.dette_manager)}}function ge(n,a){if(1&n&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.dette_manager," FCFA ")}}function pe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"i",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onEditdette(i))}),e.qZA()()}}function he(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"i",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onSavedette(i))}),e.qZA(),e.TgZ(2,"i",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onClosedette(i))}),e.qZA()()}}function me(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",5),e.YNc(9,ce,2,1,"div",20),e.YNc(10,ge,2,1,"div",20),e.qZA()(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.YNc(14,pe,2,0,"div",21),e.YNc(15,he,3,0,"div",21),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.managerId.nom),e.xp6(2),e.Oqu(t.salaire_manager),e.xp6(2),e.Oqu(t.garantie_manager),e.xp6(3),e.Q6J("ngIf",t.isEdit),e.xp6(1),e.Q6J("ngIf",!t.isEdit),e.xp6(2),e.hij(" ",t.salaire_net_manager," FCFA "),e.xp6(2),e.Q6J("ngIf",!t.isEdit),e.xp6(1),e.Q6J("ngIf",t.isEdit)}}function _e(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e._UZ(3,"td")(4,"td")(5,"td"),e.TgZ(6,"td"),e._uU(7),e.qZA(),e._UZ(8,"td")(9,"td")(10,"td"),e.qZA()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.motifajout),e.xp6(5),e.Oqu(t.montantajout)}}function Ze(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Dette Retranch\xe9e"),e.qZA(),e._UZ(3,"td")(4,"td"),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&n){const t=a.$implicit;e.xp6(6),e.Oqu(t.motifdette),e.xp6(2),e.hij("",t.montantdette," FCFA")}}let fe=(()=>{class n{constructor(t,o,i,r,s){this.tauxService=t,this.route=o,this.salaireService=i,this.toastrService=r,this.translateService=s,this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.mois[this.now.getMonth()],this.year=this.now.getFullYear(),this.loading=!0,this.buttonloading=!1,this.listManager=[],this.dettetotale=0,this.listDette=[],this.listDetteBureau=[],this.listRemboursement=[],this.salaireData=[],this.salairenetManager=0,this.cumulManager=0,this.garantietotale=0,this.totalemanager=0,this.remboursetotale=0,this.cumul1=0,this.cumul2=0,this.netapayer=0,this.managerId="",this.detteManager=0,this.monthof=(new Date).getMonth(),this.yearof=(new Date).getFullYear(),this.datedebut="",this.datefin="",this.columns=["NOM DU MANAGER","SALAIRE","GARANTIE","DETTE DU MANAGER","SALAIRE NET"],this.rows=[],this.rowsgarantie=[],this.detterows=[],this.remboursementrows=[],this.dataBulletin=[],this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getSingleSalaire(),this.getsalairemanager(),this.getAlldette(),this.getAllremboursement()}getSingleSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getSingleSalaireBureau(this.id).subscribe({next:t=>{this.chiffreAffaire=t.chiffreDaf,this.moisde=t.mois.valueMois,this.annee=t.annee.annee,this.moisid=t.annee._id,this.anneeid=t.annee._id,this.bureau=t.bureauId.bureau_name,this.salaireFormateur=t.salaire_formateur,this.salaireAgent=t.salaire_agent,this.cumul1=t.salaire_agent+t.salaire_formateur,this.salaireManager=t.salaire_total_manager},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}onEditdette(t){this.salaireData.forEach(o=>{o.isEdit=!1}),t.isEdit=!0}onClosedette(t){t.isEdit=!1}onSavedette(t){t.salaire_net_manager=t.salaire_net_manager-t.dette_manager,this.cumulManager=this.cumulManager-t.dette_manager;const o={salaire_net_manager:t.salaire_net_manager,dette_manager:t.dette_manager,managerId:t.managerId._id,mois:this.moisid,annee:this.anneeid};this.salaireService.updatesalaireManager(o,t.salaireId._id).subscribe({next:i=>{console.log(i),this.toastrService.success("La dette a \xe9t\xe9 enregistr\xe9e avec succ\xe8s!")},error:i=>{console.log("erreur",i),this.toastrService.error(i.error.message),this.loading=!1}}),console.log("formDataupdate",o)}getAlldette(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getDette(this.id).subscribe({next:t=>{this.listDetteBureau=t;for(let o=0;o<this.listDetteBureau.length;o++)this.detterows.push([this.listDetteBureau[o].motifdette,"","","",this.listDetteBureau[o].montantdette.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")]);console.log("detet row",this.detterows),this.dettetotale=this.listDetteBureau.reduce((o,i)=>o+i.montantdette,0),console.log("dette totale",this.dettetotale)}})}getAllremboursement(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getRemboursement(this.id).subscribe({next:t=>{this.listRemboursement=t,console.log("listRemboursement",this.listRemboursement),this.remboursetotale=this.listRemboursement.reduce((o,i)=>o+i.montantajout,0);for(let o=0;o<this.listRemboursement.length;o++)this.remboursementrows.push([this.listRemboursement[o].motifajout,"","","",this.listRemboursement[o].montantajout.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")]),console.log("montant",this.listRemboursement[o].montantajout)}})}apply(){this.id=this.route.snapshot.paramMap.get("id");const t={salaireId:this.id,motifdette:this.motifdette,montantdette:this.montantdette};this.salaireService.createDette(t).subscribe({next:o=>{200==o.status&&(this.toastrService.success(o.message),window.location.reload())},error:o=>{this.toastrService.error(o.statusText)}}),console.log(t)}ajout(){this.id=this.route.snapshot.paramMap.get("id");const t={salaireId:this.id,motifajout:this.motifajout,montantajout:this.montantajout};this.salaireService.createRemboursement(t).subscribe({next:o=>{200==o.status&&(this.toastrService.success(o.message),window.location.reload())},error:o=>{this.toastrService.error(o.statusText)}}),console.log(t)}getsalairemanager(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllSalaireSalaireId(this.id).subscribe({next:t=>{this.salaireData=t,this.pourcentage=5*t.length,this.garantietotale=this.salaireData.reduce((o,i)=>o+i.garantie_manager,0),this.cumulManager=this.salaireData.reduce((o,i)=>o+i.salaire_net_manager,0),this.salairenetManager=this.remboursetotale+this.cumulManager+this.cumul1,console.log("cumul salaire managers",this.cumulManager),console.log("garantie totale",this.garantietotale),console.log("dette de manager ==>",t[0].dette_manager),this.detteManager=t.reduce((o,i)=>o+i.dette_manager,0),console.log("dette total des manager ==>",this.detteManager);for(let o=0;o<t.length;o++)this.rowsgarantie.push([t[o].managerId.fullnamemanager,"","","",t[o].garantie_manager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")]),this.rows.push([t[o].managerId.fullnamemanager,t[o].salaire_manager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t[o].dette_manager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t[o].garantie_manager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),(t[o].salaire_manager-t[o].garantie_manager).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")]);console.log("rows  ==>",this.rows)}})}downloadpayroll(){const t=new U.default;var o=new Image;return o.src="assets/logotsw.png",t.addImage(o.src,30,20,10,10),p()(t,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),p()(t,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Bureau:${this.bureau}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),p()(t,{body:[[{content:`Bulletin de paie du mois de ${this.month} ${this.year}`,styles:{halign:"center",fontSize:13,fillColor:"#334CFF"}}]],theme:"plain"}),p()(t,{body:[[{content:`Chiffre d'affaire: \n${this.chiffreAffaire}`,styles:{halign:"right",fontSize:14,textColor:"#334CFF"}}]],theme:"plain"}),p()(t,{head:[["LIBELLE","MONTANT"]],body:[["PRIME DE FORMATEUR 2% CA",`${this.salaireFormateur}`],["NUMERAIRE DES AGENTS 23% CA",`${this.salaireAgent}`],["CUMUL",`${this.cumul1}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),p()(t,{head:[this.columns],body:this.rows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),p()(t,{head:[["MOTIF DE REMBOURSEMENT","MONTANT"]],body:this.remboursementrows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),p()(t,{head:[["MOTIF DE LA DETTE DU BUREAU","MONTANT"]],body:this.detterows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),p()(t,{body:[["CUMUL MANAGERS","","","",`${this.cumulManager}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),p()(t,{body:[["Net \xe0 Payer","","","",`${this.salairenetManager}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),p()(t,{body:[[{content:`Signature du comptable\n\n\n\n\n\nfait le: ${this.date}`,styles:{halign:"left"}},{content:"Signature des managers\n\n\n\n\n",styles:{halign:"right"}}]],theme:"plain"}),t.save("bulletin_paie.pdf")}getDatabulletin(){this.dataBulletin.push(["CHIFFRE D'AFFAIRE"," "," "," ",this.chiffreAffaire.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")],["SALAIRE + 2%"," "," "," ",this.cumul1.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")],["MANAGERS "+this.pourcentage+"%","",""," ",this.salaireManager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")],["TOTAL SALAIRE","",""," ",(this.salaireManager+this.cumul1).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")],["GARANTIE TOTALE","",""," ",this.garantietotale.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")],[],["DETTE","","",""," "],...this.detterows,["REMBOURSEMENTS"," "," "," "," "],...this.remboursementrows,this.garantietotale,["SALAIRE DETAILLE DES MANAGERS"],["","Brut","dette","garantie","reste"],...this.rows),console.log("dataBulletin",this.dataBulletin);const t=new U.default;t.addImage("assets/logotsw.png","PNG",10,10,30,30);const s=t.internal.pageSize.width/2;t.setFont("Arial","bold"),t.setFontSize(72),t.setTextColor("#161E94"),t.text("TSW-CI",40,30),t.setFont("Arial","bold"),t.setFontSize(12),t.text("SARL",s+18,35),t.setFont("Arial","bold"),t.setFontSize(12),t.text("Abidjan Marcory cit\xe9 Hibiscus",s+35,22),t.text("Villa 189, 10 BP 3450 Abidjan 10",s+35,28),t.text("27 21 26 14 11/ 05 54 54 30 98",s+35,34),t.setFont("Arial","bold"),t.setFontSize(14),t.text("Total Success World",50,40),t.setFont("Arial","normal"),t.setFontSize(12),t.text("Distribution et vente d'alicaments",55,45),t.text("Prestation de services param\xe9dicaux",55,50),t.setFillColor("#0E19DE"),t.text("BULLETIN DE PAIE: ",s+30,60),t.text(this.moisde+" "+this.annee,s+30,65),t.setTextColor("#030638"),t.setFont("Arial","bold"),t.setFontSize(14),t.text("BUREAU DE: "+this.bureau,30,80),p()(t,{startY:82,body:this.dataBulletin,theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),p()(t,{body:[["TOTAL DETTE",`${(this.dettetotale+this.detteManager).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")} FCFA`]],theme:"plain",styles:{halign:"left",textColor:"#FFFFFF",fontStyle:"bold"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:"#334CFF"},1:{fillColor:"#121212"}}}),p()(t,{body:[["MODE DE PAIEMENT","ESPECE/CHEQUE",`Net \xe0 payer: ${(this.remboursetotale+this.cumulManager+this.cumul1).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")} FCFA`]],theme:"plain",styles:{halign:"left",textColor:"#FFFFFF",fontStyle:"bold"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:"#334CFF"},1:{fillColor:"#121212"},2:{fillColor:"#0F6507"}}}),p()(t,{body:[[{content:`Signature du comptable\n\n\n\nfait le: ${this.date}`,styles:{halign:"left"}},{content:"Signature des managers\n",styles:{halign:"right"}}]],theme:"plain"}),t.save("bulletin_paie2.pdf")}genererBulletin(){if(!this.salaireData)return void console.log("Les informations de l'employ\xe9 ne sont pas disponibles.");const t=new U.default;t.addImage("assets/logotsw.png","PNG",10,10,30,30);const s=t.internal.pageSize.width/2;t.setFont("Arial","bold"),t.setFontSize(72),t.setTextColor("#161E94"),t.text("TSW-CI",40,30),t.setFont("Arial","bold"),t.setFontSize(12),t.text("SARL",s+18,35),t.setFont("Arial","bold"),t.setFontSize(12),t.text("Abidjan Marcory cit\xe9 Hibiscus",s+35,22),t.text("Villa 189, 10 BP 3450 Abidjan 10",s+35,28),t.text("27 21 26 14 11/ 05 54 54 30 98",s+35,34),t.setFont("Arial","bold"),t.setFontSize(14),t.text("Total Success World",50,40),t.setFont("Arial","normal"),t.setFontSize(12),t.text("Distribution et vente d'alicaments",55,45),t.text("Prestation de services param\xe9dicaux",55,50),t.setFillColor("#0E19DE"),t.text("BULLETIN DE PAIE: ",s+30,60),t.text(this.moisde+" "+this.annee,s+30,65),t.setTextColor("#030638"),t.setFont("Arial","bold"),t.setFontSize(14),t.text("BUREAU DE: "+this.bureau,30,80),p()(t,{startY:85,body:[["CHIFFRE D'AFFAIRE",`${this.chiffreAffaire}`],["SALAIRE + 2%",`${this.cumul1}`],["MANAGERS "+this.pourcentage+"%",`${this.salaireManager}`],["TOTAL SALAIRE",`${this.salaireManager+this.cumul1}`]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#FFFFFF",tableLineWidth:.1}),p()(t,{startY:130,head:[["MANAGER","GARANTIE 10% PAR MANAGER"]],body:this.rowsgarantie,theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:0}),p()(t,{body:[["GARANTIE TOTALE","","",`${this.garantietotale}`]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),p()(t,{head:[["DETTES"]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"}}),p()(t,{body:this.detterows,theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),p()(t,{head:[["REMBOURSEMENTS"]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"}}),p()(t,{body:this.remboursementrows,theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:[173,216,230]}}}),p()(t,{head:[["SALAIRE DETAILLE DES MANAGERS"]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"}}),p()(t,{head:[["","Brut","dette","reste"]],body:this.rows,theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#FFFFFF",tableLineWidth:.1}),p()(t,{body:[["TOTAL DETTE",`${this.dettetotale+this.detteManager}`]],theme:"plain",styles:{halign:"left",textColor:"#FFFFFF",fontStyle:"bold"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:"#334CFF"},1:{fillColor:"#121212"}}}),p()(t,{body:[["MODE DE PAIEMENT","ESPECE/CHEQUE",`Net \xe0 payer: ${this.remboursetotale+this.cumulManager+this.cumul1}`]],theme:"plain",styles:{halign:"left",textColor:"#FFFFFF",fontStyle:"bold"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:"#334CFF"},1:{fillColor:"#121212"},2:{fillColor:"#0F6507"}}}),p()(t,{body:[[{content:`Signature du comptable\n\n\n\nfait le: ${this.date}`,styles:{halign:"left"}},{content:"Signature des managers\n",styles:{halign:"right"}}]],theme:"plain"}),t.save("bulletin_paie.pdf")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F),e.Y36(c.gz),e.Y36(y.o),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-payroll"]],decls:145,vars:61,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-download","text-light"],[1,"container-fluid","pt-2","mb-5"],[1,"row"],[1,"col-md-12"],[1,"card","border-secondary"],[1,"card-header"],[1,"card-body"],[1,"table"],["scope","col"],["scope","row"],[2,"background-color","rgb(90, 95, 95)","color","white"],[4,"ngFor","ngForOf"],["type","text","placeholder","motif",1,"form-control",3,"ngModel","ngModelChange"],["min","0","type","number","placeholder","montant \xe0 ajouter",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["min","0","type","number","placeholder","montant",1,"form-control",3,"ngModel","ngModelChange"],[2,"text-transform","uppercase"],["class","col-md-5",4,"ngIf"],[4,"ngIf"],[1,"col-md-5"],["min","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["aria-hidden","true",1,"fa","fa-pencil-square-o","px-2",3,"click"],["aria-hidden","true",1,"fa","fa-check-square-o","px-2","text-success",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle","px-2","text-danger",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return o.getDatabulletin()}),e.TgZ(5,"i",3),e._uU(6,"\xa0bulletin de paie"),e.qZA()(),e._uU(7,"\xa0 "),e._uU(8," \xa0 "),e.TgZ(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",7),e._UZ(13,"div",8),e.TgZ(14,"div",9)(15,"table",10)(16,"thead")(17,"tr")(18,"th",11),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"td",12),e._uU(22),e.qZA()()(),e.TgZ(23,"tbody"),e._UZ(24,"tr"),e.TgZ(25,"tr")(26,"th",12),e._uU(27,"MOIS DE"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA()(),e.TgZ(30,"tr",13)(31,"th",12),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.qZA()()()()()()()(),e.TgZ(36,"div",5)(37,"div",6)(38,"div",7),e._UZ(39,"div",8),e.TgZ(40,"div",9)(41,"table",10)(42,"thead")(43,"tr")(44,"th",11),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"th",11),e._uU(48),e.ALo(49,"translate"),e.qZA()()(),e.TgZ(50,"tbody")(51,"tr")(52,"th",12),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"td"),e._uU(56),e.qZA()(),e.TgZ(57,"tr")(58,"th",12),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"td"),e._uU(62),e.qZA()(),e.TgZ(63,"tr",13)(64,"th",12),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"td"),e._uU(68),e.qZA()()()()()()()(),e.TgZ(69,"div",5)(70,"div",6)(71,"div",7),e._UZ(72,"div",8),e.TgZ(73,"div",9)(74,"table",10)(75,"thead")(76,"tr")(77,"th",11),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.TgZ(80,"th",11),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.TgZ(83,"th",11),e._uU(84),e.ALo(85,"translate"),e.qZA(),e.TgZ(86,"th",11),e._uU(87),e.ALo(88,"translate"),e.qZA(),e.TgZ(89,"th",11),e._uU(90),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"th",11),e._uU(93),e.ALo(94,"translate"),e.qZA()()(),e.TgZ(95,"tbody"),e.YNc(96,me,16,8,"tr",14),e.TgZ(97,"h6"),e._uU(98,"Ajouter suppl\xe9mentaire"),e.qZA(),e.YNc(99,_e,11,2,"tr",14),e.TgZ(100,"tr"),e._UZ(101,"td"),e.TgZ(102,"td")(103,"input",15),e.NdJ("ngModelChange",function(r){return o.motifajout=r}),e.qZA()(),e.TgZ(104,"td")(105,"input",16),e.NdJ("ngModelChange",function(r){return o.montantajout=r}),e.qZA()(),e._UZ(106,"td")(107,"td"),e.TgZ(108,"td")(109,"a",17),e.NdJ("click",function(){return o.ajout()}),e._uU(110,"Appliquer"),e.qZA()()(),e.TgZ(111,"h6"),e._uU(112,"Autre dette"),e.qZA(),e.TgZ(113,"tr")(114,"th"),e._uU(115,"Aujouter dette"),e.qZA(),e._UZ(116,"td")(117,"td"),e.TgZ(118,"td")(119,"input",15),e.NdJ("ngModelChange",function(r){return o.motifdette=r}),e.qZA()(),e.TgZ(120,"td")(121,"input",18),e.NdJ("ngModelChange",function(r){return o.montantdette=r}),e.qZA()(),e._UZ(122,"td"),e.TgZ(123,"td")(124,"a",17),e.NdJ("click",function(){return o.apply()}),e._uU(125,"Appliquer"),e.qZA()()(),e.YNc(126,Ze,9,2,"tr",14),e.TgZ(127,"tr")(128,"th"),e._uU(129,"CUMMUL DES MANAGERS"),e.qZA(),e._UZ(130,"td")(131,"td")(132,"td"),e.TgZ(133,"td"),e._uU(134),e.qZA()()(),e.TgZ(135,"tfoot")(136,"tr",13)(137,"th",19),e._uU(138),e.ALo(139,"translate"),e.qZA(),e._UZ(140,"td")(141,"td")(142,"td"),e.TgZ(143,"td"),e._uU(144),e.qZA()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,31,"FormPayroll")),e.xp6(17),e.Oqu(e.lcZ(20,33,"Bureau")),e.xp6(3),e.Oqu(o.bureau),e.xp6(7),e.AsE(" ",o.moisde," ",o.annee," "),e.xp6(3),e.Oqu(e.lcZ(33,35,"CHIFFREDAFFAIRE")),e.xp6(3),e.hij("",o.chiffreAffaire," FCFA"),e.xp6(10),e.Oqu(e.lcZ(46,37,"Libelle")),e.xp6(3),e.Oqu(e.lcZ(49,39,"Montant")),e.xp6(5),e.hij("",e.lcZ(54,41,"PrimeFormateur")," "),e.xp6(3),e.hij("",o.salaireFormateur," FCFA"),e.xp6(3),e.hij("",e.lcZ(60,43,"SalaireAgents")," "),e.xp6(3),e.hij("",o.salaireAgent," FCFA"),e.xp6(3),e.Oqu(e.lcZ(66,45,"CUMULATIVE")),e.xp6(3),e.hij("",o.cumul1," FCFA"),e.xp6(10),e.Oqu(e.lcZ(79,47,"NomPrenoms")),e.xp6(3),e.Oqu(e.lcZ(82,49,"SalaireBrutManager")),e.xp6(3),e.Oqu(e.lcZ(85,51,"GarantieManager")),e.xp6(3),e.Oqu(e.lcZ(88,53,"DetteManager")),e.xp6(3),e.Oqu(e.lcZ(91,55,"SalaireNetManager")),e.xp6(3),e.Oqu(e.lcZ(94,57,"Action")),e.xp6(3),e.Q6J("ngForOf",o.salaireData),e.xp6(3),e.Q6J("ngForOf",o.listRemboursement),e.xp6(4),e.Q6J("ngModel",o.motifajout),e.xp6(2),e.Q6J("ngModel",o.montantajout),e.xp6(14),e.Q6J("ngModel",o.motifdette),e.xp6(2),e.Q6J("ngModel",o.montantdette),e.xp6(5),e.Q6J("ngForOf",o.listDetteBureau),e.xp6(8),e.hij(" ",o.cumulManager," FCFA "),e.xp6(4),e.Oqu(e.lcZ(139,59,"NetPayer")),e.xp6(6),e.hij(" ",o.salairenetManager," FCFA "))},dependencies:[g.sg,g.O5,l.Fj,l.wV,l.JJ,l.qQ,l.On,u.X$],styles:["i[_ngcontent-%COMP%]{color:#2b82e6;font-size:20px}"]}),n})(),$=(()=>{class n{constructor(t){this.http=t}registerCaisse(t){return this.http.post(_.k.CREATE_CAISSE,t)}registerCategorie(t){return this.http.post(_.k.CREATE_CATEGORY,t)}getReportData(t){return this.http.post(_.k.ALL_REPORT_DATA,t)}updateCaisse(t,o){return this.http.patch(_.k.UPDATE_CAISSE+t,o)}getAllCaisse(t){return this.http.get(_.k.ALL_CAISSE+t)}getAllCaisseByTypeOperation(t,o){return this.http.get(_.k.ALL_CAISSE_BY_TYPE+t)}getSolde(){return this.http.get(_.k.SOLDE)}singleCaisse(t){return this.http.get(_.k.GET_SINGLE_CAISSE+t)}removeCaisse(t){return this.http.delete(_.k.DELETED_CAISSE+t)}getAllCategorie(){return this.http.get(_.k.ALL_CATEGORY)}singleCategorie(t){return this.http.get(_.k.GET_SINGLE_CATEGORY+t)}removeCategorie(t){return this.http.delete(_.k.DELETED_CATEGORY+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(C.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=m(3056);function be(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",66),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div")(13,"a",67),e._UZ(14,"i",68),e.qZA(),e.TgZ(15,"a",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeleteExpense(r._id))}),e._UZ(16,"i",70),e.qZA()(),e._UZ(17,"div"),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.date," "),e.xp6(2),e.hij(" ",t.motif," FCFA "),e.xp6(2),e.hij(" ",t.montant," "),e.xp6(2),e.hij(" ",t.typetransaction," "),e.xp6(2),e.hij(" ",t.auteur," ")}}function Ae(n,a){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function ve(n,a){1&n&&e._UZ(0,"span",71)}function Te(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DateSortieObligatoire")))}function xe(n,a){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,Te,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date.errors.required)}}function Ce(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TypetransactionObligatoire")))}function Se(n,a){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,Ce,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.typetransaction.errors.required)}}function ye(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"MotifSortieObligatoire")))}function qe(n,a){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,ye,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.motif.errors.required)}}function we(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"MontantSortieObligatoire")))}function Le(n,a){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,we,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.montant.errors.required)}}function Ue(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"AuteurSortieArgent")))}function Fe(n,a){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,Ue,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.auteur.errors.required)}}function Me(n,a){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Print")))}function Ie(n,a){1&n&&e._UZ(0,"span",71)}const B=function(n){return{"is-invalid":n}};let Oe=(()=>{class n{constructor(t,o,i,r,s,d,h){this.fb=t,this.router=o,this.http=i,this.toastrService=r,this.translateService=s,this.caisseservice=d,this.salaireService=h,this.listExpense=[],this.listCategories=[],this.anneeList=[],this.pageNumber=1,this.nom="",this.selectedvalue="",this.loading=!0,this.buttonloading=!1,this.Listyears=[],this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.submitted=!1,this.dropdownSettings={},this.Settings={},this.selectedItem=[],this.now=new Date,this.year=this.now.getFullYear(),this.columns=["DATE","MONTANT","TYPE DE TRANSACTION","AUTEUR","CATEGORIE","MOTIF"],this.rows=[],this.percentDone=0,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.expenseForm=new l.cw({categoryId:new l.NI(""),date:new l.NI(""),typetransaction:new l.NI(""),motif:new l.NI(""),auteur:new l.NI(""),montant:new l.NI("")}),this.reportForm=new l.cw({dateStart:new l.NI(""),dateEnd:new l.NI("")}),this.translateService.use(localStorage.getItem(this.keyLanguage)),this.expenseForm=this.fb.group({categoryId:["",l.kI.required],date:["",l.kI.required],typetransaction:["",l.kI.required],motif:["",l.kI.required],auteur:["",l.kI.required],montant:["",l.kI.required]}),this.reportForm=this.fb.group({dateStart:["",l.kI.required],dateEnd:["",l.kI.required]})}ngOnInit(){this.onChange(this.selectedvalue),this.getAllCategorie(),this.getSolde(),this.getALLannee(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"fait une recherche"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"category_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.expenseForm.controls}onSubmit(){if(this.submitted=!0,this.expenseForm?.invalid)return;this.buttonloading=!0;const t={categoryId:this.expenseForm.value.categoryId[0]._id,date:this.expenseForm.value.date,annee:Number(this.expenseForm.value.date.split("-")[0]),typetransaction:this.expenseForm.value.typetransaction,motif:this.expenseForm.value.motif,auteur:this.expenseForm.value.auteur,montant:this.expenseForm.value.montant};this.caisseservice.registerCaisse(t).subscribe({next:o=>{console.log(o),this.toastrService.success("Le information a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,window.location.reload())},error:o=>{this.toastrService.error(o.error),this.buttonloading=!1}})}getAllExpense(){var t=(new Date).getFullYear();this.caisseservice.getAllCaisse(t).subscribe({next:o=>{this.listExpense=o,this.dtTrigger.next(null)},error:o=>{console.log(o)}})}getSolde(){this.caisseservice.getSolde().subscribe(t=>{this.Solde=t[0].solde,this.color=this.Solde>2e5?"background-color:green; font-style: bold;color:white":"background-color:red; font-style: bold;color:white",console.log("sole",this.Solde)})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}onDeleteExpense(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet \xe9l\xe9ment ?")&&(this.caisseservice.removeCaisse(t).subscribe({next:o=>{this.toastrService.success(o),this.getAllExpense()},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}getAllCategorie(){this.caisseservice.getAllCategorie().subscribe({next:t=>{this.listCategories=t,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onChange(t){console.log("Event",this.selectedvalue);var o=(new Date).getFullYear();this.caisseservice.getAllCaisse(o).subscribe({next:i=>{""==this.selectedvalue?this.listExpense=i:this.caisseservice.getAllCaisseByTypeOperation(this.selectedvalue,o).subscribe({next:r=>{this.listExpense=r,console.log("this.listExpense",this.listExpense)}}),console.log("listCategories",this.listExpense)},error:i=>{console.log(i)}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.expenseForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.expenseForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}downloadPdf(){const t={dateEnd:this.reportForm.value.dateEnd,dateStart:this.reportForm.value.dateStart};console.log("formData",t),this.caisseservice.getReportData(t).subscribe({next:o=>{for(let s=0;s<o.length;s++)this.rows.push([o[s].date,o[s].montant,o[s].typetransaction,o[s].auteur,o[s].categoryId.category_name,o[s].motif]);console.log("data report>>>",o);const i=new U.default;var r=new Image;return r.src="assets/logotsw.png",i.addImage(r.src,30,20,10,10),p()(i,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),p()(i,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}}]],theme:"plain"}),p()(i,{body:[[{content:`Rapport de la caisse du  ${this.reportForm.value.dateStart} au ${this.reportForm.value.dateEnd}`,styles:{halign:"center",fontSize:13,fillColor:"#334CFF"}}]],theme:"plain"}),p()(i,{head:[this.columns],body:this.rows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),i.save("rapport-de-caisse.pdf")}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(c.F0),e.Y36(C.eN),e.Y36(f._W),e.Y36(u.sK),e.Y36($),e.Y36(y.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-caisse"]],decls:212,vars:98,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addExpenseModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],["routerLink","/accounting/category",1,"btn","btn-primary"],["data-bs-toggle","modal","data-bs-target","#printreportModal",1,"btn","btn-primary"],[1,"fa","fa-print"],[1,"card-body"],[1,"container"],[1,"row"],[1,"col-md-4","col-lg-4","col-xl-4"],["for","filter",1,"col-md-3","control-label",2,"font-style","bold"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["value","entr\xe9e"],["value","sortie"],["for","filter",1,"col-md-4","control-label",2,"font-style","bold"],[1,"col-md-5"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addExpenseModal","tabindex","-1","aria-labelledby","addExpenseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addExpenseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"col-md-3"],[1,"form-group"],[1,"mb-3"],["for","paysId"],[2,"color","red"],["formControlName","categoryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","md-3","xl-3"],["for","date"],["type","datetime-local","formControlName","date",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","typetransaction"],["formControlName","typetransaction","id","typetransaction",1,"form-control"],[1,"col-lg-6","md-6","xl-6"],["for","motif"],["formControlName","motif",1,"form-control",3,"ngClass"],["for","montant"],["type","number","formControlName","montant",1,"form-control",3,"ngClass"],["for","montantsorti"],["type","text","formControlName","auteur",1,"form-control",3,"ngClass"],["id","printreportModal","tabindex","-1","aria-labelledby","printreportModalLabel","aria-hidden","true",1,"modal","fade"],["id","printreportModalLabel",1,"modal-title"],[1,"col-lg-2","md-2","xl-2"],["type","datetime-local","formControlName","dateStart",1,"form-control"],["type","datetime-local","formControlName","dateEnd",1,"form-control"],[1,"col-lg-1","col-md-1","col-xl-1"],["type","submit",1,"btn","btn-primary"],[1,"center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"h6",6)(10,"button",7),e._UZ(11,"i",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"a",9),e._UZ(16,"i",8),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._uU(19,"\xa0 "),e.TgZ(20,"a",10),e._UZ(21,"i",11),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"div",12)(25,"div",13)(26,"div",14)(27,"div",15)(28,"div",14)(29,"label",16),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",17)(33,"select",18),e.NdJ("ngModelChange",function(r){return o.selectedvalue=r})("change",function(r){return o.onChange(r.target)}),e.TgZ(34,"option",19),e._uU(35,"----select----"),e.qZA(),e.TgZ(36,"option",20),e._uU(37,"Entr\xe9e en caisse"),e.qZA(),e.TgZ(38,"option",21),e._uU(39,"Sortie de caisse"),e.qZA()()()()(),e.TgZ(40,"div",15)(41,"div",14)(42,"label",22),e._uU(43,"Solde:"),e.qZA(),e.TgZ(44,"div",23),e._uU(45),e.qZA()()()()(),e.TgZ(46,"div",24)(47,"table",25)(48,"thead")(49,"tr")(50,"th"),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"th"),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"th"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"th"),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"th"),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"th"),e._uU(66),e.ALo(67,"translate"),e.qZA()()(),e.TgZ(68,"tbody"),e.YNc(69,be,18,5,"tr",26),e.qZA()()()()()(),e.TgZ(70,"div",27)(71,"div",28)(72,"div",29)(73,"div",30)(74,"h3",31),e._uU(75),e.ALo(76,"translate"),e.qZA(),e._UZ(77,"button",32),e.qZA(),e.TgZ(78,"div",33)(79,"div",14)(80,"div",34)(81,"form",35),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(82,"button",36),e.YNc(83,Ae,3,3,"ng-container",37),e.YNc(84,ve,1,0,"span",38),e.qZA(),e._uU(85," \xa0 "),e.TgZ(86,"button",39),e._uU(87),e.ALo(88,"translate"),e.qZA(),e._UZ(89,"br"),e.TgZ(90,"div",13)(91,"div",14),e._UZ(92,"br")(93,"br"),e.TgZ(94,"div",40)(95,"div",41)(96,"div",42)(97,"div",34)(98,"label",43),e._uU(99),e.ALo(100,"translate"),e.TgZ(101,"span",44),e._uU(102,"*"),e.qZA()()(),e.TgZ(103,"div",34)(104,"ng-multiselect-dropdown",45),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(r){return o.onItemSelect(r)})("onDeSelect",function(r){return o.onItemDeSelect(r)}),e.qZA()()()()(),e.TgZ(105,"div",46)(106,"div",41)(107,"div",42)(108,"div",17)(109,"label",47),e._uU(110),e.ALo(111,"translate"),e.TgZ(112,"span",44),e._uU(113,"*"),e.qZA()()(),e.TgZ(114,"div",34),e._UZ(115,"input",48),e.YNc(116,xe,2,1,"div",49),e.qZA()()()(),e.TgZ(117,"div",46)(118,"div",41)(119,"div",42)(120,"div",17)(121,"label",50),e._uU(122),e.ALo(123,"translate"),e.TgZ(124,"span",44),e._uU(125,"*"),e.qZA()()(),e.TgZ(126,"div",34)(127,"select",51)(128,"option",20),e._uU(129,"Entr\xe9e en caisse"),e.qZA(),e.TgZ(130,"option",21),e._uU(131,"sortie de caisse"),e.qZA()(),e.YNc(132,Se,2,1,"div",49),e.qZA()()()(),e.TgZ(133,"div",52)(134,"div",41)(135,"div",42)(136,"div",17)(137,"label",53),e._uU(138),e.ALo(139,"translate"),e.TgZ(140,"span",44),e._uU(141,"*"),e.qZA()()(),e.TgZ(142,"div",34),e._UZ(143,"textarea",54),e.YNc(144,qe,2,1,"div",49),e.qZA()()()(),e.TgZ(145,"div",52)(146,"div",41)(147,"div",42)(148,"div",17)(149,"label",55),e._uU(150),e.ALo(151,"translate"),e.TgZ(152,"span",44),e._uU(153,"*"),e.qZA()()(),e.TgZ(154,"div",34),e._UZ(155,"input",56),e.YNc(156,Le,2,1,"div",49),e.qZA()()()(),e.TgZ(157,"div",52)(158,"div",41)(159,"div",42)(160,"div",17)(161,"label",57),e._uU(162),e.ALo(163,"translate"),e.TgZ(164,"span",44),e._uU(165,"*"),e.qZA()()(),e.TgZ(166,"div",34),e._UZ(167,"input",58),e.YNc(168,Fe,2,1,"div",49),e.qZA()()()()()()()()()()()()(),e.TgZ(169,"div",59)(170,"div",28)(171,"div",29)(172,"div",30)(173,"h3",60),e._uU(174),e.ALo(175,"translate"),e.qZA(),e._UZ(176,"button",32),e.qZA(),e.TgZ(177,"div",33)(178,"div",14)(179,"div",34)(180,"form",35),e.NdJ("ngSubmit",function(){return o.downloadPdf()}),e._UZ(181,"br"),e.TgZ(182,"div",13)(183,"div",14),e._UZ(184,"br")(185,"br"),e.TgZ(186,"div",61)(187,"div",41)(188,"div",42)(189,"div",17)(190,"label",47),e._uU(191,"Du"),e.qZA()(),e.TgZ(192,"div",34),e._UZ(193,"input",62),e.qZA()()()(),e.TgZ(194,"div",61)(195,"div",41)(196,"div",42)(197,"div",17)(198,"label",47),e._uU(199,"Au"),e.qZA()(),e.TgZ(200,"div",34),e._UZ(201,"input",63),e.qZA()()()(),e.TgZ(202,"div",64),e._UZ(203,"br"),e.TgZ(204,"button",65),e.YNc(205,Me,3,3,"ng-container",37),e.YNc(206,Ie,1,0,"span",38),e.qZA()(),e.TgZ(207,"div",64),e._UZ(208,"br"),e.TgZ(209,"button",39),e._uU(210),e.ALo(211,"translate"),e.qZA()()()()()()()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,48,"GestionDesSortieArgent")),e.xp6(9),e.hij("\xa0",e.lcZ(13,50,"nouvellesortiedargent")," "),e.xp6(5),e.hij("\xa0",e.lcZ(18,52,"CategoryCreate")," "),e.xp6(5),e.hij("\xa0",e.lcZ(23,54,"Imprimer")," "),e.xp6(8),e.Oqu(e.lcZ(31,56,"Filter")),e.xp6(3),e.Q6J("ngModel",o.selectedvalue),e.xp6(8),e.Akn(o.color),e.xp6(4),e.hij(" ",o.Solde," FCFA "),e.xp6(2),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(52,58,"DateSortie")),e.xp6(3),e.Oqu(e.lcZ(55,60,"MotifSortieArgent")),e.xp6(3),e.Oqu(e.lcZ(58,62,"Montant")),e.xp6(3),e.Oqu(e.lcZ(61,64,"typetransaction")),e.xp6(3),e.Oqu(e.lcZ(64,66,"Auteur")),e.xp6(3),e.Oqu(e.lcZ(67,68,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listExpense),e.xp6(6),e.Oqu(e.lcZ(76,70,"AjouterSortieArgent")),e.xp6(6),e.Q6J("formGroup",o.expenseForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(88,72,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(100,74,"CategoryName")),e.xp6(5),e.Q6J("placeholder","Selectionner une Categorie")("data",o.listCategories)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(6),e.Oqu(e.lcZ(111,76,"DateSortie")),e.xp6(5),e.Q6J("ngClass",e.VKq(90,B,o.submitted&&o.f.date.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date.errors),e.xp6(6),e.Oqu(e.lcZ(123,78,"typetransaction")),e.xp6(10),e.Q6J("ngIf",o.submitted&&o.f.typetransaction.errors),e.xp6(6),e.Oqu(e.lcZ(139,80,"MotifSortieArgent")),e.xp6(5),e.Q6J("ngClass",e.VKq(92,B,o.submitted&&o.f.motif.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.motif.errors),e.xp6(6),e.Oqu(e.lcZ(151,82,"MontantSorti")),e.xp6(5),e.Q6J("ngClass",e.VKq(94,B,o.submitted&&o.f.montant.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.montant.errors),e.xp6(6),e.Oqu(e.lcZ(163,84,"Auteur")),e.xp6(5),e.Q6J("ngClass",e.VKq(96,B,o.submitted&&o.f.auteur.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.auteur.errors),e.xp6(6),e.Oqu(e.lcZ(175,86,"AjouterSortieArgent")),e.xp6(6),e.Q6J("formGroup",o.reportForm),e.xp6(25),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(4),e.Oqu(e.lcZ(211,88,"Annuler")))},dependencies:[c.rH,g.mk,g.sg,g.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,l.On,M.OP,v.G,u.X$]}),n})();var j=m(5861);const ke=function(n){return["/accounting/edit-settings",n]};function De(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div")(15,"a",45),e._UZ(16,"i",46),e.qZA(),e.TgZ(17,"a",47),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeleteTaux(r.id))}),e._UZ(18,"i",48),e.qZA()(),e._UZ(19,"div"),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.taux_transport," "),e.xp6(2),e.hij(" ",t.taux_bureau," "),e.xp6(2),e.hij(" ",t.taux_formateur," "),e.xp6(2),e.hij(" ",t.taux_salaire_agent," "),e.xp6(2),e.hij(" ",t.taux_salaire_mgr," "),e.xp6(2),e.hij(" ",t.taux_garantie_mgr," "),e.xp6(3),e.Q6J("routerLink",e.VKq(7,ke,t._id))}}function Ee(n,a){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Ne(n,a){1&n&&e._UZ(0,"span",49)}function Ye(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Je(n,a){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Ye,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_bureau.errors.required)}}function Qe(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Be(n,a){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Qe,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_transport.errors.required)}}function Pe(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function je(n,a){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Pe,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_formateur.errors.required)}}function Re(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function We(n,a){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Re,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_salaire_agent.errors.required)}}function Ge(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function ze(n,a){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Ge,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_salaire_mgr.errors.required)}}function Ve(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function $e(n,a){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Ve,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_garantie_mgr.errors.required)}}const E=function(n){return{"is-invalid":n}};let Ke=(()=>{class n{constructor(t,o,i,r,s,d){this.tauxService=t,this.fb=o,this.router=i,this.http=r,this.toastrService=s,this.translateService=d,this.listTaux=[],this.pageNumber=1,this.nom="",this.loading=!0,this.buttonloading=!1,this.submitted=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.tauxForm=new l.cw({taux_transport:new l.NI(""),taux_bureau:new l.NI(""),taux_formateur:new l.NI(""),taux_salaire_agent:new l.NI(""),taux_salaire_mgr:new l.NI(""),taux_garantie_mgr:new l.NI("")}),this.translateService.use(localStorage.getItem(this.keyLanguage)),this.tauxForm=this.fb.group({taux_transport:["",l.kI.required],taux_bureau:["",l.kI.required],taux_formateur:["",l.kI.required],taux_salaire_agent:["",l.kI.required],taux_salaire_mgr:["",l.kI.required],taux_garantie_mgr:["",l.kI.required]})}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.getAllTaux()}get f(){return this.tauxForm.controls}onSubmit(){var t=this;return(0,j.Z)(function*(){t.submitted=!0,console.log(t.tauxForm.value),!t.tauxForm?.invalid&&(t.buttonloading=!0,t.tauxService.registerTaux(t.tauxForm.value).subscribe({next:o=>{console.log(o),t.toastrService.success("Le information a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(t.buttonloading=!1,t.ngOnInit())},error:o=>{console.log(o),t.toastrService.error(o.error),t.buttonloading=!1}}))})()}getAllTaux(){var t=this;return(0,j.Z)(function*(){t.tauxService.getAllTaux().subscribe({next:o=>{t.listTaux=o,console.log(t.listTaux),t.dtTrigger.next(null),t.loading=!1},error:o=>{console.log(o),t.loading=!1}})})()}onDeleteTaux(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.tauxService.removeTaux(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F),e.Y36(l.qu),e.Y36(c.F0),e.Y36(C.eN),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings"]],decls:143,vars:82,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addTauxModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addTauxModal","tabindex","-1","aria-labelledby","addTauxModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addTauxModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-6","md-6","xl-6"],[1,"form-group"],[1,"mb-3"],["for","taux_bureau"],[2,"color","red"],["type","number","formControlName","taux_bureau",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","taux_transport"],["type","number","placeholder","","id","taux_transport","formControlName","taux_transport",1,"form-control",3,"ngClass"],["for","taux_formateur"],["type","number","placeholder","","id","taux_formateur","formControlName","taux_formateur",1,"form-control",3,"ngClass"],["for","taux_salaire_agent"],["type","number","id","taux_salaire_agent","placeholder","","id","taux_salaire_agent","formControlName","taux_salaire_agent",1,"form-control",3,"ngClass"],["for","taux_salaire_mgr"],["type","number","name","taux_salaire_mgr","id","taux_salaire_mgr","formControlName","taux_salaire_mgr",1,"form-control",3,"ngClass"],["for","taux_garantie_mgr"],["type","number","placeholder","","id","taux_garantie_mgr","formControlName","taux_garantie_mgr",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,De,20,9,"tr",10),e.qZA()()()()()(),e.TgZ(39,"div",11)(40,"div",12)(41,"div",13)(42,"div",14)(43,"h3",15),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"button",16)(47,"span",17),e._uU(48,"\xd7"),e.qZA()()(),e.TgZ(49,"div",18)(50,"div",19)(51,"div",20)(52,"form",21),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(53,"button",22),e.YNc(54,Ee,3,3,"ng-container",23),e.YNc(55,Ne,1,0,"span",24),e.qZA(),e._uU(56," \xa0 "),e.TgZ(57,"button",25),e._uU(58),e.ALo(59,"translate"),e.qZA(),e._UZ(60,"br"),e.TgZ(61,"div",26)(62,"div",19),e._UZ(63,"br")(64,"br"),e.TgZ(65,"div",27)(66,"div",28)(67,"div",29)(68,"div",20)(69,"label",30),e._uU(70),e.ALo(71,"translate"),e.TgZ(72,"span",31),e._uU(73,"*"),e.qZA()()(),e.TgZ(74,"div",20),e._UZ(75,"input",32),e.YNc(76,Je,2,1,"div",33),e.qZA()()()(),e.TgZ(77,"div",27)(78,"div",28)(79,"div",29)(80,"div",34)(81,"label",35),e._uU(82),e.ALo(83,"translate"),e.TgZ(84,"span",31),e._uU(85,"*"),e.qZA()()(),e.TgZ(86,"div",20),e._UZ(87,"input",36),e.YNc(88,Be,2,1,"div",33),e.qZA()()()()(),e.TgZ(89,"div",19),e._UZ(90,"br")(91,"br"),e.TgZ(92,"div",27)(93,"div",28)(94,"div",29)(95,"div",34)(96,"label",37),e._uU(97),e.ALo(98,"translate"),e.TgZ(99,"span",31),e._uU(100,"*"),e.qZA()()(),e.TgZ(101,"div",20),e._UZ(102,"input",38),e.YNc(103,je,2,1,"div",33),e.qZA()()()(),e.TgZ(104,"div",27)(105,"div",28)(106,"div",29)(107,"div",34)(108,"label",39),e._uU(109),e.ALo(110,"translate"),e.TgZ(111,"span",31),e._uU(112,"*"),e.qZA()()(),e.TgZ(113,"div",20),e._UZ(114,"input",40),e.YNc(115,We,2,1,"div",33),e.qZA()()()()(),e.TgZ(116,"div",19),e._UZ(117,"br")(118,"br"),e.TgZ(119,"div",27)(120,"div",28)(121,"div",29)(122,"div",34)(123,"label",41),e._uU(124),e.ALo(125,"translate"),e.TgZ(126,"span",31),e._uU(127,"*"),e.qZA()()(),e.TgZ(128,"div",20),e._UZ(129,"input",42),e.YNc(130,ze,2,1,"div",33),e.qZA()()()(),e.TgZ(131,"div",27)(132,"div",28)(133,"div",29)(134,"div",34)(135,"label",43),e._uU(136),e.ALo(137,"translate"),e.TgZ(138,"span",31),e._uU(139,"*"),e.qZA()()(),e.TgZ(140,"div",20),e._UZ(141,"input",44),e.YNc(142,$e,2,1,"div",33),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,36,"gestionTaux")),e.xp6(7),e.hij("\xa0",e.lcZ(10,38,"AjouterNouveauTauxSalarial")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,40,"TauxTransportAgents")),e.xp6(3),e.Oqu(e.lcZ(21,42,"TauxEntretienBureau")),e.xp6(3),e.Oqu(e.lcZ(24,44,"TauxSalarialFormateur")),e.xp6(3),e.Oqu(e.lcZ(27,46,"TauxSalaireAgents")),e.xp6(3),e.Oqu(e.lcZ(30,48,"TauxSalaireManager")),e.xp6(3),e.Oqu(e.lcZ(33,50,"TauxGarantieManager")),e.xp6(3),e.Oqu(e.lcZ(36,52,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listTaux),e.xp6(6),e.Oqu(e.lcZ(45,54,"AjouterNouveauTauxSalarial")),e.xp6(8),e.Q6J("formGroup",o.tauxForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(59,56,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(71,58,"TauxEntretienBureau")),e.xp6(5),e.Q6J("ngClass",e.VKq(70,E,o.submitted&&o.f.taux_bureau.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_bureau.errors),e.xp6(6),e.Oqu(e.lcZ(83,60,"TauxTransportAgents")),e.xp6(5),e.Q6J("ngClass",e.VKq(72,E,o.submitted&&o.f.taux_transport.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_transport.errors),e.xp6(9),e.Oqu(e.lcZ(98,62,"TauxSalarialFormateur")),e.xp6(5),e.Q6J("ngClass",e.VKq(74,E,o.submitted&&o.f.taux_formateur.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_formateur.errors),e.xp6(6),e.hij("Taux ",e.lcZ(110,64,"TauxSalaireAgents"),""),e.xp6(5),e.Q6J("ngClass",e.VKq(76,E,o.submitted&&o.f.taux_salaire_agent.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_salaire_agent.errors),e.xp6(9),e.Oqu(e.lcZ(125,66,"TauxSalaireManager")),e.xp6(5),e.Q6J("ngClass",e.VKq(78,E,o.submitted&&o.f.taux_salaire_mgr.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_salaire_mgr.errors),e.xp6(6),e.Oqu(e.lcZ(137,68,"TauxGarantieManager")),e.xp6(5),e.Q6J("ngClass",e.VKq(80,E,o.submitted&&o.f.taux_garantie_mgr.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_garantie_mgr.errors))},dependencies:[c.rH,g.mk,g.sg,g.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,v.G,u.X$]}),n})();var K=m(9751),X=m(6252),R=m(388);let Xe=(()=>{class n{constructor(t){this.bsModalRef=t}onNoClick(){this.bsModalRef.hide()}onYesClick(){this.bsModalRef.hide()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R.UZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirmation-dialog"]],decls:12,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Confirmation"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.onNoClick()}),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3),e._uU(6),e.qZA(),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){return o.onYesClick()}),e._uU(9,"Confirmer"),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return o.onNoClick()}),e._uU(11,"Annuler"),e.qZA()()),2&t&&(e.xp6(6),e.Oqu(o.message))},encapsulation:2}),n})(),H=(()=>{class n{constructor(t){this.modalService=t}openConfirmationDialog(t){const o=new b.x;return this.modalRef=this.modalService.show(Xe,{initialState:{message:t,confirmationSubject:o},class:"modal-dialog-centered"}),o.asObservable()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(R.tT))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var I=m(1185);const He=function(n){return["/accounting/detail-weekendy",n]};function et(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",52),e._uU(2),e.qZA(),e.TgZ(3,"td",52),e._uU(4),e.qZA(),e.TgZ(5,"td",52),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",53),e._UZ(9,"i",54),e.qZA(),e._uU(10,"\xa0 "),e.TgZ(11,"a",55),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeleteWeekendy(r._id))}),e._UZ(12,"i",56),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.bureauId.bureau_name),e.xp6(2),e.AsE("",t.mois.valueMois," ",t.annee.value,""),e.xp6(2),e.hij("",t.caTotal," FCFA"),e.xp6(2),e.Q6J("routerLink",e.VKq(5,He,t._id))}}const W=function(n){return{"is-invalid":n}};function tt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",44)(2,"input",57,58),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.name=i)}),e.qZA()(),e.TgZ(4,"td")(5,"input",59,60),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.qty=i)})("input",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.addItem(r,r.qty))}),e.qZA()(),e.TgZ(7,"td")(8,"input",61,62),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.price=i)}),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.qZA()()}if(2&n){const t=a.$implicit,o=a.index,i=e.MAs(3),r=e.MAs(6),s=e.MAs(9);e.oxw();const d=e.MAs(45);e.xp6(2),e.MGl("name","productName[",o,"]"),e.Q6J("ngClass",e.VKq(9,W,d.submitted&&i.invalid))("ngModel",t.name),e.xp6(3),e.Q6J("ngClass",e.VKq(11,W,d.submitted&&r.invalid))("ngModel",t.qty),e.xp6(3),e.MGl("name","price[",o,"]"),e.Q6J("ngClass",e.VKq(13,W,d.submitted&&s.invalid))("ngModel",t.price),e.xp6(3),e.hij(" ",t.price*t.qty||0," ")}}const N=function(){return{standalone:!0}},T="weekendy";let ot=(()=>{class n{constructor(t,o,i,r,s,d,h,A,x,O,k){this.confirmationDialogService=t,this.fb=o,this.route=r,this.router=s,this.toastrService=d,this.translateService=h,this.productService=A,this.agenceService=x,this.salaireService=O,this.weekendyService=k,this.moisList=[],this.anneeList=[],this.selectedItems=[],this.dtoptions={},this.dtTrigger=new b.x,this.loading=!0,this.keyLanguage="userLanguage",this.autre1=0,this.autre2=0,this.submitted=!1,this.myDate=Date.now(),this.dropdownSettings={},this.dropdownSettingsAnnee={},this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.listProducts=[],this.listWeekendy=[],this.liveDemoVisible=!1,this.subscribers=new Array,this.chiffreAf=0,this.totalbank=0,this.chargebureau=0,this.primetransport=0,this.weekend=new D.O,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getALLmois(),this.getALLannee(),this.getAllweekendy(),this.getBureau(),this.getAllProducts(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"valueMois",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSettingsAnnee={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"value",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getAllweekendy(){this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.weekendyService.getAllWeekendys(this.id).subscribe(t=>{this.listWeekendy=t,this.dtTrigger.next(null),this.loading=!1},t=>{console.log(t),this.loading=!1})}getAllProducts(){this.productService.getAllProducts().subscribe({next:t=>{this.listProducts=t,console.log(this.listProducts),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}get(){return this.subscriptionObservable=new K.y(t=>(this.subscribers.push(t),t.next(this.retrieve()),()=>{this.subscribers=this.subscribers.filter(o=>o!==t)}))}getALLmois(){this.salaireService.getAllMois().subscribe(t=>{this.moisList=t,console.log(this.moisList)})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}getBureau(){this.id=this.route.snapshot.paramMap.get("id"),console.log(this.id),this.agenceService.singleBureau(this.id).subscribe({next:t=>{this.agence=t.bureau_name,this.bureauId=t._id,console.log(this.agence),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}getvaluemontant(){this.totalbank=JSON.parse(localStorage.getItem(T)).TotaltoBank,this.chiffreAf=JSON.parse(localStorage.getItem(T)).caTotal,this.chargebureau=JSON.parse(localStorage.getItem(T)).chargebureauTotal,this.primetransport=JSON.parse(localStorage.getItem(T)).primetrsportTotal}create(t){this.submitted=!0,this.id=this.route.snapshot.paramMap.get("id"),console.log("weekendyForm",t.value);const o={bureauId:this.id,mois:this.mois,annee:this.annee,autre1:Number(localStorage.getItem("autre1")),motif1:localStorage.getItem("motif1"),autre2:Number(localStorage.getItem("autre2")),moti2:localStorage.getItem("motif2"),items:JSON.parse(localStorage.getItem(T)).items,TotaltoBank:JSON.parse(localStorage.getItem(T)).TotaltoBank,caTotal:JSON.parse(localStorage.getItem(T)).caTotal,chargebureauTotal:JSON.parse(localStorage.getItem(T)).chargebureauTotal,primetrsportTotal:JSON.parse(localStorage.getItem(T)).primetrsportTotal,createdAt:Date()};console.log("form data",o),window.confirm("Etes-vous \xe0 enregistrer ce el\xe9ment ?")&&this.weekendyService.registerWeekendy(this.id,o).subscribe({next:i=>{console.log(i),this.toastrService.success("Le information a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,localStorage.removeItem(T)&&window.location.reload(),localStorage.removeItem(T),localStorage.removeItem("autre1"),localStorage.removeItem("autre2"),localStorage.removeItem("motif1"),localStorage.removeItem("motif2"),window.location.reload())},error:i=>{console.log(i),this.toastrService.error(i.error.message),this.buttonloading=!1}})}empty(){const t=new D.O;this.save(t),this.dispatch(t)}addItem(t,o){console.log("product==> ",t);const i=this.retrieve();let r=i.items.find(s=>s.productId===t._id);void 0===r&&(r=new X.Z,r.productId=t._id,r.name=t.name,i.items.push(r),console.log("weekendy==> ",i)),r.quantity=o,i.items=i.items.filter(s=>s.quantity>0),this.calculateCart(i),this.save(i),this.dispatch(i),this.getvaluemontant()}calculateCart(t){t.caTotal=t.items.map(o=>o.quantity*this.listProducts.find(i=>i._id===o.productId).price).reduce((o,i)=>o+i,0),t.chargebureauTotal=5*t.caTotal/100,t.primetrsportTotal=10*t.caTotal/100,t.TotaltoBank=t.caTotal-(t.chargebureauTotal+t.primetrsportTotal)}retrieve(){const t=new D.O,o=localStorage.getItem(T);return o&&t.updateFrom(JSON.parse(o)),t}save(t){localStorage.setItem(T,JSON.stringify(t))}dispatch(t){this.subscribers.forEach(o=>{try{o.next(t)}catch{}})}getlocaldata(){return this.ValeurMontant=localStorage.getItem(T),console.log(this.ValeurMontant),this.ValeurMontant}onDeleteWeekendy(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet \xe9l\xe9ment ?")&&(this.weekendyService.removeWeekendy(t).subscribe({next:o=>{this.toastrService.success(o),this.getAllweekendy(),window.location.reload()},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onDetailWeekendy(t){this.weekendyService.removeWeekendy(t).subscribe({next:o=>{this.weekendyDetail=o,console.log(this.weekendyDetail)},error:o=>{this.toastrService.error(o.statusText)}})}savedepense1(t,o){console.log(t),localStorage.setItem("autre1",t),localStorage.setItem("motif1",o),this.totalbank=JSON.parse(localStorage.getItem(T)).TotaltoBank-t,console.log(this.totalbank),this.autre1=this.autre1}savedepense2(t,o){this.totalbank=JSON.parse(localStorage.getItem(T)).TotaltoBank-t,localStorage.setItem("autre2",t),localStorage.setItem("motif2",o)}onItemSelect(t){this.mois=t._id,console.log("onItemSelect",this.mois)}onItemDeSelect(t){console.log("onItem DeSelect",t)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSelectAnnee(t){this.annee=t._id,console.log("ann\xe9e",this.annee)}onItemDeSelectAnnee(t){console.log("onItem DeSelect",t)}onDropDownCloseAnnee(){console.log("dropdown closed")}toogleShowAllAnnee(){this.showAll=!this.showAll,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{enableCheckAll:this.showAll})}toogleShowFilterAnnee(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H),e.Y36(l.qu),e.Y36(J.vL),e.Y36(c.gz),e.Y36(c.F0),e.Y36(f._W),e.Y36(u.sK),e.Y36(L.M),e.Y36(S.q),e.Y36(y.o),e.Y36(I.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-weekendy-list"]],decls:179,vars:108,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/weekendy",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addWeekendyModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addWeekendyModal","tabindex","-1","aria-labelledby","addWeekendyModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addUserModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"ngSubmit"],["weekendyForm","ngForm"],["type","submit",1,"btn","btn-primary"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container-fluid","pt-2","mb-5"],[1,"card","border-secondary"],[1,"card-title"],[1,"col-md-4"],[1,"form-group"],["for","bureauId"],["type","hidden","name","bureauId","id","bureauId",1,"form-control",3,"ngModel","value","ngModelChange"],[1,"form-control"],["for","mois"],["id","weekendy_mois",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],["for","annee"],["id","annee",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],[1,"card","border-secondary","mt-2"],[1,"card-title","d-flex","justify-content-between"],[1,"table"],["width","25%"],[1,"table","table-sm","table-dark"],["scope","col"],["scope","row"],[1,"col-md-3"],["type","number",1,"form-control",3,"min","ngModel","ngModelOptions","ngModelChange"],[1,"col-md-7"],["id","","cols","40","rows","2",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-md-2"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-save"],[2,"cursor","pointer"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["type","text","id","productName","required","","readonly","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductName","ngModel"],["type","number","name","qty","id","qty","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange","input"],["ProductQty","ngModel"],["type","number","id","price","required","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductPrice","ngModel"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5)(10,"h6",6)(11,"button",7),e._UZ(12,"i",8),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.TgZ(15,"div",9)(16,"div",10)(17,"table",11)(18,"thead")(19,"tr")(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Action"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,et,13,7,"tr",12),e.qZA()()()()()(),e.TgZ(33,"div",13)(34,"div",14)(35,"div",15)(36,"div",16)(37,"h3",17),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"button",18),e.qZA(),e.TgZ(41,"div",19)(42,"div",20)(43,"div",21)(44,"form",22,23),e.NdJ("ngSubmit",function(){e.CHM(i);const s=e.MAs(45);return e.KtG(o.create(s))}),e.TgZ(46,"button",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._uU(49,"\xa0 "),e.TgZ(50,"button",25),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"div",26)(54,"div",20)(55,"div",21)(56,"div",27)(57,"div",9),e._UZ(58,"h4",28),e.TgZ(59,"div",20)(60,"div",29)(61,"div",30)(62,"label",31),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"input",32),e.NdJ("ngModelChange",function(s){return o.weekend.bureauId=s}),e.qZA(),e.TgZ(66,"label",33),e._uU(67),e.qZA()()(),e.TgZ(68,"div",29)(69,"div",30)(70,"label",34),e._uU(71),e.ALo(72,"translate"),e.qZA(),e.TgZ(73,"ng-multiselect-dropdown",35),e.NdJ("ngModelChange",function(s){return o.weekend.weekendy_mois=s})("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA()()(),e.TgZ(74,"div",29)(75,"div",30)(76,"label",36),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"ng-multiselect-dropdown",37),e.NdJ("ngModelChange",function(s){return o.weekend.annee=s})("onDropDownClose",function(){return o.onDropDownCloseAnnee()})("onSelect",function(s){return o.onItemSelectAnnee(s)})("onDeSelect",function(s){return o.onItemDeSelectAnnee(s)}),e.qZA()()()()()(),e.TgZ(80,"div",38)(81,"div",9)(82,"h4",39),e._uU(83),e.ALo(84,"translate"),e.qZA(),e.TgZ(85,"div",20)(86,"table",40)(87,"thead")(88,"tr")(89,"th",41),e._uU(90),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"th",41),e._uU(93),e.ALo(94,"translate"),e.qZA(),e.TgZ(95,"th",41),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"th",41),e._uU(99),e.ALo(100,"translate"),e.qZA()()(),e.TgZ(101,"tbody"),e.YNc(102,tt,12,15,"tr",12),e.qZA()()()()()()()()(),e.TgZ(103,"div",20)(104,"div",21)(105,"div",38)(106,"div",9)(107,"h4",28),e._uU(108),e.ALo(109,"translate"),e.qZA(),e._UZ(110,"div",30),e.TgZ(111,"table",42)(112,"thead")(113,"tr")(114,"th",43),e._uU(115),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"th",43),e._uU(118,"%"),e.qZA(),e.TgZ(119,"th",43),e._uU(120),e.ALo(121,"translate"),e.qZA()()(),e.TgZ(122,"tbody")(123,"tr")(124,"th",44),e._uU(125),e.ALo(126,"translate"),e.qZA(),e.TgZ(127,"td"),e._uU(128,"..."),e.qZA(),e.TgZ(129,"td"),e._uU(130),e.qZA()(),e.TgZ(131,"tr")(132,"th",44),e._uU(133,"PRIME DE TRANSPORT DE COMMERCIAUX"),e.qZA(),e.TgZ(134,"td"),e._uU(135,"10%"),e.qZA(),e.TgZ(136,"td"),e._uU(137),e.qZA()(),e.TgZ(138,"tr")(139,"th",44),e._uU(140),e.ALo(141,"translate"),e.qZA(),e.TgZ(142,"td"),e._uU(143,"5%"),e.qZA(),e.TgZ(144,"td"),e._uU(145),e.qZA()(),e.TgZ(146,"tr")(147,"th",44),e._uU(148,"Autre 1"),e.qZA(),e._UZ(149,"td"),e.TgZ(150,"td")(151,"div",20)(152,"div",45)(153,"input",46),e.NdJ("ngModelChange",function(s){return o.autre1=s}),e.qZA()(),e.TgZ(154,"div",47)(155,"textarea",48),e.NdJ("ngModelChange",function(s){return o.motif1=s}),e.qZA()(),e.TgZ(156,"div",49)(157,"a",50),e.NdJ("click",function(){return o.savedepense1(o.autre1,o.motif1)}),e._UZ(158,"i",51),e.qZA()()()()(),e.TgZ(159,"tr")(160,"th",44),e._uU(161,"Autre 2"),e.qZA(),e._UZ(162,"td"),e.TgZ(163,"div",20)(164,"div",45)(165,"input",46),e.NdJ("ngModelChange",function(s){return o.autre2=s}),e.qZA()(),e.TgZ(166,"div",47)(167,"textarea",48),e.NdJ("ngModelChange",function(s){return o.motif2=s}),e.qZA()(),e.TgZ(168,"div",49)(169,"a",50),e.NdJ("click",function(){return o.savedepense2(o.autre2,o.motif2)}),e._UZ(170,"i",51),e.qZA()()()(),e.TgZ(171,"tr")(172,"th",44),e._uU(173),e.ALo(174,"translate"),e.qZA(),e.TgZ(175,"td"),e._uU(176,"..."),e.qZA(),e.TgZ(177,"td"),e._uU(178),e.qZA()()()()()()()()()()()()()()}2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,56,"GestionWeekendy")," ",e.lcZ(5,58,"de")," ",o.agence," "),e.xp6(10),e.hij("\xa0",e.lcZ(14,60,"EnregistrerWeekendy")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(22,62,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(25,64,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(28,66,"CHIFFREDAFFAIRE")),e.xp6(5),e.Q6J("ngForOf",o.listWeekendy),e.xp6(6),e.Oqu(e.lcZ(39,68,"EnregistrerWeekendy")),e.xp6(9),e.Oqu(e.lcZ(48,70,"Sauver")),e.xp6(4),e.Oqu(e.lcZ(52,72,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(64,74,"NomBureau")),e.xp6(2),e.Q6J("ngModel",o.weekend.bureauId)("value",o.bureauId),e.xp6(2),e.hij(" ",o.agence," "),e.xp6(4),e.Oqu(e.lcZ(72,76,"MoisDe")),e.xp6(2),e.Q6J("data",o.moisList)("ngModel",o.weekend.weekendy_mois)("disabled",o.disabled)("settings",o.dropdownSettings)("ngModelOptions",e.DdM(102,N)),e.xp6(4),e.Oqu(e.lcZ(78,78,"Annee")),e.xp6(2),e.Q6J("data",o.anneeList)("ngModel",o.weekend.annee)("disabled",o.disabled)("settings",o.dropdownSettingsAnnee)("ngModelOptions",e.DdM(103,N)),e.xp6(4),e.hij(" ",e.lcZ(84,80,"DetailsVente")," "),e.xp6(7),e.Oqu(e.lcZ(91,82,"Produit")),e.xp6(3),e.Oqu(e.lcZ(94,84,"Quantite")),e.xp6(3),e.Oqu(e.lcZ(97,86,"Prix")),e.xp6(3),e.Oqu(e.lcZ(100,88,"Montant")),e.xp6(3),e.Q6J("ngForOf",o.listProducts)("ngForOf",o.weekend.items),e.xp6(6),e.Oqu(e.lcZ(109,90,"DetailsFinanciers")),e.xp6(7),e.Oqu(e.lcZ(116,92,"Libelle")),e.xp6(5),e.Oqu(e.lcZ(121,94,"Montant")),e.xp6(5),e.Oqu(e.lcZ(126,96,"TotalVente")),e.xp6(5),e.Oqu(o.chiffreAf),e.xp6(7),e.Oqu(o.primetransport),e.xp6(3),e.Oqu(e.lcZ(141,98,"ChargeBureau")),e.xp6(5),e.Oqu(o.chargebureau),e.xp6(8),e.Q6J("min",0)("ngModel",o.autre1)("ngModelOptions",e.DdM(104,N)),e.xp6(2),e.Q6J("ngModel",o.motif1)("ngModelOptions",e.DdM(105,N)),e.xp6(10),e.Q6J("min",0)("ngModel",o.autre2)("ngModelOptions",e.DdM(106,N)),e.xp6(2),e.Q6J("ngModel",o.motif2)("ngModelOptions",e.DdM(107,N)),e.xp6(6),e.Oqu(e.lcZ(174,100,"ResteDeposeBanque")),e.xp6(5),e.hij(" ",o.totalbank," "))},dependencies:[c.rH,g.mk,g.sg,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.qQ,l.On,l.F,M.OP,v.G,u.X$]}),n})();var q=m(7729),Q=m(2217);const ee=function(n){return["/accounting/liste-ca-zone",n]};function nt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",9),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"a",10),e._UZ(5,"i",11),e.qZA(),e._uU(6,"\xa0 "),e.qZA()()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,ee,t._id)),e.xp6(1),e.Oqu(t.zone_name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,ee,t._id))}}let it=(()=>{class n{constructor(t,o,i,r,s,d,h){this.zoneService=t,this.managerService=o,this.fb=i,this.http=r,this.toastrService=s,this.translateService=d,this.router=h,this.keyLanguage="userLanguage",this.listZone=[],this.loading=!0,this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.getAllZone()}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDetailSZ(t){this.managerService.singleManager(t).subscribe({next:o=>{this.detailSZ=o,console.log(this.detailSZ)},error:o=>{this.toastrService.error(o.statusText)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.T),e.Y36(Q.b),e.Y36(l.qu),e.Y36(C.eN),e.Y36(f._W),e.Y36(u.sK),e.Y36(c.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-prime-sz"]],decls:20,vars:9,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn","btn-success",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,nt,7,7,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,5,"GestionPrime")," "),e.xp6(7),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(15,7,"NomZone")),e.xp6(5),e.Q6J("ngForOf",o.listZone))},dependencies:[c.rH,g.sg,v.G,u.X$]}),n})();const at=function(n){return["/accounting/detail-manager",n]};function rt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",8)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",9)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",9)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",9)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",9)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",9)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",9)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",9)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td")(26,"div")(27,"a",10),e._UZ(28,"i",11),e.qZA(),e.TgZ(29,"a",12),e._UZ(30,"i",13),e.qZA()(),e._UZ(31,"div"),e.qZA()()),2&n){const t=a.$implicit;e.xp6(3),e.AsE("",t.nom," ",t.prenom,""),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Oqu(t.date_naiss),e.xp6(3),e.Oqu(t.lieu_naiss),e.xp6(3),e.Oqu(t.piece),e.xp6(3),e.Oqu(t.num_piece),e.xp6(3),e.Oqu(t.grade),e.xp6(3),e.Oqu(t.situation_matrimonial),e.xp6(3),e.Q6J("routerLink",e.VKq(10,at,t._id))}}let st=(()=>{class n{constructor(t,o,i,r,s,d,h){this.agenceService=t,this.managerService=o,this.fb=i,this.router=r,this.http=s,this.toastrService=d,this.translateService=h,this.listManager=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}getAllManager(){this.managerService.getAllManagers().subscribe({next:t=>{this.listManager=t,console.log(this.listManager),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.q),e.Y36(Q.b),e.Y36(l.qu),e.Y36(c.F0),e.Y36(C.eN),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-garantie-manager"]],decls:40,vars:33,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"text-center",2,"cursor","pointer"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil","btn-primary"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA()()(),e.TgZ(38,"tbody"),e.YNc(39,rt,32,12,"tr",7),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,13,"GestionGarantie")),e.xp6(6),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(13,15,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(16,17,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(19,19,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(22,21,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(25,23,"Piece")),e.xp6(3),e.Oqu(e.lcZ(28,25,"NumeroPiece")),e.xp6(3),e.hij("",e.lcZ(31,27,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(34,29,"Grade")," "),e.xp6(3),e.Oqu(e.lcZ(37,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listManager))},dependencies:[c.rH,g.sg,v.G,u.X$]}),n})();function lt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",14),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.quantity," "),e.xp6(2),e.hij(" ",t.totaleVente," ")}}function dt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",14),e._UZ(2,"input",25),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"input",26),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.s9C("value",t.name),e.xp6(2),e.s9C("value",t.quantity)}}const ut=function(n){return["/accounting/weekendys-list",n]};let ct=(()=>{class n{constructor(t,o,i,r,s,d,h,A,x){this.route=o,this.router=i,this.toastrService=r,this.translateService=s,this.productService=d,this.agenceService=h,this.salaireService=A,this.weekendyService=x,this.weekendyDetail=[],this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllProductbyweekendy()}getAllProductbyweekendy(){this.id=this.route.snapshot.paramMap.get("id"),console.log(this.id),this.weekendyService.getSingleWeekendy(this.id).subscribe(t=>{this.mois=t.mois.valueMois,this.caTotal=t.caTotal,this.primetrsportTotal=t.primetrsportTotal,this.chargebureauTotal=t.chargebureauTotal,this.TotaltoBank=t.TotaltoBank,console.log("res",t),this.bureauId=t.bureauId._id,this.agence=t.bureauId.bureau_name;for(let o=0;o<t.items.length;o++)this.productService.getSingleProduct(t.items[o].productId).subscribe(r=>{this.weekendyDetail.push({name:t.items[o].name,quantity:t.items[o].quantity,totaleVente:t.items[o].quantity*r.price})});console.log("product vendu",this.weekendyDetail)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.vL),e.Y36(c.gz),e.Y36(c.F0),e.Y36(f._W),e.Y36(u.sK),e.Y36(L.M),e.Y36(S.q),e.Y36(y.o),e.Y36(I.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-weekendy-detail"]],decls:103,vars:59,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"row-border","hover","table","table-bordered"],["width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-12"],[1,"card","border-secondary","mt-2"],[1,"card-body"],[1,"card-title"],[1,"table","table-sm","table-dark"],["scope","col"],["scope","row"],["id","detailWeekendy","tabindex","-1","aria-labelledby","detailWeekendyModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addUserModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"card","border-secondary"],[1,"card-title","d-flex","justify-content-between"],[1,"table"],["type","text","readonly","",1,"form-control",3,"value"],["readonly","",1,"form-control",3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"a",3),e._uU(8,"back"),e.qZA()(),e.TgZ(9,"table",4)(10,"thead")(11,"tr")(12,"th",5),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th",5),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th",5),e._uU(19),e.ALo(20,"translate"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,lt,7,3,"tr",6),e.qZA()(),e.TgZ(23,"div",7)(24,"div",8)(25,"div",9)(26,"div",10)(27,"h4",11),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"table",12)(31,"thead")(32,"tr")(33,"th",13),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"th",13),e._uU(37,"%"),e.qZA(),e.TgZ(38,"th",13),e._uU(39),e.ALo(40,"translate"),e.qZA()()(),e.TgZ(41,"tbody")(42,"tr")(43,"th",14),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"td"),e._uU(47,"..."),e.qZA(),e.TgZ(48,"td"),e._uU(49),e.qZA()(),e.TgZ(50,"tr")(51,"th",14),e._uU(52,"PRIME DE TRANSPORT DE COMMERCIAUX"),e.qZA(),e.TgZ(53,"td"),e._uU(54,"10%"),e.qZA(),e.TgZ(55,"td"),e._uU(56),e.qZA()(),e.TgZ(57,"tr")(58,"th",14),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"td"),e._uU(62,"5%"),e.qZA(),e.TgZ(63,"td"),e._uU(64),e.qZA()(),e.TgZ(65,"tr")(66,"th",14),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"td"),e._uU(70,"..."),e.qZA(),e.TgZ(71,"td"),e._uU(72),e.qZA()()()()()()()()(),e.TgZ(73,"div",15)(74,"div",16)(75,"div",17)(76,"div",18)(77,"h3",19),e._uU(78),e.ALo(79,"translate"),e.qZA(),e._UZ(80,"button",20),e.qZA(),e.TgZ(81,"div",21)(82,"div",7)(83,"div",8)(84,"div",22)(85,"div",10)(86,"div",9)(87,"div",10)(88,"h4",23),e._uU(89),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"div",7)(92,"table",24)(93,"thead")(94,"tr")(95,"th",5),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"th",5),e._uU(99),e.ALo(100,"translate"),e.qZA()()(),e.TgZ(101,"tbody"),e.YNc(102,dt,5,2,"tr",6),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(3),e.xDo(" ",e.lcZ(4,25,"DetailsVente")," ",e.lcZ(5,27,"de")," ",o.agence," ",e.lcZ(6,29,"de")," ",o.mois," "),e.xp6(4),e.Q6J("routerLink",e.VKq(57,ut,o.bureauId)),e.xp6(6),e.Oqu(e.lcZ(14,31,"Produit")),e.xp6(3),e.Oqu(e.lcZ(17,33,"Quantite")),e.xp6(3),e.Oqu(e.lcZ(20,35,"TotalVente")),e.xp6(3),e.Q6J("ngForOf",o.weekendyDetail),e.xp6(6),e.Oqu(e.lcZ(29,37,"DetailsFinanciers")),e.xp6(6),e.Oqu(e.lcZ(35,39,"Indication")),e.xp6(5),e.Oqu(e.lcZ(40,41,"Montant")),e.xp6(5),e.Oqu(e.lcZ(45,43,"TotalVente")),e.xp6(5),e.Oqu(o.caTotal),e.xp6(7),e.Oqu(o.primetrsportTotal),e.xp6(3),e.Oqu(e.lcZ(60,45,"ChargeBureau")),e.xp6(5),e.Oqu(o.chargebureauTotal),e.xp6(3),e.Oqu(e.lcZ(68,47,"ResteDeposeBanque")),e.xp6(5),e.hij(" ",o.TotaltoBank," "),e.xp6(6),e.hij("",e.lcZ(79,49,"DetailWeekendy")," "),e.xp6(11),e.hij(" ",e.lcZ(90,51,"DetailsVente")," "),e.xp6(7),e.Oqu(e.lcZ(97,53,"Produit")),e.xp6(3),e.Oqu(e.lcZ(100,55,"Quantite")),e.xp6(3),e.Q6J("ngForOf",o.weekendyDetail))},dependencies:[c.rH,g.sg,u.X$]}),n})();const gt=function(n){return["/accounting/weekendys-list",n]},pt=function(n){return["/accounting/list-salaire-du-bureau",n]},ht=function(n){return["/accounting/stock-bureau",n]};function mt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",7),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div",8)(5,"button",9),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"ul",10)(9,"li")(10,"a",11),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"li")(14,"a",11),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"li")(18,"a",11),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.bureau_name),e.xp6(4),e.hij(" ",e.lcZ(7,8,"choisaction")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(16,gt,t._id)),e.xp6(1),e.Oqu(e.lcZ(12,10,"GestionWeekendy")),e.xp6(3),e.Q6J("routerLink",e.VKq(18,pt,t._id)),e.xp6(1),e.Oqu(e.lcZ(16,12,"GestionDesSalaires")),e.xp6(3),e.Q6J("routerLink",e.VKq(20,ht,t._id)),e.xp6(1),e.Oqu(e.lcZ(20,14,"VoirStockduBureau"))}}let _t=(()=>{class n{constructor(t,o,i){this.agenceService=t,this.toastrService=o,this.translateService=i,this.listBureau=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}},this.getAllBureau()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.q),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-salaire-bureau"]],decls:17,vars:9,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"btn-group","dropend"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead")(9,"tr")(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Action"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,mt,21,22,"tr",6),e.qZA()()()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,5,"GestionDesSalaires")," "),e.xp6(5),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(12,7,"NomBureau")),e.xp6(5),e.Q6J("ngForOf",o.listBureau))},dependencies:[c.rH,g.sg,v.G,u.X$]}),n})();const Zt=function(n){return["/accounting/payroll",n]},ft=function(n){return["/accounting/stock-bureau",n]};function bt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",9),e._uU(2),e.qZA(),e.TgZ(3,"td",9),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e._uU(6),e.qZA(),e.TgZ(7,"td",9),e._uU(8),e.qZA(),e.TgZ(9,"td",9),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",10)(13,"button",11),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"ul",12)(17,"li")(18,"a",13),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"li")(22,"a",13),e._uU(23),e.ALo(24,"translate"),e.qZA()()()()()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.bureauId.bureau_name),e.xp6(2),e.AsE("",t.mois.valueMois," ",t.annee.annee,""),e.xp6(2),e.Oqu(t.chiffreDaf),e.xp6(2),e.Oqu(t.chargeBureau),e.xp6(2),e.Oqu(t.montant_bank),e.xp6(4),e.hij(" ",e.lcZ(15,11,"choisaction")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(17,Zt,t._id)),e.xp6(1),e.Oqu(e.lcZ(20,13,"GestionDesSalaires")),e.xp6(3),e.Q6J("routerLink",e.VKq(19,ft,t.bureauId._id)),e.xp6(1),e.Oqu(e.lcZ(24,15,"VoirStockduBureau"))}}let At=(()=>{class n{constructor(t,o,i,r,s){this.route=t,this.agenceService=o,this.salaireService=i,this.toastrService=r,this.translateService=s,this.listSalaire=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllSalaire(),this.getBureau()}getAllSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllSalaireBureau(this.id).subscribe({next:t=>{this.listSalaire=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listSalaire)},error:t=>{console.log(t),this.loading=!1}})}getBureau(){this.id=this.route.snapshot.paramMap.get("id"),console.log(this.id),this.agenceService.singleBureau(this.id).subscribe({next:t=>{this.agence=t.findagence.bureau_name,this.bureauId=t._id,console.log(this.agence),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(S.q),e.Y36(y.o),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-salaire-bureau"]],decls:36,vars:28,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/salaire-bureau",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"btn-group","dropend"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"h1",2),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",4)(12,"div",5)(13,"div",6)(14,"table",7)(15,"thead")(16,"tr")(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Action"),e.qZA()()(),e.TgZ(34,"tbody"),e.YNc(35,bt,25,21,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,12,"GestionDesSalaires")," ",e.lcZ(5,14,"de")," ",o.agence," "),e.xp6(6),e.hij(" ",e.lcZ(10,16,"GestionDesSalaires")," "),e.xp6(5),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(19,18,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(22,20,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(25,22,"CHIFFREDAFFAIRE")),e.xp6(3),e.Oqu(e.lcZ(28,24,"ChargeBureau")),e.xp6(3),e.Oqu(e.lcZ(31,26,"ResteDeposeBanque")),e.xp6(5),e.Q6J("ngForOf",o.listSalaire))},dependencies:[c.rH,g.sg,v.G,u.X$]}),n})();function vt(n,a){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Tt(n,a){1&n&&e._UZ(0,"span",31)}function xt(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ct(n,a){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,xt,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_bureau.errors.required)}}function St(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function yt(n,a){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,St,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_transport.errors.required)}}function qt(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function wt(n,a){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,qt,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_formateur.errors.required)}}function Lt(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ut(n,a){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,Lt,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_salaire_agent.errors.required)}}function Ft(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Mt(n,a){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,Ft,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_salaire_mgr.errors.required)}}function It(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ot(n,a){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,It,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_garantie_mgr.errors.required)}}const Y=function(n){return{"is-invalid":n}};let kt=(()=>{class n{constructor(t,o,i,r,s,d,h){this.tauxService=t,this.fb=o,this.router=i,this.http=r,this.toastrService=s,this.route=d,this.translateService=h,this.keyLanguage="userLanguage",this.loading=!0,this.buttonloading=!1,this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.tauxeditForm=this.fb.group({taux_transport:["",l.kI.required],taux_bureau:["",l.kI.required],taux_formateur:["",l.kI.required],taux_salaire_agent:["",l.kI.required],taux_salaire_mgr:["",l.kI.required],taux_garantie_mgr:["",l.kI.required]})}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.tauxService.singleTaux(t).subscribe(o=>{console.log(o.nom),this.tauxeditForm.patchValue({taux_transport:o.taux_transport,taux_bureau:o.taux_bureau,taux_formateur:o.taux_formateur,taux_salaire_agent:o.taux_salaire_agent,taux_salaire_mgr:o.taux_salaire_mgr,taux_garantie_mgr:o.taux_garantie_mgr})})}get f(){return this.tauxeditForm.controls}onSubmit(){var t=this;return(0,j.Z)(function*(){if(t.submitted=!0,console.log(t.tauxeditForm.value),t.tauxeditForm?.invalid)return;t.buttonloading=!0;const o=t.route.snapshot.paramMap.get("id");t.tauxService.updateTaux(o,t.tauxeditForm.value).subscribe({next:i=>{t.toastrService.success("Le information a bien \xe9t\xe9 modifi\xe9e \xe0 la base de donn\xe9es !")&&(t.buttonloading=!1,t.router.navigate(["/accounting/settings"]))},error:i=>{console.log(i),t.toastrService.error(i.error),t.buttonloading=!1}})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F),e.Y36(l.qu),e.Y36(c.F0),e.Y36(C.eN),e.Y36(f._W),e.Y36(c.gz),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-setting"]],decls:100,vars:52,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-6","md-6","xl-6"],[1,"form-group"],[1,"mb-3"],["for","taux_bureau"],[2,"color","red"],["type","number","formControlName","taux_bureau",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","taux_transport"],["type","number","placeholder","","id","taux_transport","formControlName","taux_transport",1,"form-control",3,"ngClass"],["for","taux_formateur"],["type","number","placeholder","","id","taux_formateur","formControlName","taux_formateur",1,"form-control",3,"ngClass"],["for","taux_salaire_agent"],["type","number","id","taux_salaire_agent","placeholder","","id","taux_salaire_agent","formControlName","taux_salaire_agent",1,"form-control",3,"ngClass"],["for","taux_salaire_mgr"],["type","number","name","taux_salaire_mgr","id","taux_salaire_mgr","formControlName","taux_salaire_mgr",1,"form-control",3,"ngClass"],["for","taux_garantie_mgr"],["type","number","placeholder","","id","taux_garantie_mgr","formControlName","taux_garantie_mgr",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"form",7),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(10,"button",8),e.YNc(11,vt,3,3,"ng-container",9),e.YNc(12,Tt,1,0,"span",10),e.qZA(),e._uU(13," \xa0 "),e.TgZ(14,"button",11),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"div",12)(19,"div",5),e._UZ(20,"br")(21,"br"),e.TgZ(22,"div",13)(23,"div",14)(24,"div",15)(25,"div",6)(26,"label",16),e._uU(27),e.ALo(28,"translate"),e.TgZ(29,"span",17),e._uU(30,"*"),e.qZA()()(),e.TgZ(31,"div",6),e._UZ(32,"input",18),e.YNc(33,Ct,2,1,"div",19),e.qZA()()()(),e.TgZ(34,"div",13)(35,"div",14)(36,"div",15)(37,"div",20)(38,"label",21),e._uU(39),e.ALo(40,"translate"),e.TgZ(41,"span",17),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",6),e._UZ(44,"input",22),e.YNc(45,yt,2,1,"div",19),e.qZA()()()()(),e.TgZ(46,"div",5),e._UZ(47,"br")(48,"br"),e.TgZ(49,"div",13)(50,"div",14)(51,"div",15)(52,"div",20)(53,"label",23),e._uU(54),e.ALo(55,"translate"),e.TgZ(56,"span",17),e._uU(57,"*"),e.qZA()()(),e.TgZ(58,"div",6),e._UZ(59,"input",24),e.YNc(60,wt,2,1,"div",19),e.qZA()()()(),e.TgZ(61,"div",13)(62,"div",14)(63,"div",15)(64,"div",20)(65,"label",25),e._uU(66),e.ALo(67,"translate"),e.TgZ(68,"span",17),e._uU(69,"*"),e.qZA()()(),e.TgZ(70,"div",6),e._UZ(71,"input",26),e.YNc(72,Ut,2,1,"div",19),e.qZA()()()()(),e.TgZ(73,"div",5),e._UZ(74,"br")(75,"br"),e.TgZ(76,"div",13)(77,"div",14)(78,"div",15)(79,"div",20)(80,"label",27),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",17),e._uU(84,"*"),e.qZA()()(),e.TgZ(85,"div",6),e._UZ(86,"input",28),e.YNc(87,Mt,2,1,"div",19),e.qZA()()()(),e.TgZ(88,"div",13)(89,"div",14)(90,"div",15)(91,"div",20)(92,"label",29),e._uU(93),e.ALo(94,"translate"),e.TgZ(95,"span",17),e._uU(96,"*"),e.qZA()()(),e.TgZ(97,"div",6),e._UZ(98,"input",30),e.YNc(99,Ot,2,1,"div",19),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,24,"gestionTaux")),e.xp6(7),e.Q6J("formGroup",o.tauxeditForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(16,26,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(28,28,"TauxEntretienBureau")),e.xp6(5),e.Q6J("ngClass",e.VKq(40,Y,o.submitted&&o.f.taux_bureau.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_bureau.errors),e.xp6(6),e.Oqu(e.lcZ(40,30,"TauxTransportAgents")),e.xp6(5),e.Q6J("ngClass",e.VKq(42,Y,o.submitted&&o.f.taux_transport.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_transport.errors),e.xp6(9),e.Oqu(e.lcZ(55,32,"TauxSalarialFormateur")),e.xp6(5),e.Q6J("ngClass",e.VKq(44,Y,o.submitted&&o.f.taux_formateur.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_formateur.errors),e.xp6(6),e.hij("Taux ",e.lcZ(67,34,"TauxSalaireAgents"),""),e.xp6(5),e.Q6J("ngClass",e.VKq(46,Y,o.submitted&&o.f.taux_salaire_agent.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_salaire_agent.errors),e.xp6(9),e.Oqu(e.lcZ(82,36,"TauxSalaireManager")),e.xp6(5),e.Q6J("ngClass",e.VKq(48,Y,o.submitted&&o.f.taux_salaire_mgr.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_salaire_mgr.errors),e.xp6(6),e.Oqu(e.lcZ(94,38,"TauxGarantieManager")),e.xp6(5),e.Q6J("ngClass",e.VKq(50,Y,o.submitted&&o.f.taux_garantie_mgr.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_garantie_mgr.errors))},dependencies:[g.mk,g.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,u.X$]}),n})();var Z=m(5439),w=m(5080),te=m(473);function Dt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.zoneId.zone_name),e.xp6(2),e.AsE("",t.managerId.nom," ",t.managerId.prenom," ")}}function Et(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"a",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getprimesupervisor(r.chiffreDaf,r.bureauId.zoneId))}),e._UZ(8,"i",16),e._uU(9," payer la prime"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,2,t.mois,"MMMM-yyyy","fr")),e.xp6(3),e.hij("",t.chiffreDaf," FCFA ")}}w.kL.register(...w.zX);let Nt=(()=>{class n{constructor(t,o,i,r,s,d,h,A,x,O,k){this.zoneService=t,this.managerService=o,this.fb=i,this.http=r,this.tauxservice=s,this.route=d,this.countryservice=h,this.toastrService=A,this.translateService=x,this.router=O,this.serviceAfffectation=k,this.datazone=[],this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.mois[this.now.getMonth()],this.year=this.now.getFullYear(),this.labeldata=[],this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaZone=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getlistcabyzone(),this.getAllCaZone()}getlistcabyzone(){const t=this.route.snapshot.paramMap.get("id");this.serviceAfffectation.getAllSZByZone(t).subscribe({next:o=>{this.datazone=o,this.zoneNom=o[0].zoneId.zone_name,console.log("data sz and zone",this.datazone)},error:o=>{this.toastrService.error(o.statusText)}})}getAllCaZone(){this.id=this.route.snapshot.paramMap.get("id"),this.countryservice.getAllZonesCa().subscribe({next:t=>{const o=window.navigator.language||window.navigator.language;console.log("navigator language: "+o),Z.locale(o);for(let i=0;i<t.length;i++)t[i].bureauId.zoneId==this.id&&(this.listCaZone.push(t[i]),this.listDate.push(Z(t[i].mois).format("MMMM-YYYY")));console.log("ca zone",this.listCaZone),this.sums=[...this.listCaZone.reduce((i,r)=>{const{mois:s,chiffreDaf:d}=r,h=i.get(s);return h?h.chiffreDaf+=d:i.set(s,Object.assign({},r)),i},new Map).values()],console.log("sums",this.sums);for(let i=0;i<this.sums.length;i++)this.labeldata.push(Z(this.sums[i].mois).format("MMMM-YYYY")),this.realdata.push(this.sums[i].chiffreDaf),"january"===Z(this.sums[i].mois).format("MMMM")||"janvier"===Z(this.sums[i].mois).format("MMMM")?this.colordata.push(this.color[0].name):"february"===Z(this.sums[i].mois).format("MMMM")||"f\xe9vrier"===Z(this.sums[i].mois).format("MMMM")?this.colordata.push(this.color[1].name):"march"===Z(this.sums[i].mois).format("MMMM")||"mars"===Z(this.sums[i].mois).format("MMMM")?this.colordata.push(this.color[2].name):"april"===Z(this.sums[i].mois).format("MMMM")||"avril"===Z(this.sums[i].mois).format("MMMM")?this.colordata.push(this.color[3].name):"May"===Z(this.sums[i].mois).format("MMMM")||"Mai"===Z(this.sums[i].mois).format("MMMM")?(console.log(Z(this.sums[i].mois).format("MMMM")),this.colordata.push(this.color[4].name)):"june"===Z(this.sums[i].mois).format("MMMM")||"juin"===Z(this.sums[i].mois).format("MMMM")?this.colordata.push(this.color[5].name):"july"===Z(this.sums[i].mois).format("MMMM")||"juillet"===Z(this.sums[i].mois).format("MMMM")?this.colordata.push(this.color[6].name):"august"===Z(this.sums[i].mois).format("MMMM")||"ao\xfbt"===Z(this.sums[i].mois).format("MMMM")?this.colordata.push(this.color[7].name):"semptember"===Z(this.sums[i].mois).format("MMMM")||"semptembre"===Z(this.sums[i].mois).format("MMMM")?this.colordata.push(this.color[8].name):"october"===Z(this.sums[i].mois).format("MMMM")||"octobre"===Z(this.sums[i].mois).format("MMMM")?this.colordata.push(this.color[9].name):"november"===Z(this.sums[i].mois).format("MMMM")||"novembre"===Z(this.sums[i].mois).format("MMMM")?this.colordata.push(this.color[10].name):this.colordata.push(this.color[11].name);this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.log(t),this.loading=!1}})}getprimesupervisor(t,o){this.tauxservice.singleTauxBYZone(o).subscribe({next:s=>{this.primeSupervisor=t*s[0].taux_zone/100,console.log(this.primeSupervisor)}});const i=new U.default;var r=new Image;return r.src="assets/logotsw.png",i.addImage(r.src,30,20,10,10),p()(i,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),p()(i,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Bureau:${this.zoneNom}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),p()(i,{body:[[{content:`Bulletin de paie du mois de ${this.month} ${this.year}`,styles:{halign:"center",fontSize:13,fillColor:"#B0B2EA"}}]],theme:"plain"}),p()(i,{body:[[{content:`Chiffre d'affaire: \n${t}`,styles:{halign:"right",fontSize:14,textColor:"#3366ff"}}]],theme:"plain"}),p()(i,{head:[["LIBELLE","MONTANT"]],body:[["PRIME",`${this.primeSupervisor}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),i.save("bulletin_paie.pdf")}RenderChart(t,o,i,r,s){new w.kL(s,{type:r,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:o,backgroundColor:i,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}onDetailSZ(t){this.managerService.singleManager(t).subscribe({next:o=>{this.detailca=o,console.log(this.detailca)},error:o=>{this.toastrService.error(o.statusText)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.T),e.Y36(Q.b),e.Y36(l.qu),e.Y36(C.eN),e.Y36(F),e.Y36(c.gz),e.Y36(q.T),e.Y36(f._W),e.Y36(u.sK),e.Y36(c.F0),e.Y36(te.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-ca-zone"]],decls:48,vars:23,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/paie-prime-sz",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,""],["id","barchart"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-print"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Dt,5,3,"tr",8),e.qZA()()()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"table",7)(25,"thead")(26,"tr")(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,Et,10,6,"tr",8),e.qZA()()()()(),e.TgZ(38,"div",9)(39,"div",10)(40,"div",4)(41,"div",11)(42,"h6",12),e._uU(43),e.ALo(44,"translate"),e.qZA()(),e.TgZ(45,"div",5)(46,"div",13),e._UZ(47,"canvas",14),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,9,"CHIFFREDAFFAIREZone")," "),e.xp6(11),e.Oqu(e.lcZ(15,11,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(18,13,"nomsupervisieurZone")),e.xp6(3),e.Q6J("ngForOf",o.datazone),e.xp6(8),e.Oqu(e.lcZ(29,15,"MoisDe")),e.xp6(3),e.hij("",e.lcZ(32,17,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Oqu(e.lcZ(35,19,"Action")),e.xp6(3),e.Q6J("ngForOf",o.sums),e.xp6(6),e.Oqu(e.lcZ(44,21,"CHIFFREDAFFAIREZone")))},dependencies:[c.rH,g.sg,g.uU,u.X$]}),n})();var G=m(461);const Yt=function(n){return["/accounting/vente-by-doctor",n]};function Jt(n,a){if(1&n&&(e.TgZ(0,"div",15)(1,"div",16)(2,"a",17)(3,"div",11)(4,"div",18)(5,"div",19)(6,"div",20),e._uU(7),e.qZA()(),e.TgZ(8,"div",21),e._UZ(9,"i",22),e.qZA()()()()()()),2&n){const t=a.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(3,Yt,t._id)),e.xp6(5),e.AsE(" ",t.nom," ",t.prenom,"")}}function Qt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"a",23),e._UZ(8,"i",24),e.qZA(),e._uU(9,"\xa0 "),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(e.xi3(3,2,t.mois,"MMMM-yyyy")),e.xp6(3),e.hij("",t.caTotal," FCFA")}}let Bt=(()=>{class n{constructor(t,o,i,r,s,d){this.agenceService=t,this.employeService=o,this.productService=i,this.weekendyService=r,this.toastrService=s,this.translateService=d,this.bureauId="",this.keyLanguage="userLanguage",this.listWeekendyDocteur=[],this.weekendyItem=[],this.doctorList=[],this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getBureau(),this.getAlldoctor(),console.log(this.bureauId),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}}}getBureau(){this.agenceService.siegeBureau("TSW-CI").subscribe({next:o=>{this.bureauId=o._id,this.weekendyService.docteurWeekendies(this.bureauId).subscribe({next:i=>{for(let s=0;s<i.length;s++){const d={mois:String,caTotal:Number,Listproduits:this.weekendyItem};d.mois=i[s].mois,d.caTotal=i[s].caTotal,console.log("obj",d);for(let h=0;h<i[s].items.length;h++){const A={poductname:String,quantity:Number};this.productService.getSingleProduct(i[s].items[h].productId).subscribe({next:x=>{A.poductname=x.name,A.quantity=i[s].items[h].quantity,this.weekendyItem.push(A)},error:x=>{console.log(x),this.toastrService.error(x.statusText)}})}d.Listproduits=this.weekendyItem,this.listWeekendyDocteur.push(d)}console.log("listWeekendyDocteur",this.listWeekendyDocteur),this.dtTrigger.next(null),console.log("weekendy",this.listWeekendyDocteur)},error:i=>{console.log(i),this.toastrService.error(i.statusText)}})},error:o=>{console.log(o)}})}getAlldoctor(){this.employeService.getAllDoctor().subscribe(t=>{this.doctorList=t,console.log(this.doctorList)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.q),e.Y36(G.g),e.Y36(L.M),e.Y36(I.x),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vente-docteur"]],decls:31,vars:16,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting",1,"btn","btn-outline-primary"],[1,"row"],["class","col-xl-3 col-md-3 mb-4",4,"ngFor","ngForOf"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["routerLink","/docteur/create-vente",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"col-xl-3","col-md-3","mb-4"],[1,"card","border-left-primary","border-bottom-primary","shadow","h-100","py-2"],[1,"btn",3,"routerLink"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"col-auto"],[1,"fas","fa-capsules","fa-2x","text-gray-300"],[1,"btn","btn-success"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4),e.YNc(8,Jt,10,5,"div",5),e.qZA(),e.TgZ(9,"div",6)(10,"div",7)(11,"h6",8)(12,"a",9),e._UZ(13,"i",10),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"div",11)(17,"div",12)(18,"table",13)(19,"thead")(20,"tr")(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Action"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,Qt,10,5,"tr",14),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,8,"GestionWeekendy")," "),e.xp6(5),e.Q6J("ngForOf",o.doctorList),e.xp6(6),e.hij("\xa0",e.lcZ(15,10,"EnregistrerWeekendy")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(23,12,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(26,14,"CHIFFREDAFFAIRE")),e.xp6(5),e.Q6J("ngForOf",o.listWeekendyDocteur))},dependencies:[c.rH,g.sg,v.G,g.uU,u.X$]}),n})();function Pt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",18),e._uU(4),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.mois," "),e.xp6(2),e.hij(" ",t.caTotal," FCFA ")}}w.kL.register(...w.zX);let jt=(()=>{class n{constructor(t,o,i,r){this.locale=t,this.translateService=o,this.weekendeyservice=i,this.salaireService=r,this.startYear=2023,this.endYear=2100,this.Listyears=[],this.anneeList=[],this.listCaPaysMois=[],this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.labeldata=[],this.realdata=[],this.testlabeldata=[],this.colordata=[],this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getALLannee(),this.generateYearsBetween(this.startYear,this.currentyear),console.log("currentyear",this.currentyear),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"faite une recherche"}},this.changeyeargetcapays(this.selectedvalue)}changeyeargetcapays(t){this.weekendeyservice.getallCadespays(this.anneecurrent).subscribe({next:i=>{""==this.selectedvalue?this.listCaPaysMois=i:this.weekendeyservice.getallCadespays(this.selectedvalue).subscribe(r=>{this.listCaPaysMois=r}),this.dtTrigger.next(null)},error:i=>{console.log(i)}})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t;for(let o=0;this.anneeList.length>0;o++)(this.anneeList[o].value=(new Date).getFullYear())&&(this.anneecurrent=this.anneeList[o]._id);console.log("annee",this.anneeList)})}getAllCaPaysForDiagram(t){console.log(t),this.weekendeyservice.getallCadespays(t).subscribe({next:o=>{console.log("data",o);for(let i=0;i<o.length;i++);console.log(this.colordata),this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:o=>{console.log(o)}})}RenderChart(t,o,i,r,s){new w.kL(s,{type:r,data:{labels:t,datasets:[{label:"Ca",data:o,backgroundColor:i,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}changeyear(t){this.anneecurrent=t.value,w.kL.getChart("barchart")?.destroy(),this.getAllCaPaysForDiagram(this.anneecurrent)}generateYearsBetween(t=2023,o=this.currentyear){o||(new Date).getFullYear()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.soG),e.Y36(u.sK),e.Y36(I.x),e.Y36(y.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chiffre-affaire-by-country"]],decls:37,vars:15,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"container"],[1,"row"],[1,"col-md-3","col-lg-3","col-xl-3"],["for","filter",1,"col-md-3","control-label",2,"font-style","bold"],[1,"col-md-9"],[1,"form-control"],["value",""],["value","entr\xe9e"],["value","sortie"],[1,"top-0","end-0"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",6)(11,"label",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"select",10)(16,"option",11),e._uU(17,"----select----"),e.qZA(),e.TgZ(18,"option",12),e._uU(19,"Entr\xe9e en caisse"),e.qZA(),e.TgZ(20,"option",13),e._uU(21,"Sortie de caisse"),e.qZA()()()()(),e._UZ(22,"div",7),e.qZA()(),e.TgZ(23,"span",14),e._uU(24,"Solde: "),e.qZA(),e.TgZ(25,"div",15)(26,"table",16)(27,"thead")(28,"tr")(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,Pt,5,2,"tr",17),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,7,"CHIFFREDAFFAIREMonth")),e.xp6(10),e.Oqu(e.lcZ(13,9,"Filter")),e.xp6(14),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(31,11,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(34,13,"CHIFFREDAFFAIRE")),e.xp6(3),e.Q6J("ngForOf",o.listCaPaysMois))},dependencies:[g.sg,l.YN,l.Kr,v.G,u.X$]}),n})();const Rt=function(n){return["/accounting/paiement-garantie",n]};function Wt(n,a){if(1&n&&(e.TgZ(0,"div",14)(1,"a",15),e._uU(2," payer maintenant"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(1,Rt,t.id))}}function Gt(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",16),e._uU(5),e.qZA(),e.TgZ(6,"td",16),e._uU(7),e.qZA(),e.TgZ(8,"td",16),e._uU(9),e.qZA(),e.TgZ(10,"td",16),e._uU(11),e.qZA(),e._UZ(12,"td",16),e.qZA()),2&n){const t=a.$implicit;e.xp6(3),e.AsE("",t.mois.valueMois,"\xa0 ",t.annee.annee," "),e.xp6(2),e.Oqu(t.bureau),e.xp6(2),e.Oqu(t.chiffreaffaire),e.xp6(2),e.Oqu(t.salaire),e.xp6(2),e.Oqu(t.cotisation)}}const zt=function(){return["/accounting/garantie-manager"]};let Vt=(()=>{class n{constructor(t,o,i,r,s){this.route=t,this.agenceservice=o,this.salaireService=i,this.toastrService=r,this.translateService=s,this.managerData=[],this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.getManagerSalaire(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}getManagerSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllsalaireByManager(this.id).subscribe({next:t=>{this.nom=t[0].managerId.nom,this.prenom=t[0].managerId.prenom,this.managerData=t,this.dtTrigger.next(null),console.log("managerData",this.managerData)}}),this.getcotisationtotale(this.id)}getcotisationtotale(t){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getCotisationTotaleManager(t).subscribe(o=>{this.cotisation=o.cotisation_totale,this.status=o.statut,console.log(o)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(S.q),e.Y36(y.o),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail-manager"]],decls:43,vars:34,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"table-responsive"],[1,"row"],[1,"col-md-9"],[1,"badge","badge-success"],["class","col-md-3",4,"ngIf"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"btn","btn-primary",3,"routerLink"],[1,"text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"div",5),e.TgZ(9,"div",6)(10,"div",7)(11,"div",1)(12,"div",8)(13,"div",9)(14,"h3",2),e._uU(15),e.ALo(16,"translate"),e.TgZ(17,"span",10),e._uU(18),e.qZA()()(),e.YNc(19,Wt,3,3,"div",11),e.qZA()(),e.TgZ(20,"table",12)(21,"thead")(22,"tr")(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA()()(),e.TgZ(41,"tbody"),e.YNc(42,Gt,13,6,"tr",13),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,17,"DetailManager")," ",o.nom," ",o.prenom," "),e.xp6(2),e.Q6J("routerLink",e.DdM(33,zt)),e.xp6(10),e.AsE(" ",e.lcZ(16,19,"CotisationTotaleManager"),": ",o.cotisation," FCFA \xa0"),e.xp6(3),e.Oqu(o.status),e.xp6(1),e.Q6J("ngIf","impay\xe9"===o.status),e.xp6(1),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(25,21,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(28,23,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(31,25,"CHIFFREDAFFAIRE")),e.xp6(3),e.Oqu(e.lcZ(34,27,"Salaire")),e.xp6(3),e.Oqu(e.lcZ(37,29,"Cotisation")),e.xp6(3),e.Oqu(e.lcZ(40,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.managerData))},dependencies:[c.rH,g.sg,g.O5,v.G,u.X$]}),n})();var $t=m(5644);function Kt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"input",15),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.quantity=i)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.quantity)}}function Xt(n,a){if(1&n&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.quantity," ")}}function Ht(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"i",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onEditquantity(i))}),e.qZA()()}}function eo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"a",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onSavequantity(i))}),e._uU(2,"Enregistrer"),e.qZA(),e.TgZ(3,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onClosequantity(i))}),e._uU(4,"Annuler"),e.qZA()()}}function to(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,Kt,2,1,"div",12),e.YNc(5,Xt,2,1,"div",12),e.qZA(),e.TgZ(6,"td"),e.YNc(7,Ht,2,0,"div",13),e.YNc(8,eo,5,0,"div",13),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.productId.name),e.xp6(2),e.Q6J("ngIf",t.isEdit),e.xp6(1),e.Q6J("ngIf",!t.isEdit),e.xp6(2),e.Q6J("ngIf",!t.isEdit),e.xp6(1),e.Q6J("ngIf",t.isEdit)}}const oo=function(){return["/accounting/salaire-bureau"]};let no=(()=>{class n{constructor(t,o,i,r,s,d,h,A){this.route=t,this.countryService=o,this.productService=i,this.stockService=r,this.http=s,this.toastrService=d,this.translateService=h,this.router=A,this.listProducts=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.submitted=!1,this.dropdownSettings={},this.Settings={},this.selectedItem=[],this.keyLanguage="userLanguage",this.columns=["NOM DU PRODUIT","QUANTITE"],this.rows=[],this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllProductsbyBureau()}onEditquantity(t){this.listProducts.forEach(o=>{o.isEdit=!1}),t.isEdit=!0}onClosequantity(t){t.isEdit=!1,window.location.reload()}onSavequantity(t){console.log("productQuantityObj",t);const o={id:t._id,agenceId:t.agenceId._id,productId:t.productId._id,quantity:Number(t.quantity),quantitytotalenmagasin:Number(t.quantitytotalenmagasin)};this.stockService.updateBureauProductstoct(JSON.stringify(o)).subscribe(i=>{500==i.status?this.toastrService.error(i.message):200==i.status?(this.toastrService.success("Quantit\xe9 modifi\xe9e avec succ\xe8s!!"),this.loading=!1,window.location.reload()):this.toastrService.error(i.message)})}getAllProductsbyBureau(){this.id=this.route.snapshot.paramMap.get("id"),this.stockService.getAllBureauProduct(this.id).subscribe(t=>{this.listProducts=t,this.agence=this.listProducts[0].agenceId.bureau_name,this.agenceId=this.id,console.log("this.listProducts",this.listProducts),this.loading=!1;for(let o=0;o<this.listProducts.length;o++)this.rows.push([this.listProducts[o].productId.name,this.listProducts[o].quantity])})}downloadPDF(){const t=new U.jsPDF;var o=new Image;return o.src="assets/logotsw.png",t.addImage(o.src,30,20,10,10),p()(t,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),p()(t,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Stock du bureau ${this.agence}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),p()(t,{head:[this.columns],body:this.rows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),t.save("stock_pays.pdf")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(q.T),e.Y36(L.M),e.Y36($t.q),e.Y36(C.eN),e.Y36(f._W),e.Y36(u.sK),e.Y36(c.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-stockbureau"]],decls:28,vars:16,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fas-printer"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],["class","col-md-5",4,"ngIf"],[4,"ngIf"],[1,"col-md-5"],["min","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["aria-hidden","true",1,"fa","fa-pencil-square-o","px-2",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"a",6),e.NdJ("click",function(){return o.downloadPDF()}),e._uU(10," imprimer "),e._UZ(11,"i",7),e.qZA()(),e.TgZ(12,"div",8)(13,"div",9)(14,"table",10)(15,"thead")(16,"tr")(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,to,9,5,"tr",11),e.qZA()()()()()()),2&t&&(e.xp6(3),e.AsE(" ",e.lcZ(4,7,"StockBureau")," ",o.agence," "),e.xp6(2),e.Q6J("routerLink",e.DdM(15,oo)),e.xp6(13),e.Oqu(e.lcZ(19,9,"NomProduit")),e.xp6(3),e.Oqu(e.lcZ(22,11,"QuantiteDispo")),e.xp6(3),e.Oqu(e.lcZ(25,13,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listProducts))},dependencies:[c.rH,g.sg,g.O5,l.Fj,l.wV,l.JJ,l.qQ,l.On,u.X$]}),n})();function io(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div")(5,"a",35),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeleteCategorie(r._id))}),e._UZ(6,"i",36),e.qZA()(),e._UZ(7,"div"),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.category_name," ")}}function ao(n,a){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function ro(n,a){1&n&&e._UZ(0,"span",37)}function so(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function lo(n,a){if(1&n&&(e.TgZ(0,"div",38),e.YNc(1,so,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.category_name.errors.required)}}const uo=function(n){return{"is-invalid":n}};let co=(()=>{class n{constructor(t,o,i,r,s,d){this.fb=t,this.router=o,this.http=i,this.toastrService=r,this.translateService=s,this.caisseservice=d,this.listCategories=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.categoryForm=new l.cw({category_name:new l.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.categoryForm=this.fb.group({category_name:["",l.kI.required]})}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"faite une recherche"}},this.getAllCategorie()}get f(){return this.categoryForm.controls}onSubmit(){this.submitted=!0,!this.categoryForm?.invalid&&(this.buttonloading=!0,this.caisseservice.registerCategorie(this.categoryForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success("Le information a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1)},error:t=>{this.toastrService.error(t.error.message),this.buttonloading=!1}}))}getAllCategorie(){this.caisseservice.getAllCategorie().subscribe({next:t=>{this.listCategories=t,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteCategorie(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.caisseservice.removeCategorie(t).subscribe({next:o=>{this.toastrService.success(o),this.getAllCategorie()},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(c.F0),e.Y36(C.eN),e.Y36(f._W),e.Y36(u.sK),e.Y36($))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category"]],decls:60,vars:29,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],["routerLink","/accounting/expend",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addExpenseModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addExpenseModal","tabindex","-1","aria-labelledby","addExpenseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addExpenseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],[1,"col-md-6"],["for","date"],[2,"color","red"],["type","text","formControlName","category_name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._uU(3,"back"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"h6",5)(7,"button",6),e._UZ(8,"i",7),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"table",10)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,io,8,1,"tr",11),e.qZA()()()()()(),e.TgZ(24,"div",12)(25,"div",13)(26,"div",14)(27,"div",15)(28,"h3",16),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"button",17),e.qZA(),e.TgZ(32,"div",18)(33,"div",19)(34,"div",20)(35,"form",21),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(36,"button",22),e.YNc(37,ao,3,3,"ng-container",23),e.YNc(38,ro,1,0,"span",24),e.qZA(),e._uU(39," \xa0 "),e.TgZ(40,"button",25),e._uU(41),e.ALo(42,"translate"),e.qZA(),e._UZ(43,"br"),e.TgZ(44,"div",26)(45,"div",19),e._UZ(46,"br")(47,"br"),e.TgZ(48,"div",27)(49,"div",28)(50,"div",29)(51,"div",30)(52,"label",31),e._uU(53),e.ALo(54,"translate"),e.TgZ(55,"span",32),e._uU(56,"*"),e.qZA()()(),e.TgZ(57,"div",20),e._UZ(58,"input",33),e.YNc(59,lo,2,1,"div",34),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(9),e.hij("\xa0",e.lcZ(10,15,"CategoryNew")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,17,"CategoryName")),e.xp6(3),e.Oqu(e.lcZ(21,19,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listCategories),e.xp6(6),e.Oqu(e.lcZ(30,21,"AjouterSortieArgent")),e.xp6(6),e.Q6J("formGroup",o.categoryForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(42,23,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(54,25,"CategoryName")),e.xp6(5),e.Q6J("ngClass",e.VKq(27,uo,o.submitted&&o.f.category_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.category_name.errors))},dependencies:[c.rH,g.mk,g.sg,g.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,v.G,u.X$]}),n})();const oe=function(n){return["/accounting/liste-ca-section",n]};function go(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",9),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"a",10),e._UZ(5,"i",11),e.qZA(),e._uU(6,"\xa0 "),e.qZA()()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,oe,t._id)),e.xp6(1),e.Oqu(t.section_name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,oe,t._id))}}let po=(()=>{class n{constructor(t,o,i,r,s,d,h){this.zoneService=t,this.managerService=o,this.fb=i,this.http=r,this.toastrService=s,this.translateService=d,this.router=h,this.keyLanguage="userLanguage",this.listSection=[],this.loading=!0,this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.getAllSection()}getAllSection(){this.zoneService.getAllSections().subscribe({next:t=>{this.listSection=t,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDetailMLS(t){this.managerService.singleManager(t).subscribe({next:o=>{this.detailMLS=o,console.log(this.detailMLS)},error:o=>{this.toastrService.error(o.statusText)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.T),e.Y36(Q.b),e.Y36(l.qu),e.Y36(C.eN),e.Y36(f._W),e.Y36(u.sK),e.Y36(c.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-prime-chef-section"]],decls:20,vars:9,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn","btn-success",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,go,7,7,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,5,"GestionPrime")," "),e.xp6(7),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(15,7,"NomSection")),e.xp6(5),e.Q6J("ngForOf",o.listSection))},dependencies:[c.rH,g.sg,v.G,u.X$]}),n})();function ho(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",37),e._uU(5),e.qZA(),e.TgZ(6,"td",37)(7,"a",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeleteZone(r._id))}),e._UZ(8,"i",39),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(3),e.Oqu(t.zoneId.zone_name),e.xp6(2),e.hij(" ",t.taux_zone,"% ")}}function mo(n,a){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function _o(n,a){1&n&&e._UZ(0,"span",40)}function Zo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function fo(n,a){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,Zo,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zoneId.errors.required)}}function bo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function Ao(n,a){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,bo,2,0,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_zone.errors.required)}}const vo=function(n){return{"is-invalid":n}};let To=(()=>{class n{constructor(t,o,i,r,s,d,h){this.tauxservice=t,this.zoneService=o,this.fb=i,this.router=r,this.http=s,this.toastrService=d,this.translateService=h,this.listZone=[],this.listTauxZone=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.percentDone=0,this.tauxForm=new l.cw({taux_zone:new l.NI(""),zoneId:new l.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.tauxForm=this.fb.group({taux_zone:["",l.kI.required],zoneId:["",l.kI.required]})}ngOnInit(){this.getAllTauxZone(),this.getAllZone(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.tauxForm.controls}onSubmit(){this.submitted=!0,console.log("form zone",this.tauxForm.value.zoneId[0]._id),this.tauxForm?.invalid||(this.buttonloading=!0,this.tauxservice.registerTauxZone({zoneId:this.tauxForm.value.zoneId[0]._id,taux_zone:this.tauxForm.value.taux_zone}).subscribe({next:o=>{console.log(o),this.toastrService.success("L'op\xe9ration a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllTauxZone(){this.tauxservice.getAllTauxZone().subscribe({next:t=>{this.listTauxZone=t,console.log(this.listZone),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemZoneSelect(t){console.log("onItemSelect",t),console.log("form model",this.tauxForm.value)}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.tauxForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onDeleteZone(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet \xe9l\xe9ment ?")&&this.tauxservice.removeTauxZone(t).subscribe({next:o=>{this.toastrService.success("L'op\xe9ration a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !"),window.location.reload()},error:o=>{this.toastrService.error(o.statusText)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F),e.Y36(q.T),e.Y36(l.qu),e.Y36(c.F0),e.Y36(C.eN),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-taux-zone"]],decls:74,vars:42,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addZoneModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addZoneModal","tabindex","-1","aria-labelledby","addZoneModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addZoneModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","zoneId"],[2,"color","red"],["name","zoneId","formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","taux_zone"],["step","0.01","type","number","placeholder","","id","taux_zone","formControlName","taux_zone",1,"form-control",3,"ngClass"],[1,"text-center"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,ho,9,2,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,mo,3,3,"ng-container",22),e.YNc(41,_o,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(r){return o.onItemZoneSelect(r)})("onDeSelect",function(r){return o.onItemZoneDeSelect(r)}),e.qZA(),e.YNc(61,fo,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",34)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",35),e._uU(67),e.ALo(68,"translate"),e.TgZ(69,"span",31),e._uU(70,"*"),e.qZA()()(),e.TgZ(71,"div",19),e._UZ(72,"input",36),e.YNc(73,Ao,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,22,"gestionTauxZone")),e.xp6(7),e.hij("\xa0",e.lcZ(10,24,"AjouterNouveauTauxZone")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,26,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(21,28,"TauxPrimeZone")),e.xp6(3),e.Oqu(e.lcZ(24,30,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listTauxZone),e.xp6(6),e.Oqu(e.lcZ(33,32,"AjouterNouveauTauxZone")),e.xp6(6),e.Q6J("formGroup",o.tauxForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,34,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,36,"SelectionZone")),e.xp6(5),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zoneId.errors),e.xp6(6),e.hij("",e.lcZ(68,38,"TauxPrimeZone")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(40,vo,o.submitted&&o.f.taux_zone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_zone.errors))},dependencies:[g.mk,g.sg,g.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,M.OP,v.G,u.X$]}),n})();function xo(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",39),e._uU(8),e.qZA(),e.TgZ(9,"td",39)(10,"a",40),e._UZ(11,"i",41),e.qZA(),e._uU(12,"\xa0 "),e.TgZ(13,"a",42),e._UZ(14,"i",43),e.qZA()()()),2&n){const t=a.$implicit;e.xp6(3),e.Oqu(t.zoneId.zone_name),e.xp6(3),e.Oqu(t.sectionId.section_name),e.xp6(2),e.hij(" ",t.taux_section,"% ")}}function Co(n,a){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function So(n,a){1&n&&e._UZ(0,"span",44)}function yo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function qo(n,a){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,yo,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zoneId.errors.required)}}function wo(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function Lo(n,a){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,wo,2,0,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_section.errors.required)}}const Uo=function(n){return{"is-invalid":n}};let Fo=(()=>{class n{constructor(t,o,i,r,s,d,h,A,x){this.agenceService=t,this.sectionService=o,this.tauxservice=i,this.zoneService=r,this.fb=s,this.router=d,this.http=h,this.toastrService=A,this.translateService=x,this.listZone=[],this.listTauxZone=[],this.listTauxSection=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownZoneSettings={},this.listSection=[],this.dropdownSectionSettings={},this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.percentDone=0,this.tauxsectionForm=new l.cw({taux_section:new l.NI(""),zoneId:new l.NI(""),sectionId:new l.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.tauxsectionForm=this.fb.group({taux_section:["",l.kI.required],zoneId:["",l.kI.required],sectionId:["",l.kI.required]})}ngOnInit(){this.getAllTauxSection(),this.getAllZone(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSectionSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.tauxsectionForm.controls}onSubmit(){this.submitted=!0,console.log("form section",this.tauxsectionForm.value.zoneId[0]._id),this.tauxsectionForm?.invalid||(this.buttonloading=!0,this.tauxservice.registerTauxSection({zoneId:this.tauxsectionForm.value.zoneId[0]._id,sectionId:this.tauxsectionForm.value.sectionId[0]._id,taux_section:this.tauxsectionForm.value.taux_section}).subscribe({next:o=>{console.log(o),this.toastrService.success("L'op\xe9ration a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllTauxSection(){this.tauxservice.getAllTauxSection().subscribe({next:t=>{this.listTauxSection=t,console.log(this.listZone),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemZoneSelect(t){console.log("onItemSelect",t),this.sectionService.getAllSectionsByZone(t._id).subscribe({next:o=>{this.listSection=o,console.log("section",this.listSection),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemZoneDeSelect(t){console.log("onItem DeSelect",t)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownZoneSettings=Object.assign({},this.dropdownZoneSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownZoneSettings=Object.assign({},this.dropdownZoneSettings,{allowSearchFilter:this.ShowFilter})}onItemSectionSelect(t){console.log("onItemSelect",t)}onItemSectionDeSelect(t){console.log("onItem DeSelect",t)}onDropDownSectionClose(){console.log("dropdown closed")}toogleSectionShowAll(){this.showAll=!this.showAll,this.dropdownSectionSettings=Object.assign({},this.dropdownSectionSettings,{enableCheckAll:this.showAll})}toogleSectionShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSectionSettings=Object.assign({},this.dropdownSectionSettings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.q),e.Y36(q.T),e.Y36(F),e.Y36(q.T),e.Y36(l.qu),e.Y36(c.F0),e.Y36(C.eN),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-taux-chefsection"]],decls:88,vars:51,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addSectionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addSectionModal","tabindex","-1","aria-labelledby","addSectionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addSectionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","zoneId"],[2,"color","red"],["name","zoneId","formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","sectionId"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","taux_section"],["step","0.01","type","number","placeholder","","id","taux_section","formControlName","taux_section",1,"form-control",3,"ngClass"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],["onclick","onDeleteZone(zone._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,xo,15,3,"tr",10),e.qZA()()()()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"div",13)(33,"div",14)(34,"h3",15),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"button",16),e.qZA(),e.TgZ(38,"div",17)(39,"div",18)(40,"div",19)(41,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(42,"button",21),e.YNc(43,Co,3,3,"ng-container",22),e.YNc(44,So,1,0,"span",23),e.qZA(),e._uU(45,"\xa0 "),e.TgZ(46,"button",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"br"),e.TgZ(50,"div",25)(51,"div",26)(52,"div",18)(53,"div",27)(54,"div",28)(55,"div",29)(56,"div",19)(57,"label",30),e._uU(58),e.ALo(59,"translate"),e.TgZ(60,"span",31),e._uU(61,"*"),e.qZA()()(),e.TgZ(62,"div",19)(63,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(r){return o.onItemZoneSelect(r)})("onDeSelect",function(r){return o.onItemZoneDeSelect(r)}),e.qZA(),e.YNc(64,qo,2,1,"div",33),e.qZA()()()(),e.TgZ(65,"div",27)(66,"div",28)(67,"div",29)(68,"div",19)(69,"label",34),e._uU(70),e.ALo(71,"translate"),e.TgZ(72,"span",31),e._uU(73,"*"),e.qZA()()(),e.TgZ(74,"div",19)(75,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onDropDownSectionClose()})("onSelect",function(r){return o.onItemSectionSelect(r)})("onDeSelect",function(r){return o.onItemSectionDeSelect(r)}),e.qZA()()()()(),e.TgZ(76,"div",36)(77,"div",28)(78,"div",29)(79,"div",19)(80,"label",37),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",31),e._uU(84,"*"),e.qZA()()(),e.TgZ(85,"div",19),e._UZ(86,"input",38),e.YNc(87,Lo,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,27,"gestionTauxSection")),e.xp6(7),e.hij("\xa0",e.lcZ(10,29,"AjouterNouveauTauxSection")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,31,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(21,33,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(24,35,"TauxPrimeZone")),e.xp6(3),e.Oqu(e.lcZ(27,37,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listTauxSection),e.xp6(6),e.Oqu(e.lcZ(36,39,"AjouterNouveauTauxSection")),e.xp6(6),e.Q6J("formGroup",o.tauxsectionForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(48,41,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(59,43,"SelectionZone")),e.xp6(5),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownZoneSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zoneId.errors),e.xp6(6),e.Oqu(e.lcZ(71,45,"SelectionSection")),e.xp6(5),e.Q6J("data",o.listSection)("disabled",o.disabled)("settings",o.dropdownSectionSettings),e.xp6(6),e.hij("",e.lcZ(82,47,"TauxPrimeSection")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(49,Uo,o.submitted&&o.f.taux_section.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.taux_section.errors))},dependencies:[g.mk,g.sg,g.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,M.OP,v.G,u.X$]}),n})();const Mo=["class","component"];function Io(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",51),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onClickSubmit(i.cotisation,i.taux,i.netapayer))}),e._uU(2,"Payer"),e.qZA()()}}const Oo=function(){return["/accounting/garantie-manager"]};let ko=(()=>{class n{constructor(t,o,i,r,s){this.route=t,this.agenceservice=o,this.salaireService=i,this.toastrService=r,this.translateService=s,this.managerData=[],this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.getManagerSalaire()}getManagerSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllsalaireByManager(this.id).subscribe({next:t=>{this.nom=t[0].managerId.nom,this.prenom=t[0].managerId.prenom,this.date_naiss=t[0].managerId.date_naiss,this.telephone=t[0].managerId.telephone,this.lieu_naiss=t[0].managerId.lieu_naiss,this.piece=t[0].managerId.piece,this.num_piece=t[0].managerId.num_piece,this.grade=t[0].managerId.grade,this.genre=t[0].managerId.genre,this.situation_matrimonial=t[0].managerId.situation_matrimonial,this.ethnie=t[0].managerId.ethnie,this.religion=t[0].managerId.religion,this.maladie_exist=t[0].managerId.maladie_exist,this.nbr_enfant=t[0].managerId.nbr_enfant,this.managerData=t,console.log("managerData",this.managerData)}}),this.getcotisationtotale(this.id)}getcotisationtotale(t){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getCotisationTotaleManager(t).subscribe(o=>{this.cotisation=o.cotisation_totale,this.status=o.statut})}onChange(t,o){console.log(Number(t.target.value)),this.netapayer=o+o*Number(t.target.value),console.log(o)}onClickSubmit(t,o,i){const r={datecreated:Date(),managerId:this.route.snapshot.paramMap.get("id"),cotisation_totale:t,gratification:t*o};this.salaireService.payerCotisationsalaireManager(r).subscribe({next:s=>{this.toastrService.success("L'op\xe9ration a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !"),window.location.reload()},error:s=>{console.log(s),this.toastrService.error(s.error)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(S.q),e.Y36(y.o),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-paiement-garantie",8,"component"]],attrs:Mo,decls:204,vars:86,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"container"],[1,"row"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],[1,"col-md-12"],["for","nom"],["type","text","readonly","","placeholder","","id","nom",1,"form-control",3,"value"],[1,"col-md-6"],["for","prenom"],["type","text","readonly","",1,"form-control",3,"value"],["for","genre"],["readonly","",1,"form-control",3,"value"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","readonly","","placeholder","","id","date_naiss",1,"form-control",3,"value"],["for","lieu_naiss"],["type","text","readonly","","id","lieu_naiss",1,"form-control",3,"value"],["for","piece"],["readonly","","id","piece",1,"form-control",3,"value"],["for","num_piece"],["for","situation_matrimonial"],["for","grade"],["for","ethnie"],["for","religion"],["type","text","readonly","","id","religion",1,"form-control",3,"value"],["for","maladie_exist"],["for","nbr_enfant"],["type","number","readonly","","id","nbr_enfant",1,"form-control",3,"value"],["type","number",1,"form-control",3,"ngModel","value","ngModelChange"],["id","",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["value","0.01"],["value","0.02"],["value","0.03"],["value","0.04"],["value","0.05"],["value","0.06"],["value","0.07"],["value","0.08"],["value","0.09"],["value","0.10"],["type","number","value","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"h3"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",6)(13,"div",7)(14,"div",8),e._UZ(15,"br")(16,"br"),e.TgZ(17,"div",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"label",13),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",12),e._UZ(25,"input",14),e.qZA()()()(),e.TgZ(26,"div",9)(27,"div",10)(28,"div",11)(29,"div",15)(30,"label",16),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.TgZ(33,"div",12),e._UZ(34,"input",17),e.qZA()()()(),e.TgZ(35,"div",9)(36,"div",10)(37,"div",11)(38,"div",15)(39,"label",13),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"div",12),e._UZ(43,"input",17),e.qZA()()()(),e.TgZ(44,"div",9)(45,"div",10)(46,"div",11)(47,"div",15)(48,"label",18),e._uU(49),e.ALo(50,"translate"),e.qZA()(),e.TgZ(51,"div",12),e._UZ(52,"input",19),e.qZA()()()()(),e.TgZ(53,"div",8),e._UZ(54,"br")(55,"br"),e.TgZ(56,"div",20)(57,"div",10)(58,"div",11)(59,"div",12)(60,"label",21),e._uU(61),e.ALo(62,"translate"),e.qZA()(),e.TgZ(63,"div",12),e._UZ(64,"input",22),e.qZA()()()(),e.TgZ(65,"div",20)(66,"div",10)(67,"div",11)(68,"div",12)(69,"label",23),e._uU(70),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"div",12),e._UZ(73,"input",24),e.qZA()()()(),e.TgZ(74,"div",20)(75,"div",10)(76,"div",11)(77,"div",12)(78,"label",25),e._uU(79),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",12),e._UZ(82,"input",26),e.qZA()()()()(),e.TgZ(83,"div",8),e._UZ(84,"br")(85,"br"),e.TgZ(86,"div",9)(87,"div",10)(88,"div",11)(89,"div",12)(90,"label",27),e._uU(91),e.ALo(92,"translate"),e.qZA()(),e.TgZ(93,"div",12),e._UZ(94,"input",17),e.qZA()()()(),e.TgZ(95,"div",20)(96,"div",10)(97,"div",11)(98,"div",12)(99,"label",28),e._uU(100),e.ALo(101,"translate"),e.qZA()(),e.TgZ(102,"div",12),e._UZ(103,"input",17),e.qZA()()()(),e.TgZ(104,"div",20)(105,"div",10)(106,"div",11)(107,"div",12)(108,"label",29),e._uU(109),e.ALo(110,"translate"),e.qZA()(),e.TgZ(111,"div",12),e._UZ(112,"input",17),e.qZA()()()()(),e.TgZ(113,"div",8),e._UZ(114,"br")(115,"br"),e.TgZ(116,"div",9)(117,"div",10)(118,"div",11)(119,"div",12)(120,"label",30),e._uU(121),e.ALo(122,"translate"),e.qZA()(),e.TgZ(123,"div",12),e._UZ(124,"input",17),e.qZA()()()(),e.TgZ(125,"div",9)(126,"div",10)(127,"div",11)(128,"div",12)(129,"label",31),e._uU(130),e.ALo(131,"translate"),e.qZA()(),e.TgZ(132,"div",12),e._UZ(133,"input",32),e.qZA()()()(),e.TgZ(134,"div",9)(135,"div",10)(136,"div",11)(137,"div",12)(138,"label",33),e._uU(139),e.ALo(140,"translate"),e.qZA()(),e.TgZ(141,"div",12),e._UZ(142,"input",17),e.qZA()()()(),e.TgZ(143,"div",9)(144,"div",10)(145,"div",11)(146,"div",12)(147,"label",34),e._uU(148),e.ALo(149,"translate"),e.qZA()(),e.TgZ(150,"div",12),e._UZ(151,"input",35),e.qZA()()()()()()()(),e.TgZ(152,"div",4)(153,"div",5)(154,"h3"),e._uU(155),e.ALo(156,"translate"),e.qZA()(),e.TgZ(157,"div",6)(158,"div",7)(159,"div",8)(160,"table")(161,"thead")(162,"th"),e._uU(163),e.ALo(164,"translate"),e.qZA(),e.TgZ(165,"th"),e._uU(166),e.ALo(167,"translate"),e.qZA(),e.TgZ(168,"th"),e._uU(169),e.ALo(170,"translate"),e.qZA(),e.TgZ(171,"th"),e._uU(172),e.ALo(173,"translate"),e.qZA()(),e.TgZ(174,"tbody")(175,"td")(176,"input",36),e.NdJ("ngModelChange",function(r){return o.cotisationmanager=r}),e.qZA()(),e.TgZ(177,"td")(178,"select",37),e.NdJ("ngModelChange",function(r){return o.taux=r})("change",function(r){return o.onChange(r,o.cotisation)}),e.TgZ(179,"option",38),e._uU(180,"selectioner un taux de gratification"),e.qZA(),e.TgZ(181,"option",39),e._uU(182,"1%"),e.qZA(),e.TgZ(183,"option",40),e._uU(184,"2%"),e.qZA(),e.TgZ(185,"option",41),e._uU(186,"3%"),e.qZA(),e.TgZ(187,"option",42),e._uU(188,"4%"),e.qZA(),e.TgZ(189,"option",43),e._uU(190,"5%"),e.qZA(),e.TgZ(191,"option",44),e._uU(192,"6%"),e.qZA(),e.TgZ(193,"option",45),e._uU(194,"7%"),e.qZA(),e.TgZ(195,"option",46),e._uU(196,"8%"),e.qZA(),e.TgZ(197,"option",47),e._uU(198,"9%"),e.qZA(),e.TgZ(199,"option",48),e._uU(200,"10%"),e.qZA()()(),e.TgZ(201,"td")(202,"input",49),e.NdJ("ngModelChange",function(r){return o.netapayer=r}),e.qZA()(),e.YNc(203,Io,3,0,"td",50),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.lnq("",e.lcZ(4,43,"DetailManager")," ",o.nom," ",o.prenom,""),e.xp6(2),e.Q6J("routerLink",e.DdM(85,Oo)),e.xp6(5),e.Oqu(e.lcZ(11,45,"InfoManager")),e.xp6(12),e.hij("",e.lcZ(23,47,"Nom")," "),e.xp6(3),e.s9C("value",o.nom),e.xp6(6),e.Oqu(e.lcZ(32,49,"Prenom")),e.xp6(3),e.s9C("value",o.prenom),e.xp6(6),e.Oqu(e.lcZ(41,51,"Telephone")),e.xp6(3),e.s9C("value",o.telephone),e.xp6(6),e.Oqu(e.lcZ(50,53,"Genre")),e.xp6(3),e.s9C("value",o.genre),e.xp6(9),e.hij("",e.lcZ(62,55,"DateNaissance")," "),e.xp6(3),e.s9C("value",o.date_naiss),e.xp6(6),e.hij("",e.lcZ(71,57,"LieuNaiss")," "),e.xp6(3),e.s9C("value",o.lieu_naiss),e.xp6(6),e.hij("",e.lcZ(80,59,"Piece")," "),e.xp6(3),e.s9C("value",o.piece),e.xp6(9),e.Oqu(e.lcZ(92,61,"NumeroPiece")),e.xp6(3),e.s9C("value",o.num_piece),e.xp6(6),e.Oqu(e.lcZ(101,63,"SituationMatrimoniale")),e.xp6(3),e.s9C("value",o.situation_matrimonial),e.xp6(6),e.Oqu(e.lcZ(110,65,"Grade")),e.xp6(3),e.s9C("value",o.grade),e.xp6(9),e.Oqu(e.lcZ(122,67,"Ethenie")),e.xp6(3),e.s9C("value",o.ethnie),e.xp6(6),e.Oqu(e.lcZ(131,69,"Religion")),e.xp6(3),e.s9C("value",o.religion),e.xp6(6),e.Oqu(e.lcZ(140,71,"MaladiEntecedent")),e.xp6(3),e.s9C("value",o.maladie_exist),e.xp6(6),e.Oqu(e.lcZ(149,73,"NombreEnfant")),e.xp6(3),e.s9C("value",o.nbr_enfant),e.xp6(4),e.Oqu(e.lcZ(156,75,"CotisationTotaleManager")),e.xp6(8),e.Oqu(e.lcZ(164,77,"CotisationTotaleManager")),e.xp6(3),e.Oqu(e.lcZ(167,79,"gratis")),e.xp6(3),e.Oqu(e.lcZ(170,81,"NetPayer")),e.xp6(3),e.Oqu(e.lcZ(173,83,"Action")),e.xp6(4),e.s9C("value",o.cotisation),e.Q6J("ngModel",o.cotisationmanager),e.xp6(2),e.Q6J("ngModel",o.taux),e.xp6(24),e.Q6J("ngModel",o.netapayer),e.xp6(1),e.Q6J("ngIf","impay\xe9"===o.status))},dependencies:[c.rH,g.O5,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.On,u.X$]}),n})();function Do(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",7),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.productId.name," "),e.xp6(2),e.hij(" ",t.quantity," ")}}const Eo=function(n){return["/accounting/weekendys-list",n]};let No=(()=>{class n{constructor(t,o,i,r,s,d,h,A){this.route=t,this.router=o,this.toastrService=i,this.translateService=r,this.productService=s,this.agenceService=d,this.salaireService=h,this.weekendyService=A,this.listProduits=[],this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new b.x,this.loading=!0,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllProductbyBureau(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}}}getAllProductbyBureau(){this.id=this.route.snapshot.paramMap.get("id"),this.weekendyService.getStockProductByBureau(this.id).subscribe(t=>{this.agence=t.bureau_name,this.listProduits=t,this.dtTrigger.next(null),this.loading=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(c.F0),e.Y36(f._W),e.Y36(u.sK),e.Y36(L.M),e.Y36(S.q),e.Y36(y.o),e.Y36(I.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-produit-dispo-by-bureau"]],decls:19,vars:17,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"row-border","hover","table","table-bordered"],["width","25%"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"table",4)(9,"thead")(10,"tr")(11,"th",5),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th",5),e._uU(15),e.ALo(16,"translate"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,Do,5,2,"tr",6),e.qZA()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,7,"VoirStockduBureau")," ",e.lcZ(5,9,"de")," ",o.agence," "),e.xp6(3),e.Q6J("routerLink",e.VKq(15,Eo,o.bureauId)),e.xp6(6),e.Oqu(e.lcZ(13,11,"Produit")),e.xp6(3),e.Oqu(e.lcZ(16,13,"Quantite")),e.xp6(3),e.Q6J("ngForOf",o.listProduits))},dependencies:[c.rH,g.sg,u.X$]}),n})();function Yo(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.zoneId.zone_name),e.xp6(2),e.AsE("",t.managerId.nom," ",t.managerId.prenom," ")}}function Jo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"a",19),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getprimesupervisor(r.chiffreDaf,r.bureauId.zoneId))}),e._UZ(8,"i",20),e._uU(9," payer la prime"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,2,t.mois,"MMMM-yyyy","fr")),e.xp6(3),e.hij("",t.chiffreDaf," FCFA ")}}w.kL.register(...w.zX);let Qo=(()=>{class n{constructor(t,o,i,r,s,d,h,A,x,O,k,en){this.sectionService=t,this.managerService=o,this.fb=i,this.http=r,this.tauxservice=s,this.route=d,this.countryservice=h,this.toastrService=A,this.translateService=x,this.router=O,this.salaireService=k,this.serviceAfffectation=en,this.datasection=[],this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.mois[this.now.getMonth()],this.year=this.now.getFullYear(),this.disabled=!1,this.labeldata=[],this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaSection=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.anneeList=[],this.dropdownSettingsAnnee={},this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dtoptions={},this.dtTrigger=new b.x,this.keyLanguage="userLanguage",this.filterForm=new l.cw({annee:new l.NI("")}),this.translateService.use(localStorage.getItem(this.keyLanguage)),this.filterForm=this.fb.group({annee:[""]})}ngOnInit(){this.getlistcabysection(),this.getAllCaSection(),this.getALLannee(),this.dropdownSettingsAnnee={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"value",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.filterca()}getlistcabysection(){const t=this.route.snapshot.paramMap.get("id");this.serviceAfffectation.getAllMLSBychefSection(t).subscribe({next:o=>{this.datasection=o,this.sectionNom=o[0].zoneId.section_name,console.log("data mls and section",this.datasection)},error:o=>{this.toastrService.error(o.statusText)}})}getAllCaSection(){this.id=this.route.snapshot.paramMap.get("id"),this.sectionService.getAllSectionCa(this.id).subscribe({next:t=>{this.listCaSection=t;const o=window.navigator.language||window.navigator.language;console.log("navigator language: "+o),Z.locale(o),this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.log(t),this.loading=!1}})}filterca(){const t={sectionId:this.route.snapshot.paramMap.get("id"),dateStart:this.filterForm.value.annee};this.sectionService.getAllSectionCaBymois(t).subscribe({next:o=>{for(let i=0;i<o.length;i++)this.labeldata.push(Z(o[i].mois.valueMois)),this.colordata.push(Z(o[i].mois.codeColor)),this.realdata.push(o[i].casection)}}),console.log(t)}getprimesupervisor(t,o){this.tauxservice.singleTauxBYZone(o).subscribe({next:s=>{this.primeSupervisor=t*s[0].taux_zone/100,console.log(this.primeSupervisor)}});const i=new U.default;var r=new Image;return r.src="assets/logotsw.png",i.addImage(r.src,30,20,10,10),p()(i,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),p()(i,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Bureau:${this.sectionNom}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),p()(i,{body:[[{content:`Bulletin de paie du mois de ${this.month} ${this.year}`,styles:{halign:"center",fontSize:13,fillColor:"#B0B2EA"}}]],theme:"plain"}),p()(i,{body:[[{content:`Chiffre d'affaire: \n${t}`,styles:{halign:"right",fontSize:14,textColor:"#3366ff"}}]],theme:"plain"}),p()(i,{head:[["LIBELLE","MONTANT"]],body:[["PRIME",`${this.primeSupervisor}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),i.save("bulletin_paie.pdf")}RenderChart(t,o,i,r,s){new w.kL(s,{type:r,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:o,backgroundColor:i,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}onDetailSZ(t){this.managerService.singleManager(t).subscribe({next:o=>{this.detailca=o,console.log(this.detailca)},error:o=>{this.toastrService.error(o.statusText)}})}onItemSelectAnnee(t){this.filterForm.value.annee=t._id,console.log("ann\xe9e",t._id)}onItemDeSelectAnnee(t){console.log("onItem DeSelect",t)}onDropDownCloseAnnee(){console.log("dropdown closed")}toogleShowAllAnnee(){this.showAll=!this.showAll,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{enableCheckAll:this.showAll})}toogleShowFilterAnnee(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.T),e.Y36(Q.b),e.Y36(l.qu),e.Y36(C.eN),e.Y36(F),e.Y36(c.gz),e.Y36(q.T),e.Y36(f._W),e.Y36(u.sK),e.Y36(c.F0),e.Y36(y.o),e.Y36(te.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-ca-section"]],decls:53,vars:27,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/paie-prime-sz",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"text-end"],[3,"formGroup","ngSubmit"],["for","annee"],["id","annee","formControlName","annee",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,""],["id","barchart"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-print"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Yo,5,3,"tr",8),e.qZA()()()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"table",7)(25,"thead")(26,"tr")(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,Jo,10,6,"tr",8),e.qZA()()()()(),e.TgZ(38,"div",9)(39,"div",10)(40,"div",4)(41,"div",11)(42,"h6",12),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"div",13)(46,"form",14),e.NdJ("ngSubmit",function(){return o.filterca()}),e.TgZ(47,"label",15),e._uU(48,"Filtrer par ann\xe9e"),e.qZA(),e.TgZ(49,"ng-multiselect-dropdown",16),e.NdJ("onDropDownClose",function(){return o.onDropDownCloseAnnee()})("onSelect",function(r){return o.onItemSelectAnnee(r)})("onDeSelect",function(r){return o.onItemDeSelectAnnee(r)}),e.qZA()()()(),e.TgZ(50,"div",5)(51,"div",17),e._UZ(52,"canvas",18),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,13,"CHIFFREDAFFAIRESection")," "),e.xp6(11),e.Oqu(e.lcZ(15,15,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(18,17,"nomchefSection")),e.xp6(3),e.Q6J("ngForOf",o.datasection),e.xp6(8),e.Oqu(e.lcZ(29,19,"MoisDe")),e.xp6(3),e.hij("",e.lcZ(32,21,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Oqu(e.lcZ(35,23,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listCaSection),e.xp6(6),e.hij("",e.lcZ(44,25,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Q6J("formGroup",o.filterForm),e.xp6(3),e.Q6J("data",o.anneeList)("disabled",o.disabled)("settings",o.dropdownSettingsAnnee))},dependencies:[c.rH,g.sg,l._Y,l.JJ,l.JL,l.sg,l.u,M.OP,g.uU,u.X$]}),n})(),Bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-payroll-doctor"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"payroll-doctor works!"),e.qZA())}}),n})(),Po=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-payroll-kine"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"payroll-kine works!"),e.qZA())}}),n})();var jo=m(982);const z=function(n){return{"is-invalid":n}};function Ro(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",32)(2,"input",33,34),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.name=i)}),e.qZA()(),e.TgZ(4,"td")(5,"input",35,36),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.qty=i)})("input",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.addItem(r,r.qty))}),e.qZA()(),e.TgZ(7,"td")(8,"input",37,38),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.price=i)}),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.qZA()()}if(2&n){const t=a.$implicit,o=a.index,i=e.MAs(3),r=e.MAs(6),s=e.MAs(9);e.oxw();const d=e.MAs(10);e.xp6(2),e.MGl("name","productName[",o,"]"),e.Q6J("ngClass",e.VKq(9,z,d.submitted&&i.invalid))("ngModel",t.name),e.xp6(3),e.Q6J("ngClass",e.VKq(11,z,d.submitted&&r.invalid))("ngModel",t.qty),e.xp6(3),e.MGl("name","price[",o,"]"),e.Q6J("ngClass",e.VKq(13,z,d.submitted&&s.invalid))("ngModel",t.price),e.xp6(3),e.hij(" ",t.price*t.qty||0," ")}}const Wo=function(n){return["/accounting/vente-by-doctor",n]},ne=function(){return{standalone:!0}},P="weekendy";function zo(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"a",13),e._UZ(8,"i",14),e.qZA(),e._uU(9,"\xa0 "),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(e.xi3(3,2,t.mois,"MMMM-yyyy")),e.xp6(3),e.hij("",t.caTotal," FCFA")}}const Vo=function(n){return["/accounting/create-vente-doctor",n]},$o=[{path:"",component:ae},{path:"weekendy",component:de},{path:"stock-disponible-au-bureau",component:No},{path:"expend",component:Oe},{path:"taux-zone",component:To},{path:"taux-section",component:Fo},{path:"settings",component:Ke},{path:"paie-prime-sz",component:it},{path:"paie-prime-sc",component:po},{path:"weekendys-list/:id",component:ot},{path:"payroll/:id",component:fe},{path:"salaire-bureau",component:_t},{path:"list-salaire-du-bureau/:id",component:At},{path:"edit-settings/:id",component:kt},{path:"liste-ca-zone/:id",component:Nt},{path:"liste-ca-section/:id",component:Qo},{path:"garantie-manager",component:st},{path:"paiement-garantie/:id",component:ko},{path:"vente-docteur",component:Bt},{path:"chiffre-affaire-des-pays",component:jt},{path:"detail-manager/:id",component:Vt},{path:"detail-weekendy/:id",component:ct},{path:"stock-bureau/:id",component:no},{path:"category",component:co},{path:"create-vente-doctor/:id",component:(()=>{class n{constructor(t,o,i,r,s,d,h,A,x,O,k){this.fb=t,this.route=i,this.router=r,this.agenceService=s,this.employeService=d,this.productService=h,this.weekendyService=A,this.toastrService=x,this.salaireService=O,this.translateService=k,this.submitted=!1,this.myDate=Date.now(),this.dropdownSettings={},this.dropdownSettingsAnnee={},this.dropdownSettingsDoctor={},this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.listProducts=[],this.listBureau=[],this.loading=!0,this.liveDemoVisible=!1,this.subscribers=new Array,this.chiffreAf=0,this.hoveredDate=null,this.toDate=null,this.weekend=new jo.O,this.dtoptions={},this.dtTrigger=new b.x,this.moisList=[],this.doctorList=[],this.anneeList=[],this.keyLanguage="userLanguage",this.WEEKENDY_DOCTEUR_KEY="weekendy",this.translateService.use(localStorage.getItem(this.keyLanguage)),this.fromDate=o.getToday(),this.toDate=o.getNext(o.getToday(),"d",30)}get(){return this.subscriptionObservable=new K.y(t=>(this.subscribers.push(t),t.next(this.retrieve()),()=>{this.subscribers=this.subscribers.filter(o=>o!==t)}))}ngOnInit(){this.getBureau(),this.getAllProducts(),this.getDoctor(),this.getALLmois(),this.getAllannee(),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"valueMois",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSettingsAnnee={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"value",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSettingsDoctor={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"nom",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getBureau(){this.agenceService.siegeBureau("TSW-CI").subscribe({next:o=>{this.agence=o.bureau_name,this.bureauId=o._id,console.log(o)},error:o=>{console.log(o),this.loading=!1}})}getALLmois(){this.salaireService.getAllMois().subscribe(t=>{this.moisList=t,console.log(this.moisList)})}getAllannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}getAlldoctor(){this.employeService.getAllDoctor().subscribe(t=>{this.doctorList=t,console.log(this.doctorList)})}getAllProducts(){this.productService.getAllProducts().subscribe({next:t=>{this.listProducts=t,console.log(this.listProducts),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}create(t){this.submitted=!0,console.log("form",t.value);const o={bureauId:this.bureauId,doctorId:this.doctorId,mois:this.mois,annee:this.annee,items:JSON.parse(localStorage.getItem(P)).items,caTotal:JSON.parse(localStorage.getItem(P)).caTotal,createdAt:Date()};console.log("formData",o),this.weekendyService.createWeekendyDocteur(o).subscribe({next:i=>{console.log(i),this.toastrService.success("Le information a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(localStorage.removeItem(P),window.location.reload(),this.router.navigate(["/accounting/vente-by-doctor",this.doctorId]),this.buttonloading=!1)},error:i=>{console.log(i),this.toastrService.error(i.error.message),this.buttonloading=!1}})}empty(){const t=new D.O;this.save(t),this.dispatch(t)}addItem(t,o){const i=this.retrieve();let r=i.items.find(s=>s.productId===t._id);void 0===r&&(r=new X.Z,r.productId=t._id,i.items.push(r),console.log("weekendy==> ",i)),r.quantity=o,i.items=i.items.filter(s=>s.quantity>0),this.calculateCart(i),this.save(i),this.dispatch(i),this.getvaluemontant()}calculateCart(t){t.caTotal=t.items.map(o=>o.quantity*this.listProducts.find(i=>i._id===o.productId).price).reduce((o,i)=>o+i,0)}retrieve(){const t=new D.O,o=localStorage.getItem(this.WEEKENDY_DOCTEUR_KEY);return o&&t.updateFrom(JSON.parse(o)),t}save(t){localStorage.setItem(this.WEEKENDY_DOCTEUR_KEY,JSON.stringify(t))}dispatch(t){this.subscribers.forEach(o=>{try{o.next(t)}catch{}})}getlocaldata(){return this.ValeurMontant=localStorage.getItem(this.WEEKENDY_DOCTEUR_KEY),console.log(this.ValeurMontant),this.ValeurMontant}getvaluemontant(){this.chiffreAf=JSON.parse(localStorage.getItem(P)).caTotal}onItemSelect(t){this.mois=t._id,console.log("onItemSelect",this.mois)}onItemDeSelect(t){console.log("onItem DeSelect",t)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSelectAnnee(t){this.annee=t._id,console.log("ann\xe9e",this.annee)}onItemDeSelectAnnee(t){console.log("onItem DeSelect",t)}onDropDownCloseAnnee(){console.log("dropdown closed")}toogleShowAllAnnee(){this.showAll=!this.showAll,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{enableCheckAll:this.showAll})}toogleShowFilterAnnee(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{allowSearchFilter:this.ShowFilter})}onItemSelectDoctor(t){this.doctorId=t._id,console.log("docteur",this.doctorId)}onItemDeSelectDoctor(t){console.log("onItem DeSelect",t)}onDropDownCloseDoctor(){console.log("dropdown closed")}toogleShowAllDoctor(){this.showAll=!this.showAll,this.dropdownSettingsDoctor=Object.assign({},this.dropdownSettingsDoctor,{enableCheckAll:this.showAll})}toogleShowFilterDoctor(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsDoctor=Object.assign({},this.dropdownSettingsDoctor,{allowSearchFilter:this.ShowFilter})}getDoctor(){this.doctorId=this.route.snapshot.paramMap.get("id"),console.log(this.doctorId),this.employeService.singleEEmployer(this.doctorId).subscribe({next:t=>{this.doctor=t.nom,this.doctorId=t._id,console.log(this.doctor),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}annuler(){this.router.navigate(["/accounting/vente-by-doctor",this.doctorId])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(J.vL),e.Y36(c.gz),e.Y36(c.F0),e.Y36(S.q),e.Y36(G.g),e.Y36(L.M),e.Y36(I.x),e.Y36(f._W),e.Y36(y.o),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-vente-doctor"]],decls:102,vars:70,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"row"],[1,"col-md-12"],[3,"ngSubmit"],["weekendyForm","ngForm"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"container-fluid","pt-2","mb-5"],[1,"card","border-secondary"],[1,"card-body"],[1,"card-title"],[1,"col-md-3"],[1,"form-group"],["for","name"],["type","hidden","name","bureauId","id","bureauId",1,"form-control",3,"ngModel","value","ngModelChange"],[1,"form-control"],["for","doctor"],["type","text",1,"form-control",3,"value"],["for","mois"],["id","weekendy_mois",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],["for","annee"],["id","annee",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],[1,"card","border-secondary","mt-2"],[1,"card-title","d-flex","justify-content-between"],[1,"table"],["width","25%"],[4,"ngFor","ngForOf"],[1,"table","table-sm","table-dark"],["scope","col"],["scope","row"],["type","text","id","productName","required","","readonly","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductName","ngModel"],["type","number","name","qty","id","qty","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange","input"],["ProductQty","ngModel"],["type","number","id","price","required","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductPrice","ngModel"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(i);const s=e.MAs(10);return e.KtG(o.create(s))}),e.TgZ(11,"button",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",9),e.NdJ("click",function(){return o.annuler()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",10)(19,"div",4)(20,"div",5)(21,"div",11)(22,"div",12),e._UZ(23,"h4",13),e.TgZ(24,"div",4)(25,"div",14)(26,"div",15)(27,"label",16),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"input",17),e.NdJ("ngModelChange",function(s){return o.weekend.bureauId=s}),e.qZA(),e.TgZ(31,"label",18),e._uU(32),e.qZA()()(),e.TgZ(33,"div",14)(34,"div",15)(35,"label",19),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",20),e.qZA()(),e.TgZ(39,"div",14)(40,"div",15)(41,"label",21),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"ng-multiselect-dropdown",22),e.NdJ("ngModelChange",function(s){return o.weekend.weekendy_mois=s})("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA()()(),e.TgZ(45,"div",14)(46,"div",15)(47,"label",23),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"ng-multiselect-dropdown",24),e.NdJ("ngModelChange",function(s){return o.weekend.annee=s})("onDropDownClose",function(){return o.onDropDownCloseAnnee()})("onSelect",function(s){return o.onItemSelectAnnee(s)})("onDeSelect",function(s){return o.onItemDeSelectAnnee(s)}),e.qZA()()()()()(),e.TgZ(51,"div",25)(52,"div",12)(53,"h4",26),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"div",4)(57,"table",27)(58,"thead")(59,"tr")(60,"th",28),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"th",28),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"th",28),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"th",28),e._uU(70),e.ALo(71,"translate"),e.qZA()()(),e.TgZ(72,"tbody"),e.YNc(73,Ro,12,15,"tr",29),e.qZA()()()()()()()()(),e.TgZ(74,"div",4)(75,"div",5)(76,"div",25)(77,"div",12)(78,"h4",13),e._uU(79),e.ALo(80,"translate"),e.qZA(),e._UZ(81,"div",15),e.TgZ(82,"table",30)(83,"thead")(84,"tr")(85,"th",31),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.TgZ(88,"th",31),e._uU(89,"%"),e.qZA(),e.TgZ(90,"th",31),e._uU(91),e.ALo(92,"translate"),e.qZA()()(),e.TgZ(93,"tbody")(94,"tr")(95,"th",32),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"td"),e._uU(99,"..."),e.qZA(),e.TgZ(100,"td"),e._uU(101),e.qZA()()()()()()()()()()()}2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,34,"GestionWeekendy")," "),e.xp6(2),e.Q6J("routerLink",e.VKq(66,Wo,o.doctorId)),e.xp6(7),e.Oqu(e.lcZ(13,36,"Sauver")),e.xp6(4),e.Oqu(e.lcZ(17,38,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(29,40,"NomBureau")),e.xp6(2),e.Q6J("ngModel",o.weekend.bureauId)("value",o.bureauId),e.xp6(2),e.hij(" ",o.agence," "),e.xp6(4),e.Oqu(e.lcZ(37,42,"SelectDoctor")),e.xp6(2),e.s9C("value",o.doctor),e.xp6(4),e.Oqu(e.lcZ(43,44,"MoisDe")),e.xp6(2),e.Q6J("data",o.moisList)("ngModel",o.weekend.weekendy_mois)("disabled",o.disabled)("settings",o.dropdownSettings)("ngModelOptions",e.DdM(68,ne)),e.xp6(4),e.Oqu(e.lcZ(49,46,"Annee")),e.xp6(2),e.Q6J("data",o.anneeList)("ngModel",o.weekend.annee)("disabled",o.disabled)("settings",o.dropdownSettingsAnnee)("ngModelOptions",e.DdM(69,ne)),e.xp6(4),e.hij(" ",e.lcZ(55,48,"DetailsVente")," "),e.xp6(7),e.Oqu(e.lcZ(62,50,"Produit")),e.xp6(3),e.Oqu(e.lcZ(65,52,"Quantite")),e.xp6(3),e.Oqu(e.lcZ(68,54,"Prix")),e.xp6(3),e.Oqu(e.lcZ(71,56,"Montant")),e.xp6(3),e.Q6J("ngForOf",o.listProducts)("ngForOf",o.weekend.items),e.xp6(6),e.Oqu(e.lcZ(80,58,"DetailsFinanciers")),e.xp6(7),e.Oqu(e.lcZ(87,60,"Libelle")),e.xp6(5),e.Oqu(e.lcZ(92,62,"Montant")),e.xp6(5),e.Oqu(e.lcZ(97,64,"TotalVente")),e.xp6(5),e.Oqu(o.chiffreAf))},dependencies:[c.rH,g.mk,g.sg,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.On,l.F,M.OP,u.X$]}),n})()},{path:"vente-by-doctor/:id",component:(()=>{class n{constructor(t,o,i,r,s,d,h){this.agenceService=t,this.route=o,this.employeService=i,this.productService=r,this.weekendyService=s,this.toastrService=d,this.translateService=h,this.doctorId="",this.keyLanguage="userLanguage",this.listWeekendyDocteur=[],this.weekendyItem=[],this.doctorList=[],this.listWeekendy=[],this.loading=!0,this.dtoptions={},this.dtTrigger=new b.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getDoctor(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}}}getAllweekendyByDoctor(){this.doctorId=this.route.snapshot.paramMap.get("id"),this.doctorId&&this.weekendyService.getAllWeekendiesByDoctor(this.doctorId).subscribe(t=>{this.listWeekendy=t,this.dtTrigger.next(null),this.loading=!1},t=>{console.log(t),this.loading=!1})}getDoctor(){this.doctorId=this.route.snapshot.paramMap.get("id"),console.log(this.doctorId),this.employeService.singleEEmployer(this.doctorId).subscribe({next:t=>{this.doctor=t.nom+" "+t.prenom,this.doctorId=t._id,this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.q),e.Y36(c.gz),e.Y36(G.g),e.Y36(L.M),e.Y36(I.x),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vente-by-doctor"]],decls:29,vars:19,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/vente-docteur",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"btn","btn-success"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"h6",6)(10,"a",7),e._UZ(11,"i",8),e._uU(12),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"div",9)(15,"div",10)(16,"table",11)(17,"thead")(18,"tr")(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Action"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,zo,10,5,"tr",12),e.qZA()()()()()()),2&t&&(e.xp6(3),e.AsE(" ",e.lcZ(4,9,"GestionWeekendy")," de ",o.doctor," "),e.xp6(7),e.Q6J("routerLink",e.VKq(17,Vo,o.doctorId)),e.xp6(2),e.hij("\xa0",e.lcZ(13,11,"EnregistrerWeekendy")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(21,13,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(24,15,"CHIFFREDAFFAIRE")),e.xp6(5),e.Q6J("ngForOf",o.listWeekendyDocteur))},dependencies:[c.rH,g.sg,v.G,g.uU,u.X$]}),n})()},{path:"paiement-doctor",component:Bo},{path:"paiement-kine",component:Po}];let Ko=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild($o),c.Bz]}),n})();var Xo=m(1744);function ie(n){return new Xo.w(n,"./assets/i18n/",".json")}let Ho=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[H],imports:[c.Bz,g.ez,l.UX,l.u5,R.zk.forRoot(),M.ZQ,Ko,J.IJ,v.T.forRoot(),u.aw.forRoot({defaultLanguage:"en",loader:{provide:u.Zw,useFactory:ie,deps:[C.eN]}})]}),n})()}}]);